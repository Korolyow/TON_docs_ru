<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="ton_whitepaper_ru.fld/filelist.xml">
<link rel=Edit-Time-Data href="ton_whitepaper_ru.fld/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Alex</o:Author>
  <o:LastAuthor>sorzhe@outlook.com</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2022-08-18T16:05:00Z</o:Created>
  <o:LastSaved>2022-08-18T16:05:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>46184</o:Words>
  <o:Characters>263249</o:Characters>
  <o:Lines>2193</o:Lines>
  <o:Paragraphs>617</o:Paragraphs>
  <o:CharactersWithSpaces>308816</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<link rel=themeData href="ton_whitepaper_ru.fld/themedata.thmx">
<link rel=colorSchemeMapping href="ton_whitepaper_ru.fld/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>ru-UA</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:DoNotOptimizeForBrowser/>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="376">
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="header"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="false" Priority="35" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="true"
   UnhideWhenUsed="true" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="FollowedHyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Balloon Text"/>
  <w:LsdException Locked="false" Priority="39" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" QFormat="true"
   Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hashtag"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Unresolved Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Link"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Courier;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:System;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:decorative;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 -2147483647 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"ＭＳ 明朝";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-536870145 1791491579 134217746 0 131231 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:바탕;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:宋体;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;
	mso-font-alt:新細明體;
	mso-font-charset:136;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;
	mso-font-alt:"ＭＳ ゴシック";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:돋움;
	mso-font-charset:129;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:黑体;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 5 9 0 0 0 0 0 0;
	mso-font-alt:細明體;
	mso-font-charset:136;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-alt:明朝;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:굴림;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:8192 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:262144 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:67110535 0 0 0 159 0;}
@font-face
	{font-family:Vrinda;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:2 11 5 2 4 2 4 2 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536869121 1107305727 33554432 0 415 0;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;
	mso-font-alt:游ゴシック;
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:等线;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-469750017 -1073732485 9 0 511 0;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-469750017 -1073732485 9 0 511 0;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:204;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536869121 1107305727 33554432 0 415 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-520081665 -1073717157 41 0 66047 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin-top:0cm;
	margin-right:.35pt;
	margin-bottom:.25pt;
	margin-left:.5pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:105%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	mso-bidi-language:EN-US;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 1 Знак";
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	mso-font-kerning:0pt;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 2 Знак";
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	mso-bidi-font-weight:normal;}
h3
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 3 Знак";
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:14.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	mso-bidi-font-weight:normal;}
h4
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 4 Знак";
	mso-style-next:Обычный;
	margin-top:0cm;
	margin-right:.35pt;
	margin-bottom:0cm;
	margin-left:.5pt;
	text-align:center;
	text-indent:-.5pt;
	line-height:107%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-unhide:no;
	mso-style-parent:"";
	margin-top:0cm;
	margin-right:1.25pt;
	margin-bottom:1.4pt;
	margin-left:6.8pt;
	text-indent:-.5pt;
	line-height:107%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-unhide:no;
	mso-style-parent:"";
	margin-top:0cm;
	margin-right:1.3pt;
	margin-bottom:1.5pt;
	margin-left:28.05pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:105%;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.footnotedescription, li.footnotedescription, div.footnotedescription
	{mso-style-name:"footnote description";
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-style-link:"footnote description Char";
	mso-style-next:Обычный;
	margin:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:112%;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-fareast-font-family:"Times New Roman";
	color:black;}
span.footnotedescriptionChar
	{mso-style-name:"footnote description Char";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"footnote description";
	mso-ansi-font-size:10.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
span.3
	{mso-style-name:"Заголовок 3 Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 3";
	mso-ansi-font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.4
	{mso-style-name:"Заголовок 4 Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 4";
	mso-ansi-font-size:12.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
span.1
	{mso-style-name:"Заголовок 1 Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 1";
	mso-ansi-font-size:16.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.2
	{mso-style-name:"Заголовок 2 Знак";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"";
	mso-style-link:"Заголовок 2";
	mso-ansi-font-size:14.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.footnotemark
	{mso-style-name:"footnote mark";
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-ansi-font-size:10.0pt;
	font-family:"Times New Roman",serif;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	vertical-align:super;}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;
	color:teal;}
span.msoDel
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("ton_whitepaper_ru.fld/header.html") fs;
	mso-footnote-continuation-separator:url("ton_whitepaper_ru.fld/header.html") fcs;
	mso-endnote-separator:url("ton_whitepaper_ru.fld/header.html") es;
	mso-endnote-continuation-separator:url("ton_whitepaper_ru.fld/header.html") ecs;
	mso-facing-pages:yes;}
@page WordSection1
	{size:595.25pt 842.0pt;
	margin:36.1pt 70.3pt 42.2pt 3.0cm;
	mso-header-margin:36.0pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh1;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h1;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef1;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f1;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh1;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff1;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.25pt 842.0pt;
	margin:36.1pt 70.5pt 60.7pt 3.0cm;
	mso-header-margin:36.0pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh2;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h2;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef2;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f2;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh2;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff2;
	mso-paper-source:0;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.25pt 46.95pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh3;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h3;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef3;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f3;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh3;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff3;
	mso-paper-source:0;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:595.25pt 842.0pt;
	margin:38.45pt 70.25pt 49.7pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh4;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h4;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef4;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f4;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh4;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff4;
	mso-paper-source:0;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.25pt 41.85pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh5;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h5;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef5;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f5;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh5;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff5;
	mso-paper-source:0;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:595.25pt 842.0pt;
	margin:38.45pt 70.25pt 44.6pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh6;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h6;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef6;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f6;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh6;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff6;
	mso-paper-source:0;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:595.25pt 842.0pt;
	margin:66.4pt 70.25pt 43.7pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh7;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h7;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef7;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f7;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh7;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff7;
	mso-paper-source:0;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:595.25pt 842.0pt;
	margin:36.1pt 70.25pt 42.35pt 3.0cm;
	mso-header-margin:36.0pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh8;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h8;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef8;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f8;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh8;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff8;
	mso-paper-source:0;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:595.25pt 842.0pt;
	margin:38.2pt 70.3pt 42.2pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh9;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h9;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef9;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f9;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh9;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff9;
	mso-paper-source:0;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.4pt 46.95pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh10;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h10;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef10;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f10;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh10;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff10;
	mso-paper-source:0;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:595.25pt 842.0pt;
	margin:38.4pt 70.35pt 44.45pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh11;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h11;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef11;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f11;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh11;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff11;
	mso-paper-source:0;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:595.25pt 842.0pt;
	margin:65.25pt 70.25pt 46.85pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh12;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h12;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef12;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f12;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh12;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff12;
	mso-paper-source:0;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.25pt 42.2pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh13;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h13;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef13;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f13;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh13;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff13;
	mso-paper-source:0;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:595.25pt 842.0pt;
	margin:38.45pt 70.25pt 44.45pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh14;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h14;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef14;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f14;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh14;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff14;
	mso-paper-source:0;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:595.25pt 842.0pt;
	margin:37.7pt 70.3pt 46.7pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh15;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h15;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef15;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f15;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh15;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff15;
	mso-paper-source:0;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:595.25pt 842.0pt;
	margin:37.85pt 70.3pt 44.45pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-title-page:yes;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh16;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h16;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef16;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f16;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh16;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff16;
	mso-paper-source:0;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:595.25pt 842.0pt;
	margin:66.45pt 70.25pt 46.7pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh17;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h17;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef17;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f17;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh17;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff17;
	mso-paper-source:0;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.3pt 44.45pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh18;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h18;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef18;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f18;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh18;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff18;
	mso-paper-source:0;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:595.25pt 842.0pt;
	margin:38.35pt 70.35pt 42.2pt 3.0cm;
	mso-header-margin:36.0pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh19;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h19;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef19;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f19;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh19;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff19;
	mso-paper-source:0;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:595.25pt 842.0pt;
	margin:66.25pt 70.25pt 46.95pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh20;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h20;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef20;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f20;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh20;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff20;
	mso-paper-source:0;}
div.WordSection20
	{page:WordSection20;}
@page WordSection21
	{size:595.25pt 842.0pt;
	margin:50.35pt 70.3pt 42.2pt 3.0cm;
	mso-header-margin:36.1pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh21;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h21;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef21;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f21;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh21;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff21;
	mso-paper-source:0;}
div.WordSection21
	{page:WordSection21;}
@page WordSection22
	{size:595.25pt 842.0pt;
	margin:38.25pt 70.3pt 46.95pt 3.0cm;
	mso-header-margin:36.0pt;
	mso-footer-margin:13.9pt;
	mso-even-header:url("ton_whitepaper_ru.fld/header.html") eh22;
	mso-header:url("ton_whitepaper_ru.fld/header.html") h22;
	mso-even-footer:url("ton_whitepaper_ru.fld/header.html") ef22;
	mso-footer:url("ton_whitepaper_ru.fld/header.html") f22;
	mso-first-header:url("ton_whitepaper_ru.fld/header.html") fh22;
	mso-first-footer:url("ton_whitepaper_ru.fld/header.html") ff22;
	mso-paper-source:0;}
div.WordSection22
	{page:WordSection22;}
 /* List Definitions */
 @list l0
	{mso-list-id:82411404;
	mso-list-type:hybrid;
	mso-list-template-ids:-842917846 1480347482 -1226911702 1369583990 126912370 -1417919368 885548874 -454539310 -1894243840 -1704547118;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l0:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1
	{mso-list-id:215364024;
	mso-list-template-ids:833356826;}
@list l1:level1
	{mso-level-start-at:2;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level2
	{mso-level-start-at:8;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level3
	{mso-level-start-at:2;
	mso-level-reset-level:level1;
	mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.5pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l1:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2
	{mso-list-id:435562762;
	mso-list-template-ids:766822000;}
@list l2:level1
	{mso-level-start-at:2;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level2
	{mso-level-start-at:5;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level3
	{mso-level-start-at:13;
	mso-level-reset-level:level1;
	mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.5pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l2:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3
	{mso-list-id:514611502;
	mso-list-type:hybrid;
	mso-list-template-ids:230592860 -445211030 -414682746 -1268593640 1520057890 -299215726 -707085684 331124364 963006778 -1815172072;}
@list l3:level1
	{mso-level-start-at:15;
	mso-level-text:"\[%1\]";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:35.55pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l3:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4
	{mso-list-id:720133993;
	mso-list-type:hybrid;
	mso-list-template-ids:309614376 75254098 1402117090 -1542961954 1186113184 -1043669540 -20529356 -1082651830 -2034479532 1848378176;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l4:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l5
	{mso-list-id:733116446;
	mso-list-type:hybrid;
	mso-list-template-ids:-1174866814 -1346467346 569918 -1566160092 53903352 -1357242376 -1219195542 -959549192 1052821170 1438037388;}
@list l5:level1
	{mso-level-start-at:3;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:5.8pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l5:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l6
	{mso-list-id:947391205;
	mso-list-template-ids:732834630;}
@list l6:level1
	{mso-level-start-at:2;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level2
	{mso-level-start-at:5;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level3
	{mso-level-start-at:8;
	mso-level-reset-level:level1;
	mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.5pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l6:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7
	{mso-list-id:969242875;
	mso-list-type:hybrid;
	mso-list-template-ids:149039250 -257813328 67391308 1706311870 461408296 176467688 -1836424142 690901460 -1551350866 -115582236;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l7:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8
	{mso-list-id:992877474;
	mso-list-type:hybrid;
	mso-list-template-ids:-1164684180 1229888012 1657033532 -1191134916 -1580583876 1457449808 -615983044 45116888 1550506962 -1330878464;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l8:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9
	{mso-list-id:1074742412;
	mso-list-type:hybrid;
	mso-list-template-ids:-1109251392 -2112177926 -351868312 549509764 -2110108720 22839152 -2044184200 498785524 378056958 -1314861848;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l9:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10
	{mso-list-id:1137726056;
	mso-list-template-ids:1099612376;}
@list l10:level1
	{mso-level-start-at:3;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level2
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level3
	{mso-level-start-at:11;
	mso-level-reset-level:level1;
	mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.5pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l10:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11
	{mso-list-id:1170947234;
	mso-list-type:hybrid;
	mso-list-template-ids:-1278162858 877296846 -1859325374 1559146206 320786884 -150960700 793573862 -1908891054 -1759888918 319705138;}
@list l11:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l11:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12
	{mso-list-id:1297178805;
	mso-list-type:hybrid;
	mso-list-template-ids:-1436883350 -201300022 815401522 2145306922 161528956 -1864720312 1906891994 786470836 1902794250 291117428;}
@list l12:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l12:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l13
	{mso-list-id:1311448226;
	mso-list-type:hybrid;
	mso-list-template-ids:1451909962 -1717262490 1884064404 -1189812048 874137386 1844367984 -1610872904 -1644110358 -528849348 1902035008;}
@list l13:level1
	{mso-level-start-at:8;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:.5pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l13:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l14
	{mso-list-id:1326544373;
	mso-list-type:hybrid;
	mso-list-template-ids:-113580926 106721274 744627918 962483110 1455836580 296898802 -782567340 1867575476 -605800904 -1888707690;}
@list l14:level1
	{mso-level-text:"\[%1\]";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:35.55pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l14:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15
	{mso-list-id:1464228807;
	mso-list-template-ids:1310994510;}
@list l15:level1
	{mso-level-start-at:3;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level2
	{mso-level-start-at:2;
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level3
	{mso-level-start-at:8;
	mso-level-reset-level:level1;
	mso-level-text:"%1\.%2\.%3\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.5pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l15:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:bold;
	mso-bidi-font-weight:bold;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16
	{mso-list-id:1818648172;
	mso-list-type:hybrid;
	mso-list-template-ids:433880620 -126310600 2059822542 118809438 559448752 -142867812 -1797354636 2143088058 2010265622 617650834;}
@list l16:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l16:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l17
	{mso-list-id:1824202257;
	mso-list-type:hybrid;
	mso-list-template-ids:1757571648 -1747948220 850066074 1946437862 880444794 207147396 1037176250 -736075462 1166448058 -1562619244;}
@list l17:level1
	{mso-level-start-at:18;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:.5pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l17:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l18
	{mso-list-id:2003123436;
	mso-list-type:hybrid;
	mso-list-template-ids:-801741798 -1277919912 648569470 -514135780 1522987810 -371531700 1550191596 -1698675958 713328680 98455146;}
@list l18:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:7.25pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l18:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.0pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19
	{mso-list-id:2014070298;
	mso-list-type:hybrid;
	mso-list-template-ids:1197752608 -1297729904 -1363268044 -505353934 -1370346432 -222504312 943357846 38179444 145497724 -93150512;}
@list l19:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l19:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l20
	{mso-list-id:2102678075;
	mso-list-type:hybrid;
	mso-list-template-ids:-1350541960 392331548 1881841178 -252415564 -2117190206 -1904576412 590755568 -533803804 -648261786 -2040247552;}
@list l20:level1
	{mso-level-start-at:11;
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.55pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:%2;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:90.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level3
	{mso-level-number-format:roman-lower;
	mso-level-text:%3;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level4
	{mso-level-text:%4;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:162.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:%5;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:198.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level6
	{mso-level-number-format:roman-lower;
	mso-level-text:%6;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:234.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level7
	{mso-level-text:%7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:270.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:%8;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:306.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l20:level9
	{mso-level-number-format:roman-lower;
	mso-level-text:%9;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:342.05pt;
	text-indent:0cm;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:super;}
@list l21
	{mso-list-id:2106803966;
	mso-list-type:hybrid;
	mso-list-template-ids:1960071008 2073852660 1410122778 -778002356 226662084 -1928020500 -1364178934 -68263694 -1420243174 -1257492764;}
@list l21:level1
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level3
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:108.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level4
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:144.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level5
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level6
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:216.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level7
	{mso-level-number-format:bullet;
	mso-level-text:•;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:252.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level8
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:288.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
@list l21:level9
	{mso-level-number-format:bullet;
	mso-level-text:▪;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:324.05pt;
	text-indent:0cm;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	mso-ascii-font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;
	border:none;
	mso-ansi-font-weight:normal;
	mso-ansi-font-style:normal;
	text-underline:black;
	text-decoration:none;
	text-underline:none;
	text-decoration:none;
	text-line-through:none;
	vertical-align:baseline;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
table.TableGrid
	{mso-style-name:TableGrid;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-padding-alt:0cm 0cm 0cm 0cm;
	mso-para-margin:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2072"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="2"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ru-UA style='tab-interval:35.4pt;word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:2.8pt;text-align:center;text-indent:0cm;
line-height:107%'><span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:2.8pt;text-align:center;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:4.25pt;margin-left:2.8pt;text-align:center;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:4.3pt;text-align:center;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:18.0pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.25pt;
margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:18.0pt;mso-bidi-font-size:12.0pt;
line-height:107%'>The</span><span lang=EN-US style='font-size:18.0pt;
mso-bidi-font-size:12.0pt;line-height:107%;mso-ansi-language:RU'> </span><span
lang=EN-US style='font-size:18.0pt;mso-bidi-font-size:12.0pt;line-height:107%'>Open</span><span
lang=EN-US style='font-size:18.0pt;mso-bidi-font-size:12.0pt;line-height:107%;
mso-ansi-language:RU'> </span><span lang=EN-US style='font-size:18.0pt;
mso-bidi-font-size:12.0pt;line-height:107%'>Network</span><span lang=EN-US
style='font-size:18.0pt;mso-bidi-font-size:12.0pt;line-height:107%;mso-ansi-language:
RU'> </span><span lang=RU style='mso-ansi-language:RU'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.15pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=RU style='font-size:13.0pt;mso-bidi-font-size:12.0pt;line-height:107%;
mso-ansi-language:RU'>на основе работы доктора Николая Дурова </span><span
lang=RU style='mso-ansi-language:RU'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.3pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US style='font-size:13.0pt;mso-bidi-font-size:12.0pt;line-height:107%'>26
июля 2021 г. </span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:2.8pt;text-align:center;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.3pt;
margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>Аннотация </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:35.4pt;margin-bottom:
1.0pt;margin-left:42.55pt;text-indent:0cm;line-height:105%'><span lang=EN-US
style='font-size:10.5pt;mso-bidi-font-size:12.0pt;line-height:105%'>Цель данной
работы - предоставить первое описание блокчейн-платформы TON (The Open Network)
и связанных с ней технологий одноранговых сетей, распределенного хранилища и
хостинга. Чтобы уменьшить размер этого документа до разумного объема, мы
сосредоточимся в основном на уникальных и определяющих функциях платформы TON,
которые важны для достижения поставленных целей. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.7pt;margin-left:42.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:-.25pt;text-align:left;line-height:107%'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:16.0pt;
mso-bidi-font-size:12.0pt;line-height:107%'>Введение </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><i style='mso-bidi-font-style:normal'><span lang=EN-US>The
Open Network (TON)</span></i><span lang=EN-US> - это быстрая, безопасная и
«криптографически запечатанная» блокчейн-платформа. При необходимости этот
сетевой проект может обрабатывать миллионы транзакций в секунду, поэтому TON
является столь удобным для пользователя и поставщика услуг. Мы стремимся к
тому, чтобы на этой блокчейнплатформе можно было разместить все практически
применимые приложения, предлагаемые и задуманные в настоящее время. TON можно
описать как огромный распределенный суперкомпьютер или, скорее, как огромный
«суперсервер», предназначенный для размещения и предоставления различных услуг.
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Данный документ не предоставляет
исчерпывающую информацию обо всех деталях реализации проекта. Некоторые особенности
могут измениться на этапах разработки и тестирования. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Переведено на русский язык: </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:
12.0pt;line-height:107%;font-family:"Sylfaen",serif;mso-fareast-font-family:
Sylfaen;mso-bidi-font-family:Sylfaen'>EQCLk1384-rYMhauBsAT36YABMN5yOTNbgM29THdANTW4-qK</span><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:107%'>
</span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>           </span><span
style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:3.65pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>Введение </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.75pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:-.25pt;text-align:left;line-height:107%'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:16.0pt;
mso-bidi-font-size:12.0pt;line-height:107%'>Содержание </span></b></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<w:Sdt SdtDocPart="t" DocPartType="Table of Contents" ID="1943723630">
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><!--[if supportFields]><span
 style='mso-element:field-begin'></span><span
 style='mso-spacerun:yes'> </span>TOC \o &quot;1-2&quot; \h \z \u <span
 style='mso-element:field-separator'></span><![endif]--><a href="#_Toc116689"><span
 style='color:black;text-decoration:none;text-underline:none'>1<span
 style='mso-spacerun:yes'>  </span>Краткое описание компонентов TON<span
 style='mso-tab-count:1'>                                                                       </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116689 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>3 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600380039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a><span
 lang=EN-US style='mso-ansi-language:EN-US;mso-fareast-language:EN-US;
 mso-bidi-language:EN-US;font-weight:normal'><w:sdtPr></w:sdtPr></span></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116690"><span
 style='color:black;text-decoration:none;text-underline:none'>2<span
 style='mso-spacerun:yes'>  </span>Блокчейн TON<span style='mso-tab-count:1'>                                                                                                               </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116690 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>4 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116691"><span
 style='color:black;text-decoration:none;text-underline:none'>2.1. Блокчейн TON
 как структура, состоящая из 2D-блокчейнов<span style='mso-tab-count:1'>                           </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116691 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>4 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116692"><span
 style='color:black;text-decoration:none;text-underline:none'>2.2. Общие
 сведения о блокчейнах<span style='mso-tab-count:1'>                                                                          </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116692 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>12 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116693"><span
 style='color:black;text-decoration:none;text-underline:none'>2.3. Состояние
 блокчейна, учетные записи и хэш-карты<span style='mso-tab-count:1'>                                      </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116693 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>15 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116694"><span
 style='color:black;text-decoration:none;text-underline:none'>2.4. Сообщения
 между шардчейнами<span style='mso-tab-count:1'>                                                                      </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116694 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>22 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116695"><span
 style='color:black;text-decoration:none;text-underline:none'>2.5. Глобальное
 состояние шардчейна. Философия «мешка ячеек»<span style='mso-tab-count:1'>                     </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116695 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>29 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116696"><span
 style='color:black;text-decoration:none;text-underline:none'>2.6. Создание и
 проверка новых блоков<span style='mso-tab-count:1'>                                                                  </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116696 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>34 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116697"><span
 style='color:black;text-decoration:none;text-underline:none'>2.7. Разделение и
 объединение шардчейнов<span style='mso-tab-count:1'>                                                           </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116697 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>43 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116698"><span
 style='color:black;text-decoration:none;text-underline:none'>2.8.
 Классификация блокчейн-проектов<span style='mso-tab-count:1'>                                                                  </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116698 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>46 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116699"><span
 style='color:black;text-decoration:none;text-underline:none'>2.9. Сравнение с
 другими блокчейн-проектами<span style='mso-tab-count:1'>                                                     </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116699 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>56 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003600390039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116700"><span
 style='color:black;text-decoration:none;text-underline:none'>3<span
 style='mso-spacerun:yes'>  </span>Система TON Networking<span
 style='mso-tab-count:1'>                                                                                          </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116700 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>60 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116701"><span
 style='color:black;text-decoration:none;text-underline:none'>3.1. Сетевой
 уровень абстрактной датаграммы<span style='mso-tab-count:1'>                                                      </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116701 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>61 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116702"><span
 style='color:black;text-decoration:none;text-underline:none'>3.2. TON DHT:
 Распределенная хеш-таблица, подобная Kademlia<span style='mso-tab-count:1'>                      </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116702 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>63 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116703"><span
 style='color:black;text-decoration:none;text-underline:none'>3.3. Оверлейные
 сети и многоадресные сообщения<span style='mso-tab-count:1'>                                               </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116703 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>68 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116704"><span
 style='color:black;text-decoration:none;text-underline:none'>4<span
 style='mso-spacerun:yes'>  </span>Сервисы и приложения TON<span
 style='mso-tab-count:1'>                                                                                    </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116704 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>73 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116705"><span
 style='color:black;text-decoration:none;text-underline:none'>4.1. Стратегии
 внедрения сервисов TON<span style='mso-tab-count:1'>                                                                 </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116705 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>73 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116706"><span
 style='color:black;text-decoration:none;text-underline:none'>4.2. Подключение
 пользователей и поставщиков услуг<span style='mso-tab-count:1'>                                        </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116706 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>76 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116707"><span
 style='color:black;text-decoration:none;text-underline:none'>4.3. Доступ к
 сервисам TON<span style='mso-tab-count:1'>                                                                                     </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116707 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>78 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116708"><span
 style='color:black;text-decoration:none;text-underline:none'>5<span
 style='mso-spacerun:yes'>  </span>Платежная система TON Payments<span
 style='mso-tab-count:1'>                                                                         </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116708 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>83 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116709"><span
 style='color:black;text-decoration:none;text-underline:none'>5.1. Каналы
 оплаты<span style='mso-tab-count:1'>                                                                                                    </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116709 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>83 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700300039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc2 style='tab-stops:right 439.9pt'><a href="#_Toc116710"><span
 style='color:black;text-decoration:none;text-underline:none'>5.2. Сеть
 платежных каналов или «сеть мгновенных платежей» (Lightning)<span
 style='mso-tab-count:1'>      </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116710 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>88 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700310030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116711"><span
 style='color:black;text-decoration:none;text-underline:none'>Вывод<span
 style='mso-tab-count:1'>                                                                                                                                 </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116711 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>91 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700310031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoToc1 style='tab-stops:right 439.9pt'><a href="#_Toc116712"><span
 style='color:black;text-decoration:none;text-underline:none'>Приложение A.
 Монета TON Coin<span style='mso-tab-count:1'>                                                                               </span></span><!--[if supportFields]><span
 style='color:black;text-decoration:none;text-underline:none'><span
 style='mso-element:field-begin'></span>PAGEREF _Toc116712 \h<span
 style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:black;text-decoration:none;text-underline:none'>93 <!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000B0000005F0054006F0063003100310036003700310032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:black;
 text-decoration:none;text-underline:none'><span style='mso-element:field-end'></span></span><![endif]--></a></p>
 <p class=MsoNormal><!--[if supportFields]><span lang=EN-US><span
 style='mso-element:field-end'></span></span><![endif]--><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
</w:Sdt>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'>         </span></span></b><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>         </span><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>         </span><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>         </span><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.8pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>         </span><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.65pt;margin-left:5.55pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>         </span><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:6.05pt'><span lang=EN-US>Глава 1. Краткое описание компонентов TON </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.65pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.75pt;text-indent:0cm;tab-stops:center 170.35pt'><a
name="_Toc116689">1<span style='mso-spacerun:yes'>  </span><span
style='mso-tab-count:1'>     </span>Краткое описание компонентов TON </a></h1>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:-.25pt'><i style='mso-bidi-font-style:normal'><span lang=EN-US>The
Open Network (TON)</span></i><span lang=EN-US> представляет собой комбинацию
следующих компонентов: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Гибкая платформа из нескольких
блокчейнов (блокчейн TON; см. Главу 2), способная обрабатывать миллионы
транзакций в секунду. Благодаря полными по Тьюрингу смарт-контрактам,
обновляемым формальным спецификациям блокчейна, транзакциям стоимости для
нескольких криптовалют, поддержке каналов микроплатежей и внецепочным платежным
платформам, блокчейн TON представляет некоторые новые и уникальные функции,
такие как механизм «самовосстановления» вертикального блокчейна (см. 2.1.17) и
мгновенная маршрутизация в гиперкубе (Instant Hypercube Routing, см. 2.4.20),
которые обеспечивают быстроту, надежность, закрытость и в то же время
самосогласованность платформы; </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Одноранговая сеть (сеть TON P2P
или просто сеть TON; см. Главу 3), используемая для доступа к блокчейну TON,
отправки возможных транзакций и получения обновлений только о тех сегментах
блокчейна, которые интересуют клиента (например, сегменты, которые связаны с
учетными записями клиента и смарт-контрактами), а также способная поддерживать
произвольные распределенные службы, независимо от того, связаны они с
блокчейном или нет; </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Технология распределенного
хранения файлов (TON Storage; см. 4.1.7) в сети TON, используемая блокчейном
TON для хранения архивных копий блоков и данных о состоянии (зафиксированных
снимков состояния), а также доступная для хранения произвольных файлов
пользователей или других служб, работающих на платформе (технология доступа подобная
торрент-сети); </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.75pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Уровень сетевого
посредника/анонимайзера (TON Proxy; см. 4.1.10 и 3.1.6), аналогичный 12P
(Invisible Internet Project), при необходимости используемый для сокрытия
идентичности и IP-адресов узлов сети TON (например, узлов, с которых совершаются
транзакции из учетных записей с большим количеством криптовалюты, или
высокоуровневые узлы валидатора блокчейна, для которых необходимо скрыть их
точный IP-адрес и географическое положение в качестве меры против DDoS-атак); </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Распределенная хэш-таблица на
основе варианта Kademlia (TON DHT; см. 3.2), используемая в качестве
«торрент-трекера» для TON Storage (см. 3.2.10), «локатора входного туннеля» для
TON Proxy (см. 3.2.14), а также в качестве средства поиска услуг для сервиса
TON Services (см. 3.2.12); </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Платформа для произвольных
сервисов (TON Services; см. Главу 4), находящихся и доступных при помощи TON
Network и TON Proxy, и имеющих формализованные интерфейсы (см. 4.3.14), которые
обеспечивают взаимодействие с приложениями в браузере или смартфоне. Эти
формальные интерфейсы и постоянные точки входа в сервисы могут быть
опубликованы в блокчейне TON (см. 4.3.17). Фактические узлы, предоставляющие
услуги в любой момент времени, можно будет просмотреть через TON DHT, начиная с
информации, опубликованной в блокчейне TON (см. 3.2.12). Службы могут создавать
смарт-контракты в блокчейне TON и обеспечивать некоторые </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:36.55pt'><span lang=EN-US>гарантии для своих клиентов (см. .
4.1.6); </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TON DNS (см. 4.3.1) - сервис
для присвоения удобочитаемых имен учетным записям, смарт-контрактам, службам и
сетевым узлам; </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.85pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TON Payments (см. Главу 5) -
платформа для микроплатежей, каналы микроплатежей и сеть каналов микроплатежей.
Эту платформу можно использовать для быстрых внецепочных транзакций стоимости,
а также для оплаты услуг, предоставляемых TON Services. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l11 level1 lfo1'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TON будет обеспечивать легкую
интеграцию со сторонними приложениями для обмена сообщениями и социальными
сетями, что сделает технологию<span style='mso-spacerun:yes'>  </span></span></p>

<h3 align=center style='margin-right:3.6pt;text-align:center'><span
style='font-size:12.0pt;line-height:107%;font-weight:normal'>Глава 1. Краткое
описание компонентов TON </span></h3>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.55pt'><span lang=EN-US>блокчейна и распределенных сервисов
доступными для обычных пользователей (см. 4.3.23), а не только для небольшого
количества первых пользователей криптовалюты. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Несмотря на то, что блокчейн TON является
ядром проекта TON, а другие компоненты рассматриваются как вспомогательные
сервисы для блокчейна, сами по себе они обладают полезными и интересными
функциями. В совокупности они позволяют разместить на платформе более
универсальные приложения, если сравнивать с использованием обычного блокчейна
TON (см. 2.9.13 и 4.1). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.75pt;text-indent:0cm;tab-stops:center 90.5pt'><a
name="_Toc116690">2<span style='mso-spacerun:yes'>  </span><span
style='mso-tab-count:1'>     </span>Блокчейн TON </a></h1>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Начнем с описания блокчейна The Open
Network (TON), который является ключевым компонентом проекта. Будет
использоваться подход «сверху вниз» - сначала мы дадим общее описание всей
структуры, а затем предоставим более подробную информацию о каждом компоненте. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Для простоты мы будем использовать термин
«блокчейн TON», хотя в принципе несколько экземпляров этого протокола блокчейна
могут работать независимо друг от друга (например, в результате хард-форков).
Мы будем рассматривать только один блокчейн TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116691">2.1. Блокчейн TON как
структура, состоящая из 2D-блокчейнов </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Блокчейн TON на самом деле представляет
собой несколько блокчейнов (в нем используются два блокчейна - этот момент
будет прояснен позже в п. 2.1.17), потому что ни один блокчейн не способен
достичь нашей цели по обработке миллионов транзакций в секунду, в отличие от
текущего стандарта в несколько десятков транзакций в секунду. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.1.
Типы блокчейнов</span></b><span lang=EN-US>. Концепция блокчейна TON состоит из
четырёх уровней: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l7 level1 lfo2'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Уникальная единая корневая цепь
(или сокращенно мастерчейн), содержащая общую информацию о протоколе и текущих
значениях его параметров, наборе валидаторов и их стейках, наборе текущих
активных воркчейнов<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l7 level1 lfo2'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>(воркчейнов) и соответствующих
«шардов», и, что наиболее важно, набор хэшей самых последних блоков всех
воркчейнов и шардчейнов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l7 level1 lfo2'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Несколько (до 2<sup>32</sup>)
воркчейнов (или сокращенно воркчейнов), которые на самом деле являются
«рабочими лошадками», содержащими транзакции стоимости и транзакции
смарт-контрактов. Разные воркчейны могут иметь разные «правила», то есть разный
формат адресов учетной записи, разный формат транзакций, разные криптовалюты,
разные виртуальные машины для обработки кода смарт-контрактов и т.д. Однако все
они должны удовлетворять определенным основным критериям совместимости, чтобы
обеспечить взаимодействие между различными воркчейнами и сделать его
относительно простым. В этом отношении воркчейны в TON аналогичны EOS (см.
2.9.7) и PolkaDot (см. 2.9.8), где блокчейн также является гетерогенным (см.
2.8.8). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l7 level1 lfo2'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>В свою очередь, каждый воркчейн
подразделяется на шардчейны (которых максимум 2 в 60 степени), имеющие те же
правила и формат блока, что и сам воркчейн, но отвечающие только за
подмножество учетных записей, в зависимости от нескольких первых (наиболее
значимых) битов адреса аккаунта. Другими словами, в систему встроена форма
сегментирования (см. 2.8.12). Поскольку во всех этих шардчейнах используется
общий формат блоков и правила, блокчейн TON в этом отношении является
гомогенным (см. 2.8.8), аналогично к тому, что обсуждалось в одном из
предложений по запечатыванию сети Ethereum<sup>1</sup>. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l7 level1 lfo2'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Каждый блок в шардчейне (и в
мастерчейне) на самом деле является не просто блоком, а небольшим блокчейном.
Обычно этот «блокчейн» или «вертикальный блокчейн» состоит ровно из одного
блока, и тогда можно подумать, что это всего лишь соответствующий блок шардчейна
(в этой ситуации также называемого «горизонтальной цепью»). Однако, если
возникает необходимость исправить некорректные блоки шардчейна, новый блок
фиксируется в «вертикальном блокчейне», содержащем либо замену недопустимого
блока «горизонтального блокчейна», либо «характеристики различия блоков»,
содержащие только описание тех частей предыдущей версии этого блока, которые
необходимо изменить. Это специфичный для TON механизм замены обнаруженных
недопустимых блоков без создания истинного форка всех задействованных
шардчейнов (более подробно этот процесс будет объясняться в п. 2.1.17). На
данный момент следует просто отметить, что каждый шардчейн (и мастерчейн) - это
не обычный блокчейн, а цепь блокчейнов (2D-блокчейн или просто 2-блокчейн). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.2.
Парадигма бесконечного шардинга</span></b><span lang=EN-US>. Практически все
решения по шардингу блокчейнов являются «нисходящими»: сначала представляется
единый блокчейн, а затем обсуждаются способы его разделения на несколько
взаимодействующих шардчейнов для повышения производительности и достижения
масштабируемости. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«Восходящий» подход к шардингу в платформе
TON объясняется следующим образом. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><span lang=EN-US>Представьте, что шардинг доведено до
крайности, так что в каждом шардчейне остается ровно одна учетная запись или
смарт-контракт. При этом имеется огромное количество «цепочек учетных записей»,
каждая из которых описывает состояние и<span style='mso-spacerun:yes'> 
</span>переходы между состояниями только одной учетной записи и отправляет на
другие цепи сообщения о переносе стоимости и информации. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Конечно, использовать сотни миллионов
блокчейнов – это непрактично, причем обновления (т. е. новые блоки) в каждом
блокчейне обычно довольно редко появляются. Чтобы обеспечить более высокую
эффективность системы, мы группируем эти «цепочки учетных записей» в
«шардчейны», так что каждый блок шардчейна по существу представляет собой<span
style='mso-spacerun:yes'>  </span>набор блоков цепочек учетных записей, которые
были назначены этому шарду.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, «цепочки учетных записей»
существуют только исключительно виртуально или логически внутри
«шардчейнов».<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы называем эту перспективу парадигмой
бесконечного шардинга, которая объясняет многие проектные решения для блокчейна
TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.3.
Сообщения. Мгновенная маршрутизация в гиперкубе (Instant Hypercube Routing)</span></b><span
lang=EN-US>. В парадигме бесконечного шардинга каждая учетная запись (или
смартконтракт) рассматривается так, как если бы она сама находилась в отдельном
шардчейне. Тогда единственный способ, при помощи которого одна учетная запись
может повлиять на состояние другой учетной записи, - это отправить ей сообщение
(это особый случай так называемой модели акторов, причем в роли акторов
выступают учетные записи; см. 2.4.2). Следовательно, система передачи сообщений
между учетными записями (и шардчейнами, поскольку исходная и конечная учетные
записи, как правило, расположены в разных шардчейнах) имеет первостепенное
значение для запечатываемой системы, такой как блокчейн TON. Фактически, новая
функция блокчейна TON, называемая Instant Hypercube Routing (см. 2.4.20),
обеспечивает доставку и обработку сообщений, созданных в блоке одного
шардчейна, в следующий блок целевого шардчейна, независимо от общего количества
шардчейнов в системе. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<h4 style='margin-right:3.45pt'>2.1. Блокчейн TON как структура, состоящая из
2D-блокчейнов </h4>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_91571" o:spid="_x0000_s2070"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQD2hexEbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVNFu2yAUfZ+0f0B+X+ykSbpacfqwbnmZ
tqrtPoBgsC1hQEDi5O93ubaJl07V1PnBxnDv4Z7D4W7uT60kR25do1WRzGdZQrhiumxUVSS/Xr59
+pwQ56kqqdSKF8mZu+R++/HDpjM5X+hay5JbAiDK5Z0pktp7k6epYzVvqZtpwxUsCm1b6uHXVmlp
aQforUwXWbZOO21LYzXjzsHsQ7+YbBFfCM78TyEc90QWCdTm8W3xvQ/vdLuheWWpqRs2lEHfUUVL
GwWbRqgH6ik52OYVVNswq50WfsZ0m2ohGsaRA7CZZ1dsdlYfDHKp8q4yUSaQ9kqnd8OyH8edNc/m
0YISnalAC/wLXE7CtuELVZITSnaOkvGTJwwmV6vl3WK9TgiDtfXNalCU1SD7qyRWf30rLR23TP8o
pDNgDXdh7/6P/XNNDUdRXQ7sHy1pSnDu/PZmDV5VtAWXYgwZ5lAYjI0yudyBYu/S6G6+XAbXRbI0
Zwfnd1yj1vT43fnelOU4ovU4Yic1Di1Y+01TG+pDXigyDEk3Oay6SLCOsNjqI3/RGOavTgxqvKxK
NY2K5z5aAmLHiPFrEG8aOSE/Bo3fPhiuKAD+Yxh6Le4Lg8ATlY3cYXKqrlRBBtiEUeg1QlKPl7Zt
PDQh2bTgg8Vtll2AAS3Yrz9tHPmz5EEsqZ64AOvgxQgTzlb7L9KSIw2tBh8Ep9LUdJgdDn4IxVIR
J+SLRsoIOcfUv0H21hmCQx7HLhczsz6TDdX0rQ4aBpAeGx6IEpNwZ618zFfQprHMCdsw3OvyjE0C
BYH7iNJgX0IeQw8NjW/6j1GXTr/9DQAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQD2hexEbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117368" o:spid="_x0000_s2071" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQA8iHxgygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9BS8NA
EIXvgv9hGcGL2E0Va5N2W4oiePCStj9gyI5JMDsbspMm+uudg+Bl4DG877233c+hMxcaUhvZwXKR
gSGuom+5dnA+vd2vwSRB9thFJgfflGC/u77aYuHjxCVdjlIbhXAq0EEj0hfWpqqhgGkRe2L9fcYh
oKgcausHnBQeOvuQZSsbsGVNaLCnl4aqr+MYHBzwKc9luvv5WMdxPGVlPkrpnbu9mV83eg4bMEKz
/Dv+EO9eNyyfH1faWkepALv7BQAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhADyIfGDKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=437 height=1 v:shapes="Group_x0020_91571 Shape_x0020_117368"><![endif]><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><![endif]--></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1064" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.4.
Количество мастерчейнов, воркчейнов и шардчейнов</span></b><span lang=EN-US>.
Блокчейн TON содержит ровно один мастерчейн. Однако система потенциально может
вместить до </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2<sup>32</sup> воркчейнов, каждый из
которых будет разделен на 2<sup>60</sup> сегментов. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.5.
Воркчейны могут быть виртуальными, а не настоящими блокчейнами</span></b><span
lang=EN-US>. Поскольку воркчейн обычно подразделяется на шардчейны,
существование воркчейна является «виртуальным» - это не настоящий блокчейн в
смысле общего определения, приведенного в 2.2.1 ниже, а просто набор
шардчейнов. Если воркчейну соответствует только один шардчейн, этот уникальный
шардчейн может быть идентифицирован с воркчейном, который в этом случае
становится «настоящим» блокчейном (как минимум на некоторое время), таким
образом, приобретая внешнее сходство с обычной структурой, в которой
используется один блокчейн. Однако парадигма бесконечного шардинга (см. 2.1.2)
говорит нам, что такое сходство является только внешним: это просто совпадение,
что потенциально огромное количество «цепочек учетных записей» может быть временно
сгруппировано в один блокчейн. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.1.6. Идентификация воркчейнов</span></b><span
lang=EN-US>. Каждый воркчейн идентифицируется на основании своего номера или
идентификатора воркчейна (workchain_id : uint</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>32</span><span
lang=EN-US>), который представляет собой 32-битное целое число без знака.
Воркчейны создаются специальными транзакциями в мастерчейне, определяющими
ранее неиспользованный идентификатор воркчейна и формальное описание
воркчейна,<span style='mso-spacerun:yes'>  </span>которое является достаточным
для взаимодействия этой воркчейна с другими воркчейнами, а также для
поверхностной проверки блоков этого воркчейна. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.7.
Создание и активация новых воркчейнов</span></b><span lang=EN-US>. Создание
нового воркчейна может быть инициировано практически любым членом сообщества,
готовым заплатить (высокие) комиссии за транзакции в мастерчейне, необходимые
для публикации формальной спецификации нового воркчейна. Однако для того, чтобы
новый воркчейн стал активным, требуется консенсус в две трети валидаторов,
поскольку им необходимо будет обновить свое программное обеспечение для
обработки блоков нового воркчейна и сигнализировать о своей готовности работать
с новым воркчейном при помощи специальных транзакций в мастерчейне. Сторона,
заинтересованная в активации нового воркчейна, может предоставить валидаторам
некоторый стимул для поддержки нового воркчейна посредством вознаграждений,
распределяемых при помощи смарт-контракта. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.8.
Идентификация шардчейнов</span></b><span lang=EN-US>. Каждый шардчейн
идентифицируется парой (w, s) = (workchain_id, shard_prefix), где workchain_id:
uint</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>32</span><span lang=EN-US> идентифицирует соответствующий
воркчейн, а shard_prefix: 2<sup>0…60</sup> - это строка битов длиной не более
60, определяющая подмножество учетных записей, за которые отвечает этот
шардчейн. А именно, все учетные записи с идентификатором account_id,
начинающимся с префикса shard_prefix (т. е. имеющие префикс shard_prefix в
качестве наиболее значимых битов), будут назначены этому шардчейну. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.9.
Идентификация цепочек учетных записей</span></b><span lang=EN-US>. Напомним,
что цепочки учетных записей существуют только виртуально (см. 2.1.2). Однако у
них есть естественный идентификатор, а именно (workchain_id, account_id),
поскольку любая цепочка учетных записей содержит информацию о состоянии и
обновлениях ровно одной учетной записи (различие между обычной учетной записью
или смарт-контрактом здесь не имеет значения). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.10.
Динамическое разделение и объединение шардчейнов (см 2.7)</span></b><span
lang=EN-US>. В менее сложной системе может использоваться статический шардинг -
например, с использованием первых восьми битов идентификатора account_id для
выбора одного из 256 предопределенных шардов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Важной особенностью блокчейна TON является
то, что в нем реализуется динамический шардинг – это означает, что количество
шардов не является фиксированным. Вместо этого шард (w, s) можно автоматически
разделить на несколько новых шардов (w,s.0) и (w, s.1), если выполняются
некоторые формальные условия (по сути, если транзакционная нагрузка на исходный
шард достаточно высока в течение продолжительного периода времени). И наоборот,
если нагрузка остается слишком низкой в течение некоторого периода времени,
шарды (w, s.0) и (w, s.1) могут быть автоматически объединены в исходный шард
(w, s). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Изначально для воркчейна w создается
только один шард (w, θ). Позже при необходимости он может быть разделен на
несколько шардов (см. 2.7.6 и 2.7.8). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.11.
Исходный воркчейн или Workchain Zero</span></b><span lang=EN-US>. Несмотря на
то, что в системе может быть создано до 2<sup>32</sup> воркчейнов с
соответствующими конкретными правилами и транзакциями, изначально задается
только один воркчейн (workchain_ id = 0). Этот воркчейн, называемый Workchain
Zero или исходный воркчейн, используется для работы со смарт-контрактами TON и
перевода монет TON (см. Приложение). Скорее всего, для большинства приложений
потребуется только Workchain Zero. Шардчейны базового воркчейна будут
называться исходными шардчейнами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.12.
Интервалы генерации блоков</span></b><span lang=EN-US>. Ожидается, что новый
блок будет генерироваться в каждом шардчейне и мастерчейне примерно раз в пять
секунд. Это приведет к разумно малому времени подтверждения транзакции. Новые
блоки всех шардчейнов будут генерироваться примерно одновременно; новый блок
мастерчейна создается примерно на одну секунду позже, поскольку он должен
содержать хэши последних блоков всех шардчейнов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.13.
Использование мастерчейна для создания тесной взаимосвязи между воркчейнами и
шардчейнами</span></b><span lang=EN-US>. После включения хэша блока шардчейна в
блок мастерчейна этот блок шардчейна и все предшествующие ему блоки считаются
«эталонными». Это означает, что все последующие блоки всех шардчейнов могут на
них ссылаться как на нечто фиксированное и неизменяемое. Фактически, каждый
новый блок шардчейна содержит хэш самого последнего блока мастерчейна, поэтому
новый блок считает все блоки шардчейна, на которые ссылается этот блок
мастерчейна, неизменяемыми. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>По
сути, это означает, что транзакция или сообщение, зафиксированное в блоке
шардчейна, можно безопасно использовать в следующих блоках других шардчейнов
без необходимости ожидания, к примеру, двадцати подтверждений (т. е. двадцать
блоков, сгенерированных после исходного блока в том же блокчейне)
передпересылкой сообщения или выполнением других действий на основе предыдущей
транзакции, как это часто бывает в большинстве предлагаемых системах «со слабой
связью» (см. 2.8.14), таких как EOS. Эта способность использовать транзакции и
сообщения в других сегментах сети всего через пять секунд после их фиксации
является одной из причин, по которой мы считаем, что наша система «с сильной
связью» первой в своем роде сможет обеспечить беспрецедентную
производительность (см. 2.8. 12 и 2.8.14). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.14.
Хэш блока мастерчейна как глобальное состояние</span></b><span lang=EN-US>.
Согласно п. 2.1.13, хэш последнего блока мастерчейна полностью определяет общее
состояние системы с<span style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection3>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>точки зрения внешнего наблюдателя. Поэтому
нет необходимости следить за состоянием всех шардчейнов по отдельности. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.15.
Генерация новых блоков валидаторами (см. 2.6)</span></b><span lang=EN-US>. В
блокчейне TON используется метод защиты Proof-of-Stake (подтверждение доли,
PoS) для создания новых блоков в шардчейнах и мастерчейнах. Это означает, что
существует, скажем, до нескольких сотен валидаторов - специальных узлов,
которые внесли стейки (большие количества монет TON) с помощью специальной
транзакции мастерчейна, чтобы иметь право на создание и проверку новых блоков. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:-.25pt'><span lang=EN-US>Затем детерминированным псевдослучайным
образом каждому сегменту (w, s) назначается меньшее подмножество валидаторов,
которое изменяется примерно каждые 1024 блока. Это подмножество валидаторов
предлагает и достигает консенсуса в отношении того, каким будет следующий блок
шардчейна, путем сбора подходящих предлагаемых транзакций от клиентов в новые
допустимые блокикандидаты. Для каждого блока существует псевдослучайно
выбранный порядок валидаторов, который позволяет определить, чей блок-кандидат
имеет наивысший приоритет для фиксации в каждой очереди. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Валидаторы и другие узлы проверяют
действительность предложенных блоковкандидатов; если валидатор подписывает
недопустимый блок-кандидата, он может быть автоматически наказан потерей части
своей стейка или всего стейка, либо лишением функций валидатора на некоторое
время. После этого валидаторы должны прийти к консенсусу по выбору следующего
блока. По сути, это достигается с помощью эффективного протокола консенсуса BFT
(задача византийских генералов; см. 2.8.4), подобного PBFT [4] или Honey Badger
BFT [11]. При достижении<span style='mso-spacerun:yes'>  </span>консенсуса
создается новый блок, после чего валидаторы делят между собой комиссию за
транзакции, включенные в транзакцию, плюс некоторые вновь созданные
(«отчеканенные») монеты. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Каждый валидатор может быть избран для
участия в нескольких подмножествах валидаторов; в этом случае предполагается,
что все алгоритмы проверки и согласования будут выполняться параллельно. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>После того, как все новые блоки шардчейна
были сгенерированы, либо истекло время ожидания, создается новый блок
мастерчейна, включая хэши последних блоков всех сегментов шардчейнов. Эта
задача реализуется на основе консенсуса BFT всех валидаторов<sup>2</sup>. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Более подробная информация о подходе TON
PoS и соответствующей экономической модели представлена в разделе 2.6. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.16.
Форки мастерчейна</span></b><span lang=EN-US>. Сложность нашей предлагаемой
системы «с сильной связью» заключается в том, что переключение на другой форк в
мастерчейне почти обязательно потребует переключения на другой форк как минимум
в некоторых из шардчейнов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>С другой стороны, до тех пор, пока в мастерчейне
нет форков, форки в шардчейне невозможны, поскольку никакие блоки в
альтернативных форках шардчейнов не могут стать «эталонными», если их хэши
включены в блок мастерчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Общее правило состоит в том, что если блок
B’ мастерчейна является предшественником B, то B’ включает хэш HASH(B’w,s) из
B’w,s блока шардчейна (w,s), а B включает хэш HASH(Bw,s), тогда B’w,s должен
быть предшественником Bw,s. В противном случае блок B мастерчейна является
невалидным. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Ожидается, что форки мастерчейна будут редким,
практически невозможным явлением, поскольку в парадигме ВFT, принятой в
блокчейне TON, они могут возникать только в случае некорректного поведения
большинства валидаторов (см. 2.6.1 и 2.6.15), что повлечет за собой
значительную потерю нарушителями их стейков. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следовательно, не следует ожидать
настоящих форков в шардчейнах. Вместо этого, в<span style='mso-spacerun:yes'> 
</span>случае обнаружения недопустимого блока шардчейна, он будет исправлен с
помощью механизма «вертикального блокчейна» (2-блокчейна) (см. 2.1.17), который
может достичь этой цели без создания форков «горизонтального блокчейна» (т. е.,
шардчейна). Тот же механизм можно использовать и для исправления некритических
ошибок в блоках мастерчейна. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.17.
Исправление неверных блоков шардчейна</span></b><span lang=EN-US>. Обычно
фиксируются только действительные блоки шардчейна, потому что валидаторы,
назначенные для шардчейна, должны достичь консенсуса в две трети при решении
задачи византийских генералов, прежде чем может быть зафиксирован новый блок.
Однако система должна обеспечивать обнаружение ранее зафиксированных
недопустимых блоков и их исправление. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Конечно, при обнаружении невалидного блока
шардчейна - либо валидатором (не обязательно назначенным для этого шардчейна),
либо «фишерменом» (любым узлом системы, сделавшим определенный депозит, чтобы
иметь возможность поднимать вопросы о валидности блока; см. 2.6.4) - заявление
о невалидности и соответствующие доказательства передаются в мастерчейн, а
валидаторы, подписавшие невалидный блок, наказываются потерей части своего
стейка и/или временно лишаются права выполнять функции валидатора (последняя
мера важна в том случае, если злоумышленник украл закрытые ключи подписи
надежного валидатора). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако этого недостаточно, потому что
общее состояние системы (блокчейна TON) оказывается недопустимым из-за ранее
зафиксированного недопустимого блока в шардчейне. Этот недопустимый блок
необходимо заменить более новой действующей версией. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В большинстве систем эта задача
достигается путем «отката» к последнему блоку перед недопустимым блоком в
данном шардчейне и последним блокам, не затронутым сообщениями, передаваемыми
из недопустимого блока в каждый из других блокчейнов, а также созданием нового
форка из этих блоков. Недостатком этого подхода является то, что внезапно
откатывается большое количество корректных и подтвержденных транзакций, и
неясно, будут ли они вообще включены в систему позже. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Блокчейн TON решает эту проблему,
превращая каждый «блок» каждого шардчейна и мастерчейна («горизонтальные
блокчейны») в небольшой блокчейн («вертикальный блокчейн»), содержащий разные
версии этого «блока» или их «различия». Обычно вертикальный блокчейн состоит
ровно из одного блока, а шардчейн имеет вид классического блокчейна. Однако,
как только невалидность блока будет подтверждена и зафиксирована в блоке
мастерчейна, к «вертикальному блокчейну» недопустимого блока разрешается
добавить новый блок в вертикальном направлении, после чего будет выполнена
замена или изменение недопустимого<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>блока. Новый блок генерируется текущим
подмножеством валидаторов для рассматриваемого шардчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Для нового «вертикального» блока действуют
довольно строгие правила. В частности, если виртуальный «блок цепочки учетных
записей» (см. 2.1.2), содержащийся в недопустимом блоке, действителен сам по
себе, он должен быть оставлен без изменений со стороны нового вертикального
блока. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Как только новый «вертикальный» блок
фиксируется поверх недопустимого блока, его хэш публикуется в новом блоке
мастерчейна (или, скорее, в новом «вертикальном» блоке, находящемся над
исходным блоком мастерчейна, где был первоначально опубликован хэш
недопустимого блока шардчейна),<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:8.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>2</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
На самом деле, двух третей голосов достаточно для достижения консенсуса, однако
система старается собрать как можно больше подписей.</span><span lang=EN-US> </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>а изменения распространяются дальше на
любые блоки шардчейна, относящиеся к предыдущей версии этого блока (например,
блоки, которые получили сообщения от некорректного блока).<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Исправление этой проблемы достигается
путем фиксации новых «вертикальных» блоков в вертикальных блокчейнах для всех
блоков, ранее ссылающихся на «некорректный» блок. Новые вертикальные блоки
будут ссылаться на самые последние (исправленные) версии. Опять же, строгие
правила запрещают изменять цепочки учетных записей, которые не были фактически
затронуты (т. е. получают те же сообщения, что и в предыдущей версии). Таким
образом, исправление некорректного блока создаёт «волны», которые в конечном
итоге распространяются к самым недавним блокам всех затронутых шардчейнов; эти
изменения также отражены в новых &quot;вертикальных&quot; блока мастерчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда «рябь перезаписи истории» достигает
самых последних блоков, новые блоки шардчейна генерируются только в одной
версии и становятся преемниками только новейших версий блоков. Это означает,
что они с самого начала будут содержать ссылки на правильные (самые последние)
вертикальные блоки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Состояние мастерчейна неявно определяет
карту, преобразующую хэш первого блока каждого «вертикального» блокчейна в хэш
последней версии. Это позволяет клиенту идентифицировать и определять
местонахождение любого вертикального блокчейна по хэшу самого первого (и обычно
единственного) блока. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.18.
Монеты TON и мультивалютные воркчейны</span></b><span lang=EN-US>. Блокчейн TON
поддерживает до 2<sup>32</sup> различных «криптовалют», «монет» или «токенов»,
которые различаются 32битным идентификатором currency_id. Новые криптовалюты
добавляются с помощью специальных транзакций в мастерчейне. Каждый воркчейн
имеет базовую криптовалюту и может иметь несколько дополнительных криптовалют. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Существует одна специальная криптовалюта с
идентификатором currency_id = 0, а именно монета TON (см. Приложение A). Это
основная криптовалюта исходного блокчейна. Она также используется в качестве
комиссии за транзакции и для определения стейков валидаторов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В принципе, другие воркчейны могут
собирать комиссию за транзакции в других токенах. Для этого необходимо
предоставить смарт-контракт для автоматического преобразования этих комиссий за
транзакции в монеты TON. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.19.
Обмен сообщениями и транзакции стоимости</span></b><span lang=EN-US>.
Шардчейны, принадлежащие к одному воркчейну или разным воркчейнам, могут
отправлять сообщения друг другу. Несмотря на то, что точная форма разрешенных
сообщений зависит от принимающего воркчейна и принимающей учетной записи
(смарт-контракт), существуют некоторые общие поля, которые делают возможным
обмен сообщениями между воркчейнами. В частности, к каждому сообщению может
быть прикреплена некоторая стоимость в виде определенного количества монет TON
и/или других зарегистрированных криптовалют, при условии, что они объявлены
принимающим воркчейном как приемлемые криптовалюты. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Самая простая форма такого обмена
сообщениями - это перенос стоимости из одной учетной записи (обычно не
смарт-контракта) в другую учетную запись. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.20.
Виртуальная машина TON</span></b><span lang=EN-US>. Виртуальная машина TON,
также сокращенно TON VM или TVM, - это виртуальная машина, используемая для
выполнения кода смарт-контракта в мастерчейне и в исходном воркчейне. В других
воркчейнах могут использоваться другие виртуальные машины вместе с TVM или
вместо TVM. Ниже приведены некоторые особенности виртуальной машины TON. Они
обсуждаются далее в 2.3.12, 2.3.14 и других разделах. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.25pt;margin-left:0cm;text-align:left;text-indent:0cm;tab-stops:
center 20.15pt 36.05pt'><span lang=EN-US style='font-size:11.0pt;mso-bidi-font-size:
12.0pt;line-height:105%;font-family:"Calibri",sans-serif;mso-fareast-font-family:
Calibri'><span style='mso-tab-count:1'>      </span></span><span lang=EN-US>•</span><span
lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial'>
<span style='mso-tab-count:1'>   </span></span><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM представляет все данные как
набор ячеек (TVM) (см. 2.3.14). Каждая ячейка содержит до 128 байтов данных и
до 4 ссылок на другие ячейки. Применение концепции «все есть мешок ячеек» (см.
2.5.14) позволяет TVM работать со всеми данными, относящимися к блокчейну TON,
включая блоки и глобальное состояние блокчейна, если это необходимо.<span
style='mso-spacerun:yes'>    </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM может работать со
значениями произвольных алгебраических типов данных (см. 2.3.12),
представленными в виде деревьев или ориентированных ациклических графов из
ячеек TVM. Однако виртуальная машина TON не зависит от существования
алгебраических типов данных, она просто работает с ячейками. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM имеет встроенную поддержку
хэш-карт (см. 2.3.7). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM является стековой
вычислительной машиной. В стеке TVM хранятся либо 64-битные целые числа, либо
ссылки на ячейки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Поддерживаются 64-битные,
128-битные и 256-битные арифметические операции. Все n-битные арифметические
операции бывают трех видов: для целых чисел без знака, для целых чисел со
знаком и для целых чисел по модулю 2<sup>n</sup> (в последнем случае
автоматический контроль переполнения отсутствует). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM обеспечивает преобразование
целых чисел без знака и со знаком из nбитн в m-бит для всех 0 ≤ m, n ≤ 256 с
контролем переполнения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>По умолчанию для всех
арифметических операций выполняется контроль переполнения, что значительно
упрощает разработку смарт-контрактов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM выполняет арифметические
операции «умножить, затем сдвинуть» и «сдвинуть и разделить» с промежуточными
значениями, вычисленными в большем целочисленном типе данных; это упрощает
выполнение арифметических операций с фиксированной точкой. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM предлагает поддержку строк
битов и строк байтов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Присутствует поддержка 256-битное
шифрование на основе эллиптических кривых (ECC) для некоторых предопределенных
кривых, включая Curve25519. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Также присутствует поддержка
пар Вейля для некоторых эллиптических кривых, необходимая для быстрой
реализации zk-SNARK. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Присутствует поддержка
популярных хэш-функций, в том числе SHA256. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM может работать с
доказательствами Меркла (см. 5.1.9), </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM предлагает поддержку
«больших» или «глобальных» смарт-контрактов. В таких смарт-контрактах должна
быть информация о шардинге (см. 2.3.18 и 2.3.16). В обычных (локальных)
смарт-контрактах может отсутствовать информация о шардинге. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.85pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TVM поддерживает замыкания. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>На TVM может быть легко
реализована машина сокращения графов (spineless tagless G-machine) [13]. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:-.25pt'><span lang=EN-US>В дополнение к «сборке TVM» могут быть
разработаны несколько высокоуровневых языков программирования. Все эти языки
будут статического типа и будут поддерживать алгебраические типы данных. Мы
предполагаем следующие возможности: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Императивный язык, подобный
Java, в котором каждый смарт-контракт похож на отдельный класс. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Функциональный язык для ленивых
вычислений (Haskell). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l21 level1 lfo3'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Функциональный язык для
немедленных вычислений (ML). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.1.21.
Настраиваемые параметры</span></b><span lang=EN-US>. Важной особенностью блокчейна
TON является то, что многие его параметры являются конфигурируемыми. Это
означает, что они являются частью состояния мастерчейна и могут быть изменены с
помощью определенных транзакций предложения/голосования/результатов в
мастерчейне без необходимости форков. Для изменения таких параметров в пользу
предложения<span style='mso-spacerun:yes'>  </span>должны быть собраны две
трети голосов валидаторов и более половины голосов всех других участников,
которые захотят принять участие в процессе голосования. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116692">2.2. Общие сведения о
блокчейнах </a></h2>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.2.1. Общее определение блокчейна</span></b><span
lang=EN-US>. В целом, любой (настоящий) блокчейн представляет собой
последовательность блоков, причем каждый блок B содержит ссылку BLK-PREV(B) на
предыдущий блок (обычно хэш предыдущего блока включается в заголовок текущего
блока) и список транзакций. Каждая транзакция описывает <span style='mso-tab-count:
1'>    </span>некоторую <span style='mso-tab-count:1'>    </span>трансформацию <span
style='mso-tab-count:1'>       </span>состояния <span style='mso-tab-count:
1'>     </span>глобального <span style='mso-tab-count:1'> </span>блокчейна.
Транзакции, перечисленные в блоке, применяются последовательно для вычисления
нового состояния, начиная со старого состояния, которое является результирующим
состоянием после оценки предыдущего блока. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.2.
Применимость к блокчейну TON</span></b><span lang=EN-US>. Напомним, что
блокчейн TON - это не настоящий блокчейн, а система из 2 блокчейнов (т. е. это
цепочка блокчейнов; см.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.1.1), поэтому вышесказанное не применимо
напрямую к блокчейну TON. Однако мы начнем с общего определения настоящего
блокчейна, чтобы использовать его в качестве строительных блоков для наших
более сложных конструкций. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.2.3. Фактический блокчейн и тип блокчейна</span></b><span
lang=EN-US>. Слово «блокчейн» часто используется для обозначения как общего
типа блокчейна, так и конкретных экземпляров <span style='mso-tab-count:1'>      </span>блокчейна,
<span style='mso-tab-count:1'>    </span>определяемых <span style='mso-tab-count:
1'>          </span>как <span style='mso-tab-count:1'>     </span>последовательности
<span style='mso-tab-count:1'>            </span>блоков, удовлетворяющих
определенным условиям. Например, в п. 2.2.1 приведено описание экземпляра
блокчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, тип блокчейна обычно
является «подтипом» типа Block* списков (т. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>е. конечных последовательностей) блоков,
состоящих из тех последовательностей блоков, которые удовлетворяют определенным
условиям совместимости и действительности: </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:77.25pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6027" o:spid="_x0000_i1063" type="#_x0000_t75" style='width:284pt;
 height:23pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image001.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=284 height=23
src="ton_whitepaper_ru.fld/image001.jpg" v:shapes="Picture_x0020_6027"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Лучшим
способом определения блокчейна было бы сказать, что блокчейн - это тип
зависимой пары, состоящий из пар (B, v), где первый компонент B: Block* имеет
тип Block* (т. е. список блоков), а второй компонент v: isValidBc(B) является
доказательством или свидетельством действительности B. Таким образом, </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:68.8pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6029" o:spid="_x0000_i1062" type="#_x0000_t75" style='width:368pt;
 height:22pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image002.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=368 height=22
src="ton_whitepaper_ru.fld/image002.jpg" v:shapes="Picture_x0020_6029"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Здесь мы используем обозначения зависимых
сумм типов, взятые из [16]. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.4.
Теория зависимых типов, Coq и TL</span></b><span lang=EN-US>. Обратите
внимание, что здесь мы используем теорию зависимых типов (теория Мартина-Лёфа),
аналогичную теории, которая используется для автоматического доказательства Coq<sup>3</sup>.
Упрощенная версия теории зависимых типов также используется в языке TL (Type
Language)<sup>4</sup>, который будет использоваться в формальной спецификации
блокчейна TON для описания сериализации всех структур данных и расположения
блоков, транзакций и т.п.<span style='mso-spacerun:yes'>     </span>Фактически,
теория зависимых типов предоставляет необходимую формализацию того, что такое
доказательство, а такие формальные доказательства (или их сериализации) могут
оказаться полезными, когда, например, нужно предоставить доказательство
невалидности для определенного блока. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.5.
Язык TL (Type Language).</span></b><span lang=EN-US> Поскольку язык TL (Type
Language) будет использоваться в формальных спецификациях блоков TON,
транзакций и сетевых датаграмм, необходимо краткое обсуждение особенностей
этого языка. </span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection4>

<h4 style='margin-right:3.55pt'>2.2. Общие сведения о блокчейнах</h4>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>TL - это язык, подходящий для описания
зависимых алгебраических типов, которым разрешено иметь числовые (натуральные)
и типовые параметры. Каждый тип описывается с помощью нескольких конструкторов.
У каждого конструктора имеется (человекочитаемый) идентификатор и имя, которое
представляет собой битовую строку (по умолчанию 32-битное целое число). Кроме
того, определение конструктора содержит список полей с их типами. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Набор определений конструкторов и типов
называется TL-схемой. Обычно он хранится в одном или нескольких файлах с
расширением .tl. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Важной особенностью TL-схем является то,
что они определяют однозначный способ сериализации и десериализации значений
(или объектов) определенных алгебраических типов. А именно, когда необходимо
выполнить сериализацию значения в поток байтов, сначала выполняется
сериализация имени конструктора, используемого для этого значения. Далее
следуют рекурсивно вычисляемые сериализации каждого поля. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Описание предыдущей версии TL, подходящей
для сериализации произвольных объектов в последовательности 32-битных целых
чисел, доступно по адресу <i style='mso-bidi-font-style:normal'>https://core.telegram.org/mtproto/TL</i>.
Новая версия языка TL, названная TL-B,<span style='mso-spacerun:yes'> 
</span>разрабатывается с целью описания сериализации объектов, используемых
платформой TON. Эта новая версия может выполнять сериализацию объектов в потоки
байтов и даже битов (а не только в 32-битные целые числа) и обеспечивает
поддержку сериализации в дерево ячеек TVM (см. 2.3.14). Описание TL-B будет
частью формальной спецификации блокчейна TON. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.6.
Блоки и транзакции как операторы преобразования состояний</span></b><span
lang=EN-US>. Обычно в любом блокчейне с оператором (type) Blockchain связан
оператор глобального состояния (type) State и транзакция (type) Transaction.
Семантика блокчейна в значительной степени определяется функцией приложения
транзакции: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:64.05pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6159" o:spid="_x0000_i1061" type="#_x0000_t75" style='width:306pt;
 height:17pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image003.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=306 height=17
src="ton_whitepaper_ru.fld/image003.jpg" v:shapes="Picture_x0020_6159"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Здесь Х? обозначает MAYBE X, результат
применения монады MAYBE к типу X. Это похоже на использование X * для LiSTX. По
существу, значение типа X? является </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>либо значением типа X, либо специальным
значением <span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_6161"
 o:spid="_x0000_i1060" type="#_x0000_t75" style='width:17pt;height:17pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image004.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=17 height=17
src="ton_whitepaper_ru.fld/image004.jpg" v:shapes="Picture_x0020_6161"><![endif]></span>,
указывающим на отсутствие фактического значения (вспомните о нулевом
указателе). В нашем случае мы используем State? вместо State в качестве типа
результата, потому что транзакция может быть недействительной, если вызывается
из определенных исходных состояний (вспомните о попытке снять со счета больше
денег, чем есть на самом деле). Мы могли бы предпочесть чистую версию
ev_trans': </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:64.8pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6163" o:spid="_x0000_i1059" type="#_x0000_t75" style='width:304pt;
 height:26pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image005.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=304 height=26
src="ton_whitepaper_ru.fld/image005.jpg" v:shapes="Picture_x0020_6163"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поскольку блок - это, по сути, список
транзакций, функция оценки блока </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:38.55pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:73.5pt'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_6165" o:spid="_x0000_i1058"
 type="#_x0000_t75" style='width:293pt;height:19pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image006.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=293 height=19
src="ton_whitepaper_ru.fld/image006.jpg" v:shapes="Picture_x0020_6165"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span>может быть получена из
ev_trans.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Она принимает блок B: Block и предыдущее
состояние блокчейна s: State (которое может включать хэш предыдущего блока) и
вычисляет следующее состояние блокчейна s' = ev_block(B)(s): State, которое
является истинным состоянием или специальным значением <span style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_6167" o:spid="_x0000_i1057"
 type="#_x0000_t75" style='width:17pt;height:17pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image004.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=17 height=17
src="ton_whitepaper_ru.fld/image004.jpg" v:shapes="Picture_x0020_6167"><![endif]></span>,
указывающим, что следующее состояние не может быть вычислено (т. е. что блок
является невалидным при оценке из заданного начального состояния - например,
блок включает транзакцию, которая свидетельствует о попытке списать средства с
пустого счета). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.7.
Порядковые номера блоков</span></b><span lang=EN-US>. Ссылка на каждый блок B в
блокчейне может осуществляться по его порядковому номеру BLK-SEQNO (B), начиная
с нуля для<span style='mso-spacerun:yes'>  </span></span></p>

<h4 style='margin-top:0cm;margin-right:3.7pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.2. Общие сведения о блокчейнах</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>самого первого блока и в порядке
увеличения на единицу при переходе к следующему блоку. Более формально это
выглядит следующим образом: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:47.55pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6369" o:spid="_x0000_i1056" type="#_x0000_t75" style='width:339pt;
 height:24pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image007.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=339 height=24
src="ton_whitepaper_ru.fld/image007.jpg" v:shapes="Picture_x0020_6369"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что порядковый номер не
обеспечивает однозначную идентификацию блока при наличии форков. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.8.
Блокировка хэшей</span></b><span lang=EN-US>. Другой способ обращения к блоку B
- это его хэш BLKHASH (B), который на самом деле является хэшем заголовка блока
B (однако заголовок блока обычно содержит хэши, которые зависят от всего
содержимого блока B). Предполагая, что для используемой хэш-функции нет
хэш-конфликтов (либо они как минимум очень маловероятны), блок однозначно
идентифицируется по его хэшфункции. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.9.
Допущение хэша</span></b><span lang=EN-US>. Во время формального анализа
алгоритмов блокчейна мы предполагаем отсутствие хэш-конфликтов для используемой
k-битной хэш-функции HASH: Bytes * → 2<sup>k</sup>: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:44.55pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6371" o:spid="_x0000_i1055" type="#_x0000_t75" style='width:345pt;
 height:20pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image008.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=345 height=20
src="ton_whitepaper_ru.fld/image008.jpg" v:shapes="Picture_x0020_6371"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><span lang=EN-US>Здесь Bytes = {0 ... 255} = 2<sup>8</sup>
- это тип байтов или набор всех байтовых значений, а Bytes * - тип или набор
произвольных (конечных) списков байтов; в то время как 2 = {0,1} - это битовый
тип, а 2<sup>k</sup> - это набор (или фактически тип) всех k-битовых
последовательностей (т. е. k-битных чисел). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Конечно, формула (7) невозможна с
математической точки зрения, потому что отображение бесконечного множества в
конечное множество не может быть инъективным. Более строгое предположение было
бы следующим: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:54.3pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6373" o:spid="_x0000_i1054" type="#_x0000_t75" style='width:326pt;
 height:24pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image009.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=326 height=24
src="ton_whitepaper_ru.fld/image009.jpg" v:shapes="Picture_x0020_6373"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако для доказательств это не так
удобно. Если (8) используется не более N раз в доказательстве с 2<sup>-k</sup>N
&lt;<span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_113666"
 o:spid="_x0000_i1053" type="#_x0000_t75" style='width:6pt;height:7pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image010.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=6 height=7
src="ton_whitepaper_ru.fld/image011.jpg" v:shapes="Picture_x0020_113666"><![endif]></span>
для некоторого малого <span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_113665" o:spid="_x0000_i1052" type="#_x0000_t75" style='width:6pt;
 height:7pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image012.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=6 height=7
src="ton_whitepaper_ru.fld/image013.jpg" v:shapes="Picture_x0020_113665"><![endif]></span><span
style='mso-spacerun:yes'> </span>(скажем, <span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_113664" o:spid="_x0000_i1051" type="#_x0000_t75" style='width:6pt;
 height:7pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image014.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=6 height=7
src="ton_whitepaper_ru.fld/image015.jpg" v:shapes="Picture_x0020_113664"><![endif]></span><span
style='mso-spacerun:yes'> </span>= 10<sup>-18</sup>), мы можем предположить,
что (7) является истинным, при условии, что мы принимаем вероятность отказа <span
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_113667"
 o:spid="_x0000_i1050" type="#_x0000_t75" style='width:6pt;height:7pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image010.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=6 height=7
src="ton_whitepaper_ru.fld/image011.jpg" v:shapes="Picture_x0020_113667"><![endif]></span><span
style='mso-spacerun:yes'> </span>(т. е. окончательные выводы будут верными с
вероятностью не менее 1 - <span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_113668" o:spid="_x0000_i1049" type="#_x0000_t75" style='width:6pt;
 height:7pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image016.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=6 height=7
src="ton_whitepaper_ru.fld/image017.jpg" v:shapes="Picture_x0020_113668"><![endif]></span>).
</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:2.35pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Заключительное
замечание: для того, чтобы утверждение о вероятности (8) было действительно
строгим, необходимо ввести распределение вероятностей на множестве Bytes* всех
последовательностей байтов. Один из способов сделать это - предположить, что
все последовательности байтов одинаковой длины l равновероятны, и установить
вероятность наблюдения за последовательностью длины l равной p<sup>l</sup> – p<sup>l+1</sup>
для некоторого p → 1<b style='mso-bidi-font-weight:normal'>–</b>. Тогда (8)
следует понимать как<span style='mso-spacerun:yes'>  </span></span></p>

<h4 style='margin-right:3.7pt'>2.2. Общие сведения о блокчейнах </h4>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_94461" o:spid="_x0000_s2068"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQA5bapdbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVE2P2yAQvVfqf0C+N3ay+ehaSfbQbXOp
2tXu9gcQDLYlDAhInPz7DmObuNlqVaU+2BhmHvMej1k/nBpJjty6WqtNMp1kCeGK6aJW5Sb59frt
0+eEOE9VQaVWfJOcuUseth8/rFuT85mutCy4JQCiXN6aTVJ5b/I0daziDXUTbbiCRaFtQz382jIt
LG0BvZHpLMuWaattYaxm3DmYfewWky3iC8GZ/ymE457ITQK1eXxbfO/DO92uaV5aaqqa9WXQG6po
aK1g0wj1SD0lB1u/gWpqZrXTwk+YblItRM04cgA20+yKzc7qg0EuZd6WJsoE0l7pdDMs+3HcWfNi
niwo0ZoStMC/wOUkbBO+UCU5oWTnKBk/ecJgcrGY38+Wy4QwWFveLXpFWQWyv0li1df30tJhy/SP
QloD1nAX9u7/2L9U1HAU1eXA/smSugDnTld3KzCIog24FGNIP4fCYGyUyeUOFLtJo/vpfB5cF8nS
nB2c33GNWtPjd+c7UxbDiFbDiJ3UMLRg7XdNbagPeaHIMCTt6LCqTYJ1hMVGH/mrxjB/dWJQ42VV
qnFUPPfBEhA7RAxfg3jjyBH5IWj4dsFwAgD4j2HotbgvDAJPVDZyh8mxulIFGWATRqHXCEk9Xtqm
9tCEZN2AD2arLLsAA1qwX3faOPJnyYNYUj1zAdbBixEmnC33X6QlRxpaDT4ITqWpaD/bH3wfiqUi
TsgXtZQRcoqpf4PsrNMHhzyOXS5mZl0m66vpWh00DCA9NDwQJSbhzlr5mK+gTWOZI7ZhuNfFGZsE
CgL3EaXBvoQ8+h4aGt/4H6MunX77GwAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQA5bapdbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117370" o:spid="_x0000_s2069" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQBHJ+a7ygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI/BSsNA
EIbvgu+wjOBF7KaKbZN2W4oiePCS1gcYsmMSzM6G7KSJPr1zELwM/Az/9/PtDnPozIWG1EZ2sFxk
YIir6FuuHXycX+83YJIge+wik4NvSnDYX1/tsPBx4pIuJ6mNQjgV6KAR6QtrU9VQwLSIPbH+PuMQ
UDQOtfUDTgoPnX3IspUN2LIuNNjTc0PV12kMDo74lOcy3f28b+I4nrMyH6X0zt3ezC9bPcctGKFZ
/ht/iDevDsv141o1VEoD2P0vAAAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAEcn5rvKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1048" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.85pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>предел условной вероятности P(HASH (S) =
HASH(S') | s </span><span lang=EN-US style='font-size:11.5pt;mso-bidi-font-size:
12.0pt;line-height:105%;font-family:"Arial",sans-serif;mso-fareast-font-family:
Arial;color:#2C2D2E'>≠</span><span lang=EN-US> s'), когда <i style='mso-bidi-font-style:
normal'>p</i> стремится к единице снизу.<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.2.10.
Хэш, используемый для блокчейна TON</span></b><span lang=EN-US>. В настоящее
время мы используем 256-битный хэш SHA256 для блокчейна TON. Если он окажется
слабее, чем ожидалось, в будущем его можно заменить другой хэш-функцией. Выбор
хэшфункции - это настраиваемый параметр протокола, поэтому его можно изменить
без необходимости создания хард-форков, как описано в 2.1.21. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:6.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:5.8pt;text-indent:-5.8pt;line-height:122%;mso-list:l5 level1 lfo4'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span></sup><![endif]><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>https://coq.inria.fr
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:5.8pt;text-indent:-5.8pt;line-height:122%;mso-list:l5 level1 lfo4'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span></sup><![endif]><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>https://core.telegram.org/mtproto/T
</span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:3.7pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.2. Общие сведения о блокчейнах</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116693">2.3. Состояние блокчейна,
учетные записи и хэш-карты </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Выше мы отметили, что любой блокчейн
определяет заданное глобальное состояние, а каждый блок и каждая транзакция
определяют преобразование этого глобального состояния. Ниже описывается
глобальное состояние, используемое блокчейнами TON. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.1.
Идентификаторы аккаунтов</span></b><span lang=EN-US>. Базовые идентификаторы
учетных записей, используемые блокчейнами TON (или как минимум его мастерчейном
и исходным воркчейном) представляют собой 256-битные целые числа, которые
считаются открытыми ключами для 256-битного шифрования на основе эллиптических
кривых (ECC) для конкретной эллиптической кривой. Таким образом, </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:66.3pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6562" o:spid="_x0000_i1047" type="#_x0000_t75" style='width:302pt;
 height:26pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image018.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=302 height=26
src="ton_whitepaper_ru.fld/image018.jpg" v:shapes="Picture_x0020_6562"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Где Account - это тип учетной записи, а
account_id: Account - это конкретная переменная типа Account. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>Другие воркчейны могут использовать другие
форматы идентификаторов учетных записей (256-битные или другие). Например,
можно использовать подобные биткоину идентификаторы учетной записи, равные
SHA256 открытого ключа ECC. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако длина l в битах идентификатора
учетной записи должна быть зафиксирована во время создания воркчейна (в
мастерчейне), и она должна быть не менее 64, поскольку первые 64 бита идентификатора
account_id используются для сегментирования и маршрутизации сообщений. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.85pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.2.
Основной компонент: хэш-карты</span></b><span lang=EN-US>. Главный компонент
состояния блокчейна TON - это хэш-карта. В некоторых случаях мы рассматриваем
(частично определенные) «карты» h: 2<sup>n</sup> -→ + 2<sup>m</sup>. В более
общем плане нас могут заинтересовать хэш-карты h: 2<sup>n</sup> -→ X для
составного типа X. Однако тип источника (или индекса) почти всегда 2<sup>n</sup>.
Иногда «значение по умолчанию» является пустым: X, а хэш-карта h: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2<sup>n</sup> → X «инициализируется» своим
пустым «значением по умолчанию» i →. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.3.
Пример: остатки на счетах TON</span></b><span lang=EN-US>. Важный пример -
остатки на счетах TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:82.95pt;margin-bottom:
.25pt;margin-left:-.25pt'><span lang=EN-US>Это хэш-карта, </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:81.75pt'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_6564" o:spid="_x0000_i1046"
 type="#_x0000_t75" style='width:275pt;height:20pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image019.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=275 height=20
src="ton_whitepaper_ru.fld/image019.jpg" v:shapes="Picture_x0020_6564"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span>которая сопоставляет Account
= 2<sup>256</sup> с балансом монет TON типа uint</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>128</span><span
lang=EN-US> = 2<sup>128</sup>. Эта хэшкарта имеет значение по умолчанию, равное
нулю, то есть изначально (до обработки первого блока) баланс всех учетных
записей равен нулю. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.4.
Пример: постоянное хранилище смарт-контракта</span></b><span lang=EN-US>.
Другой пример - постоянное хранилище смарт-контрактов, которое можно (очень
приблизительно) представить в виде хэш-карты. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:87.0pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6566" o:spid="_x0000_i1045" type="#_x0000_t75" style='width:265pt;
 height:26pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image020.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=265 height=26
src="ton_whitepaper_ru.fld/image020.jpg" v:shapes="Picture_x0020_6566"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эта хэш-карта также имеет значение по
умолчанию, равное нулю, то есть неинициализированные ячейки постоянного
хранилища считаются равными нулю. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.5.
Пример: постоянное хранилище всех смарт-контрактов</span></b><span lang=EN-US>.
Поскольку у нас есть несколько смарт-контрактов, различающихся идентификатором
account_ id, каждый из которых имеет отдельное постоянное хранилище, у нас
должна быть фактическая хэш-карта, </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:72.45pt;
margin-bottom:0cm;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:68.55pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6568" o:spid="_x0000_i1044" type="#_x0000_t75" style='width:296pt;
 height:25pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image021.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=296 height=25
src="ton_whitepaper_ru.fld/image021.jpg" v:shapes="Picture_x0020_6568"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection5>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>которая соотносит идентификатор account_id
смарт-контракта с его постоянным хранилищем. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.6.
Тип хэш-карты</span></b><span lang=EN-US>. Хэш-карта - это не просто
абстрактная (частично определенная) функция 2<sup>n</sup> --→ X; у нее есть
конкретное представление. Поэтому мы предполагаем, что у нас есть специальный
тип хэш-карты, </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:85.5pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6744" o:spid="_x0000_i1043" type="#_x0000_t75" style='width:268pt;
 height:20pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image022.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=268 height=20
src="ton_whitepaper_ru.fld/image022.jpg" v:shapes="Picture_x0020_6744"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.3pt;
margin-left:-.25pt'><span lang=EN-US>соответствующий структуре данных,
кодирующей (частичное) отображение 2<sup>n</sup> -→ X. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы также можем записать </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:68.55pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6746" o:spid="_x0000_i1042" type="#_x0000_t75" style='width:296pt;
 height:20pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image023.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=296 height=20
src="ton_whitepaper_ru.fld/image023.jpg" v:shapes="Picture_x0020_6746"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:78.45pt;margin-bottom:
.25pt;margin-left:-.25pt'><span lang=EN-US>или </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:78.0pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6748" o:spid="_x0000_i1041" type="#_x0000_t75" style='width:284pt;
 height:23pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image024.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=284 height=23
src="ton_whitepaper_ru.fld/image024.jpg" v:shapes="Picture_x0020_6748"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.45pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.0pt;
margin-left:-.25pt'><span lang=EN-US>Мы всегда можем преобразовать h: Hashmap
(n, X) в карту hget (h): 2<sup>n</sup> →X<sup>?</sup>, С этого момента мы
обычно пишем h[i] вместо hget(h)(i): </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:43.05pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6750" o:spid="_x0000_i1040" type="#_x0000_t75" style='width:348pt;
 height:22pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image025.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=348 height=22
src="ton_whitepaper_ru.fld/image025.jpg" v:shapes="Picture_x0020_6750"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.75pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.7.
Определение типа хэш-карты как дерева Patricia</span></b><span lang=EN-US>.
Логически можно определить Hashmap(n, X) как (неполное) двоичное дерево глубины
n с метками ребер 0 и 1 и со значениями типа X в листьях. Другим способом
описания той же структуры было бы (побитовое) префиксное дерево для двоичных
строк длиной, равной n. На практике мы предпочитаем использовать компактное
представление этого дерева, сжимая каждую вершину, имеющую только один дочерний
элемент со своим родителем. Результирующее представление известно как дерево
Patricia или двоичное основание системы счисления. Каждая промежуточная вершина
теперь имеет ровно два дочерних элемента, помеченных двумя непустыми двоичными
строками, начиная с нуля для левого дочернего элемента и с одного для правого
дочернего элемента. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Другими словами, в дереве Patricia имеется
два типа (некорневых) узлов: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:7.25pt;text-indent:-7.25pt;mso-list:l18 level1 lfo5'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=EN-US>LEAF(x), содержащий значение x
типа X. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:7.25pt;text-indent:-7.25pt;mso-list:l18 level1 lfo5'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=EN-US>NODE (д, s</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>l</span><span
lang=EN-US>, r, s</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>r</span><span lang=EN-US>), где l - (ссылка на) левый
дочерний элемент или поддерево, s</span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'>l</span><span lang=EN-US> - это
цепочка битов, обозначающая ребро, соединяющее эту вершину с ее левым дочерним
элементом (всегда начинается с 0), r - правое поддерево, а sr - это цепочка
битов, обозначающая край правого дочернего элемента (всегда начинается с 1). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Также необходим третий тип узла, который
будет использоваться только один раз в корне дерева Patricia: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:7.25pt;text-indent:-7.25pt;mso-list:l18 level1 lfo5'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=EN-US>ROOT (n, s</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>0</span><span
lang=EN-US>, t), где n - общая длина индексных битовых строк Hashmap (n, X), s</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>0</span><span
lang=EN-US> - общий префикс всех индексных битовых строк, а t - ссылка на LEAF
или NODE . </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если мы хотим, чтобы дерево Patricia было
пустым, необходимо использовать четвертый тип (корневого) узла: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:7.25pt;text-indent:-7.25pt;mso-list:l18 level1 lfo5'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></span><![endif]><span lang=EN-US>EMPTYROOT (n), где n - общая
длина всех битовых строк индекса. Мы определяем высоту дерева Patricia
следующим образом: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:10.75pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6752" o:spid="_x0000_i1039" type="#_x0000_t75" style='width:413pt;
 height:73pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image026.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=413 height=73
src="ton_whitepaper_ru.fld/image026.jpg" v:shapes="Picture_x0020_6752"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Последние два выражения в каждой из двух
последних формул должны быть равны. Мы используем деревья Patricia высоты n для
представления значений типа Hashmap(n, X), </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если в дереве N листьев (т. е. наша
хэш-карта содержит N значений), то имеется ровно N - 1 промежуточных вершин.
Вставка нового значения всегда включает в себя разделение существующего ребра
путем вставки новой вершины в середину и добавления нового листа в качестве
другого дочернего элемента этой новой вершины. Удаление значения из хэш-карты
приводит к обратному эффекту: лист и его родитель удаляются, а родитель
родителя и другой его дочерний элемент становятся напрямую связанными. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.8.
Деревья Merkle Patricia</span></b><span lang=EN-US>. При работе с блокчейнами
мы хотим иметь возможность сравнивать деревья Patricia (то есть хэш-карты) и их
поддеревья, сводя их к одному хэш-значению. Классический способ достижения этой
задачи – использование дерева Merkle. По сути, мы хотим описать способ
хэширования объектов h типа Hashmap(n, X) с помощью хэш-функции HASH,
определенной для двоичных строк, при условии, что мы знаем, как вычислять
хэш-значения HASH(X) объектов x: X (например, путем применения хэш-функции HASH
к двоичной сериализации объекта x). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Можно определить HASH(h) рекурсивно
следующим образом: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:17.5pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_6915" o:spid="_x0000_i1038" type="#_x0000_t75" style='width:399pt;
 height:77pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image027.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=399 height=77
src="ton_whitepaper_ru.fld/image027.jpg" v:shapes="Picture_x0020_6915"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Здесь s.t обозначает конкатенацию
(битовых) строк s и t, а CODE (S) - это префиксный код для всех битовых строк
s. Например, можно закодировать 0 на 10, 1 на 11 и конец строки на 0.<sup>5</sup>
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Позже мы увидим (см. 2.3.12 и 2.3.14), что
это (слегка измененная) версия рекурсивно определенных хэшей для значений
произвольных (зависимых) алгебраических типов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.9.
Пересчет хэшей дерева Merkle</span></b><span lang=EN-US>. Этот способ
рекурсивного разделения HASH (h), называемый хэшем дерева Merkle, обладает
следующим преимуществом: если один явно хранит HASH(h') вместе с каждым узлом
h' (в результате получается структура, называемая деревом Merkle, или, в нашем
случае, деревом Merkle Patricia), необходимо пересчитывать не более n хэшей при
добавлении, удалении или изменении элемента в хэш-карте. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, если кто-то представляет
глобальное состояние блокчейна подходящим хэшем дерева Merkle, его можно легко
пересчитывать после каждой транзакции. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.10.
Доказательства Меркла</span></b><span lang=EN-US>. На основании предположения
(7) «инъективности» выбранной хэш-функции HASH, можно построить доказательство
того, что для данного значения z HASH(h), h: Hashmap(n, X) имеет место
hget(h)(i) = x для некоторых i: 2<sup>n</sup> и x: X. Такое доказательство
будет состоять из пути в дереве Merkle Patricia от листа, соответствующего i,
до корня, дополненного хэшами всех братьев и сестер всех встречающихся узлов на
этом пути. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, неполная нода<sup>6</sup>,
знающая только значение HASH(h) для некоторой хэш-карты h (например, постоянное
хранилище смарт-контракта или глобальное состояние блокчейна), может запросить
у полной ноды<sup>7</sup> не только значение x = h[i] = hget(h)(i), но такое
значение вместе с доказательством Меркла, начиная с уже известного значения
HASH(h).<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Затем, в предположении (7), неполная нода
может сама проверить, что x действительно является правильным значением h
[i].<span style='mso-spacerun:yes'>     </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В некоторых случаях клиент может захотеть
получить вместо этого значение y = HASH(X) = HASH(h[i]) - например, в случае
очень большого значения x (например, самой хэш-карты). Тогда вместо этого можно
предоставить доказательство Меркла для (i, y). Если x также является хэш-картой,
то второе доказательство Меркла,<span style='mso-spacerun:yes'>  </span>начиная
с y = HASH(X), может быть получено из полной ноды, чтобы предоставить значение
x[j] = h[i][j] или только его хэш. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.11.
Важность доказательств Меркла для многозвенной системы, такой как TON</span></b><span
lang=EN-US>. Обратите внимание, что нода обычно не может быть полной нодой для
всех шардчейнов, существующих в среде TON. Обычно эта нода является полной
только для некоторых шардчейнов –<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>например, шардчейнов, которые содержат ее
собственную учетную запись, смартконтракт, с которым она работает, либо
шардчейнов, для которых эта нода была назначена валидатором. Для других
шардчейнов это должна быть неполная нода, иначе требования к хранилищу,
вычислениям и пропускной способности сети будут непомерно высокими. Это
означает, что такая нода не может напрямую проверять утверждения о состоянии
других шардчейнов; она должна полагаться на доказательства Меркла, полученные
из полных нод для этих шардчейнов. Этот процесс является таким же безопасным,
как и собственно проверка, если только (7) он не завершится неудачей (т. е. не
будет обнаружен хэш-конфликт). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.12.
Особенности виртуальной машины TON</span></b><span lang=EN-US>. Виртуальная
машина TON или TVM, используемая для запуска смарт-контрактов в мастерчейне и
исходном воркчейне, значительно отличается от обычных систем, вдохновленных
виртуальной машиной Ethereum (EVM). TVM работает не только с 256-битными целыми
числами, но и фактически с (почти) произвольными «записями», «структурами» или
«типами суммы-произведения», что делает ее более подходящей для выполнения
кода, написанного на высокоуровневых языках программирования (особенно
функциональных языках). По сути, TVM использует тегированные типы данных,
аналогичные тем, которые используются в реализациях Prolog или Erlang. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Сначала можно подумать, что состояние
смарт-контракта TVM - это не просто хэшкарта 2<sup>2<a style='mso-footnote-id:
ftn1' href="#_ftn1" name="_ftnref1" title=""><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[1]</span></sup><![endif]></span></a><a
style='mso-footnote-id:ftn2' href="#_ftn2" name="_ftnref2" title=""><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[2]</span></sup><![endif]></span></a><a
style='mso-footnote-id:ftn3' href="#_ftn3" name="_ftnref3" title=""><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[3]</span></sup><![endif]></span></a></sup>
→ 2<sup>256</sup>, от Hashmap (256, 2<sup>256</sup>), но (в качестве первого
шага) Hashmap (256, X), где X - это тип с несколькими конструкторами,
позволяющий хранить, помимо 256-битных целых чисел, другие структуры данных,
включая, в частности, другие хэш-карты Hashmap (256, X). Это означало бы, что
ячейка хранилища TVM (постоянного или временного) - переменная или элемент
массива в коде смартконтракта TVM - может содержать не только целое число, но и
целую новую хэшкарту. Конечно, это будет означать, что ячейка содержит не
только 256 бит, но также, скажем, 8-битный тег, описывающий, как эти 256 бит
должны интерпретироваться. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Фактически, значения не обязательно должны
быть точно 256-битными. Формат значения, используемый TVM, состоит из
последовательности необработанных байтов и ссылок на другие структуры,
смешанных в произвольном порядке, причем некоторые байты дескриптора вставлены
в подходящие места, что дает возможность отличать указатели от необработанных
данных (например, строки или целые числа) (см. 2.3.14) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Этот формат необработанных значений может
использоваться для реализации произвольных алгебраических типов
суммы-произведения. В этом случае значение будет сначала содержать
необработанный байт, описывающий используемый «конструктор» (с точки зрения
высокоуровневого языка программирования), а затем другие «поля» или «аргументы
конструктора», состоящие из необработанных байтов и ссылок на другие структуры
в зависимости от выбранного конструктора (см. 2.2.5).<span
style='mso-spacerun:yes'>  </span>Однако TVM ничего не знает о соответствии конструкторов
и их аргументов; смесь байтов и ссылок явно описывается определенными байтами
дескриптора<sup>8</sup>. Хэширование дерева Merkle распространяется на
произвольные структуры - для вычисления хэша такой структуры все ссылки
рекурсивно заменяются хэшами объектов, на которые имеется ссылка, а затем вычисляется
хэш результирующей байтовой строки (включая байты дескриптора). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, хэширование дерева Merkle
для хэш-карт, описанное в п. 2.3.8, представляет собой просто простой способ
хэширования для произвольных (зависимых) алгебраических типов данных,
применяемый к типу Hashmap (n, X) с двумя конструкторами<sup>9</sup>. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.13.
Постоянное хранилище смарт-контрактов TON</span></b><span lang=EN-US>.
Постоянное хранилище смарт-контрактов TON по существу состоит из его
«глобальных переменных», сохраняемых между вызовами смарт-контракта. По сути,
это просто тип «произведение», «кортеж» или «запись», состоящий из полей
правильных типов, каждое из которых соответствует одной глобальной переменной.
Если существует слишком много глобальных переменных, они не могут поместиться в
одну ячейку TON из-за глобального ограничения на размер ячейки TON. Для
простоты они разделены на несколько записей и организованы в дерево, по сути
становясь типом «произведение произведений» или «произведение произведений
произведений», а не просто типом-произведением. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.14.
Ячейки TVM</span></b><span lang=EN-US>. В конечном итоге виртуальная машина TON
хранит все данные в виде набора ячеек (TVM). Каждая ячейка сначала содержит два
байта дескриптора, указывающие, сколько байтов необработанных данных
присутствует в этой ячейке (до 128) и сколько имеется ссылок на другие ячейки
(до 4). Затем следуют байты необработанных данных и ссылки. На каждую ячейку
имеется ровно одна ссылка, поэтому мы могли бы включить в каждую ячейку ссылку
на ее «родительский элемент» (единственную ячейку, ссылающуюся на эту ячейку).
Однако эта ссылка не обязательно должна быть явной. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, ячейки постоянного
хранилища смарт-контракта TON организованы в дерево со ссылкой на корень этого
дерева<sup>10</sup>, хранящейся в описании смартконтракта. Если необходимо,
рекурсивно вычисляется хэш дерева Merkle для всего этого постоянного хранилища,
начиная с листьев, а затем просто заменяются все ссылки в ячейке рекурсивно
вычисленными хэшами ячеек, на которые имеются ссылки, и впоследствии
вычисляется хэш полученной таким образом строки байтов.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.3.15. Обобщенные доказательства Меркла для значений
произвольных алгебраических типов</span></b><span lang=EN-US>. Поскольку
виртуальная машина TON представляет значение произвольного алгебраического типа
посредством дерева, состоящего из (TVM)<span style='mso-spacerun:yes'> 
</span>ячеек, а каждая ячейка имеет четко определенный (рекурсивно вычисленный)
хэш Меркла,<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>фактически зависящий от всего поддерева,
имеющего корень в этой ячейке, мы можем предоставить «обобщенные доказательства
Меркла» для (частей) значений<span style='mso-spacerun:yes'> 
</span>произвольных алгебраических типов, предназначенные для доказательства
того, что определенное поддерево дерева с известным хэшем Меркла принимает
определенное значение или значение с определенным хэшем. Это обобщает подход в
п. 2.3.10, где были рассмотрены только доказательства Меркла для x[i] = y. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.0pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.16.
Поддержка сегментирования в структурах данных TON VM</span></b><span
lang=EN-US>. Только что мы в общих чертах обрисовали, как виртуальная машина
TON, не будучи чрезмерно сложной, поддерживает произвольные (зависимые)
алгебраические типы данных на высокоуровневых языках смарт-контрактов. Однако
для шардинг крупных (или глобальных) смарт-контрактов требуется специальная
поддержка на уровне ВМ TON. С этой целью в систему была добавлена специальная
версия типа hashmap, равная «карте» Account --&gt;X . Эта «карта» может
показаться эквивалентной Hashmap (m, X), где Account = 2<sup>m</sup>, однако,
когда шард разделяется на два шарда, либо два шарда объединяются, такие
хэш-карты автоматически разделяются на две хэш-карты или объединяются обратно,
что позволяет сохранить только те ключи, которые принадлежат соответствующему
шарду. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.17.
Плата за постоянное хранилище</span></b><span lang=EN-US>. Примечательной
особенностью блокчейна TON является плата, взимаемая со смарт-контрактов за
хранение их постоянных данных (то есть за увеличение состояния блокчейна в
целом). Этот процесс выглядит следующим образом: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В каждом блоке декларируются два стейка,
номинированные в основной валюте блокчейна (обычно это монета TON): цена за
хранение одной ячейки в постоянном хранилище и цена за хранение одного
необработанного байта в какой-либо ячейке постоянного хранилища. Статистика по
общему количеству ячеек и байтов, используемых каждой учетной записью,
сохраняется как часть ее состояния, поэтому, умножив эти числа на два стейка,
указанные в заголовке блока, мы можем вычислить платеж, который будет вычтен из
баланса счета для хранения его данных между предыдущим блоком и текущим. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако плата за использование постоянного
хранилища взимается не для каждой учетной записи и смарт-контракта в каждом
блоке. Вместо этого порядковый номер блока, в котором этот платеж был взыскан в
последний раз, сохраняется в данных учетной записи, и когда с учетной записью
выполняется какое-либо действие (например, перенос стоимости, либо получение
или обработка сообщения смартконтрактом), то плата за использование хранилища
для всех блоков с момента предыдущего такого платежа вычитается из баланса
аккаунта перед выполнением каких-либо дальнейших действий. Если после этого
баланс учетной записи станет отрицательным, учетная запись будет уничтожена. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:8.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:.5pt;line-height:122%;mso-list:l13 level1 lfo6'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Эти два байта дескриптора,
присутствующие в любой ячейке TVM, описывают только общее количество ссылок и
общее количество необработанных байтов; ссылки хранятся вместе либо до, либо
после всех необработанных байтов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:.5pt;line-height:122%;mso-list:l13 level1 lfo6'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Фактически LEAF и NODE являются
конструкторами вспомогательного типа HashmapAux (n, X). Тип Hashmap (n, X)
имеет конструкторы ROOT и EMPTYROOT, причем ROOT содержит значение типа
HashmapAux(n, X). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:.5pt;line-height:122%;mso-list:l13 level1 lfo6'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Логически; представление «набор
ячеек», описанное в 2.5.5, идентифицирует все повторяющиеся ячейки,
преобразовывая это дерево в ориентированный ациклический граф при сериализации.
</span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Воркчейн может объявить некоторое
количество байтов необработанных данных для каждой учетной записи «бесплатными»
(т. е. не участвующими в платежах за постоянное хранилище) для создания
«простых» учетных записей, которые сохраняют только свой баланс в одной или
двух криптовалютах, освобожденных от этих постоянных платежей. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание: если никто не
отправляет сообщения в учетную запись, плата за постоянное хранение не
взимается, и учетная запись может существовать бесконечно. Однако любой
пользователь может отправить, например, пустое сообщение для уничтожения такой
учетной записи. Отправителю такого сообщения может быть предоставлено небольшое
вознаграждение, взимаемое с части первоначального баланса учетной записи,
подлежащей уничтожению. Однако мы ожидаем, что валидаторы будут уничтожать
такие неплатежеспособные учетные записи бесплатно, просто чтобы уменьшить
размер состояния блокчейна и избежать хранения больших объемов данных без
компенсации. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Платежи, собранные за хранение постоянных
данных, распределяются между валидаторами шардчейна или мастерчейна (во втором
случае пропорционально их стейкам). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.5pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.18.
Локальные и глобальные смарт-контракты; экземпляры смартконтрактов</span></b><span
lang=EN-US>. Смарт-контракт обычно находится только в одном шарде, выбранном в
соответствии с идентификатором account_ id смарт-контракта (аналогично
«обычной» учетной записи). Обычно этого достаточно для большинства приложений.
Однако для некоторых смарт-контрактов с высокой нагрузкой может потребоваться
наличие «экземпляра» в каждой шардчейне какого-либо воркчейна. Для этого они
должны распространить свою создаваемую транзакцию на все шардчейны, например,
зафиксировав эту транзакцию в «корневом» шардчейне (w, θ)<sup>11</sup>
воркчейна w и установив большую комиссию<sup>12</sup>.<span
style='mso-spacerun:yes'>    </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:-.25pt'><span lang=EN-US>Это позволяет эффективно создавать
экземпляры смарт-контракта в каждом шарде с отдельными балансами. Первоначально
баланс, переданный в создаваемой транзакции, распределяется просто путем
присвоения экземпляру в шарде (w, s) значений 2<sup>-|s|</sup> от части общего
баланса. Когда шард разделяется на два дочерних шарда, балансы всех экземпляров
глобальных смарт-контрактов делятся пополам; когда два шарда объединяются,
балансы складываются. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В некоторых случаях разделение/объединение
экземпляров глобальных смартконтрактов может включать (отложенное) выполнение
специальных методов этих смарт-контрактов. По умолчанию балансы разделяются и
объединяются, как описано выше, а некоторые специальные хэш-карты,
индексированные «по учетным записям», также автоматически разделяются и
объединяются (см. 2.3.16). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.19.
Ограничение разделения смарт-контрактов</span></b><span lang=EN-US>. Глобальный
смарт-контракт может ограничивать глубину разделения d при его создании, что
позволяет сделать расходы на постоянное хранение более предсказуемыми. Это
означает, что если шардчейн (w, s) вместе с |s| &gt; d делится на две части,
только один из двух новых сегментов наследует экземпляр смарт-контракта. Эта
шардчейн выбирается детерминировано: каждый глобальный смарт-контракт имеет
некоторый «account_id», который по сути является хэшем создаваемой транзакции,
а его экземпляры имеют тот же идентификатор account_id с заменой первых &lt;d
битов подходящими значениями, необходимыми для попадания в правильный шард.
Этот идентификатор account_id выбирает, какой шард унаследует экземпляр
смартконтракта после разделения. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.3.20.
Состояние учетной записи/смарт-контракта.</span></b><span lang=EN-US> На
основании всего вышесказанного мы можем сделать вывод, что состояние учетной
записи или смартконтракта включает следующее: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Баланс в основной валюте
блокчейна </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.75pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Баланс в других валютах
блокчейна </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Код смарт-контракта (или его
хэш) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.1pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Постоянные данные
смарт-контракта (или соответствующий хэш Меркла) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Статистика количества
используемых ячеек постоянного хранения и необработанных байтов </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Последний раз (собственно,
номер блока мастерчейна), когда была получена оплата за постоянное хранение
смарт-контракта </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Открытый ключ, необходимый для
перевода валюты и отправки сообщений с этой учетной записи (необязательно; по
умолчанию равен самому идентификатору account_id). В некоторых случаях здесь
может быть расположен более сложный код проверки подписи, аналогично коду,
который используется для выходных данных транзакции биткоина; тогда
идентификатор account_id будет равен хэшу этого кода. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Также в состоянии учетной
записи или в какой-либо другой хэш-карте, индексированной учетной записью,
необходимо хранить следующие данные: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Очередь выходных сообщений
учетной записи (см. 2.4.17) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l0 level1 lfo7'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Набор (хэшей) недавно
доставленных сообщений (см. 2.4.23) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Не все эти функции действительно
необходимы для каждой учетной записи; например, код смарт-контракта нужен
только для смарт-контрактов, но не для «простых» учетных записей. Кроме того,
хотя на любой учетной записи должен быть ненулевой баланс в основной валюте
(например, монеты TON для мастерчейна и щардчейнов основного воркчейна), на ней
могут быть нулевые балансы в других валютах. Чтобы избежать хранения
неиспользуемых данных, (во время создания воркчейна) определяется тип
суммы-произведения (в зависимости от воркчейна), который использует разные
байты тегов (например, конструкторы TL; см. 2.2.5), чтобы различать разные «
конструкторы ». В конечном итоге, состояние учетной записи сохраняется как
набор ячеек постоянного хранилища TVM. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116694">2.4. Сообщения между
шардчейнами </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Важным компонентом блокчейна TON является
система обмена сообщениями между блокчейнами. Эти блокчейны могут быть шардчейнами
одного или разных воркчейнов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.1.
Сообщения, счета и транзакции: общая структура системы</span></b><span
lang=EN-US>. Сообщения отправляются из одной учетной записи в другую. Каждая
транзакция включает следующие этапы: учетная запись получает одно сообщение,
меняет свое состояние в соответствии с определенными правилами и генерирует
несколько (возможно, одно или ноль) новых сообщений для других учетных записей.
Каждое сообщение создается и принимается (доставляется) ровно один раз. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это означает, что сообщения играют в
системе фундаментальную роль, сравнимую с ролью учетных записей
(смарт-контрактов). С точки зрения парадигмы бесконечного шардинга (см. 2.1.2),
каждая учетная запись находится в своей отдельной «цепочке учетных записей», и
единственный способ повлиять на состояние какой-либо другой учетной записи -
это отправить сообщение. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:10.55pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:36.55pt;line-height:122%;mso-list:l20 level1 lfo8'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Более дорогая альтернатива -
опубликовать такой «глобальный» смарт-контракт в мастерчейне. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:36.55pt;line-height:122%;mso-list:l20 level1 lfo8'><![if !supportLists]><sup><span
lang=EN-US style='font-size:10.0pt;line-height:122%'><span style='mso-list:
Ignore'>12<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Это своего рода «широковещательная»
функция для всех шардов, и поэтому она должна быть довольно дорогой </span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection6>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.2.
Учетные записи как процессы или субъекты; модель акторов</span></b><span
lang=EN-US>. Можно воспринимать учетные записи (и смарт-контракты) как
«процессы» или «акторы», которые могут обрабатывать входящие сообщения,
изменять свое внутреннее состояние и в результате генерировать некоторые
исходящие сообщения. Это тесно связано с так называемыми моделями акторов,
которые используются в таких языках, как Erlang (однако акторы в Erlang обычно
называются «процессами»). Поскольку новые акторы (то есть смарт-контракты)
также могут быть созданы существующими акторами в результате обработки
входящего сообщения, наблюдается практически полное соответствие с моделью
акторов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.3.
Получатель сообщения</span></b><span lang=EN-US>. У любого сообщения есть
получатель, который характеризуется идентификатором целевого воркчейна w
(предполагается, что по умолчанию он такой же, как идентификатор исходного
шардчейна) и учетной записью получателя account_id. Точный формат (т. е.
количество битов) account_id зависит от w; однако шард всегда определяется его
первыми (наиболее значимыми) 64 битами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.4.
Отправитель сообщения</span></b><span lang=EN-US>. В большинстве случаев у
сообщения есть отправитель, который характеризуется парой (w', account_id').
При наличии такого идентификатора он находится после получателя сообщения и
ценности сообщения. Иногда отправитель не важен, либо это кто-то за пределами
блокчейна (то есть не смарт-контракт), поэтому это поле отсутствует. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что в модели акторов не
требуется, чтобы сообщения имели неявного отправителя. Вместо этого сообщения
могут содержать ссылку на актора, которому должен быть отправлен ответ на
запрос (обычно совпадает с отправителем). Однако полезно иметь поле явного не
поддающегося подделке отправителя в сообщении в криптовалютной среде, в которой
применяется задача византийских генералов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.4.5. Стоимость сообщения</span></b><span lang=EN-US>.
Другой важной характеристикой сообщения является его <span style='mso-tab-count:
1'>  </span>прикрепленная <span style='mso-tab-count:1'>        </span>стоимость
<span style='mso-tab-count:1'>     </span>в <span style='mso-tab-count:1'>         </span>одной
<span style='mso-tab-count:1'> </span>или <span style='mso-tab-count:1'>    </span>нескольких
<span style='mso-tab-count:1'>   </span>криптовалютах, поддерживаемых как
исходным, так и целевой воркчейном. Стоимость указывается в самом начале сообщения
сразу после получателя сообщения; по сути, это список пар (currency_id, value).
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что «простые»
транзакции стоимости между «простыми» учетными записями - это пустые сообщения
с некоторой прикрепленной к ним стоимостью. С другой стороны, немного более
сложное тело сообщения может содержать простой текст или двоичный комментарий
(например, о цели платежа). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.6.
Внешние сообщения или «сообщения из ниоткуда»</span></b><span lang=EN-US>.
Некоторые сообщения поступают в систему «из ниоткуда», то есть они не генерируются
учетной записью (смарт-контрактом), находящейся в блокчейне. Наиболее типичный
пример - когда пользователь хочет перевести часть средств с контролируемой им
учетной записи на другую учетную запись.<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>В этом
случае пользователь отправляет «сообщение из ниоткуда» в свою учетную запись,
запрашивая создание сообщения для принимающей учетной записи, содержащего
указанное значение. Если это сообщение правильно подписано, учетная запись
получает его и генерирует необходимые исходящие сообщения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Фактически, можно рассматривать «простую»
учетную запись как частный случай смарт-контракта с предопределенным кодом.
Этот смарт-контракт получает только один тип сообщения. Такое входящее
сообщение должно содержать список исходящих сообщений, которые должны быть
сгенерированы в результате доставки (обработки) входящего сообщения, вместе с
подписью. Смарт-контракт проверяет подпись и, если она верна, генерирует
необходимые сообщения. </span></p>

<h4 style='margin-top:0cm;margin-right:3.95pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.4. Сообщения между шардчейнами</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Конечно, есть разница между «сообщениями
из ниоткуда» и обычными сообщениями, поскольку «сообщения из ниоткуда» не могут
иметь стоимости, и соответственно не могут сами платить за «газ» (то есть за их
обработку). Вместо этого они предварительно выполняются с небольшим лимитом
газа, прежде чем будет предложено их включение в новый блок шардчейна; если
выполнение не удается (подпись неверна), «сообщение из ниоткуда» считается
неверным и отбрасывается. Если выполнение будет завершено в пределах небольшого
лимита газа, сообщение может быть включено в новый блок шардчейна и полностью
обработано, при этом оплата за потребленный газ (мощность обработки) будет
взиматься со счета получателя. Для «сообщений из ниоткуда» также может быть
определена некоторая комиссия за транзакцию, которая снимается со счета
получателя сверх платы за газ и перераспределяется между валидаторами. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В этом смысле «сообщения из ниоткуда» или
«внешние сообщения» выступают в роли кандидатов на транзакции, используемых в
других системах блокчейнов (например, Биткоин и Эфириум). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.7.
Сообщения журнала или «сообщения в никуда»</span></b><span lang=EN-US>. Точно
так же иногда может быть сгенерировано специальное сообщение, которое
направляется в конкретный шардчейн не для доставки его получателю, а для
регистрации в журнале, чтобы это<span style='mso-spacerun:yes'> 
</span>сообщение мог легко заметить любой пользователь, который получает
обновления о рассматриваемом шарде. Такие зарегистрированные сообщения могут
выводиться на консоль пользователя или запускать выполнение некоторого сценария
на сервере вне сети. В этом смысле они представляют собой внешний «выход»
«суперкомпьютера с блокчейном», так же как «сообщения из ниоткуда» представляют
собой внешний </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«вход» «суперкомпьютера с блокчейном». </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.8.
Взаимодействие с сервисами вне блокчейна и внешними блокчейнами</span></b><span
lang=EN-US>. Эти внешние входные и выходные сообщения могут использоваться для
взаимодействия с сервисами вне блокчейна и другими (внешними) блокчейнами,
такими как Биткоин или Эфириум. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В блокчейне TON можно создавать токены или
криптовалюты, привязанные к биткойну, эфиру или любым токенам ERC-20,
определенным в блокчейне Ethereum, и использовать «сообщения из ниоткуда» и
«сообщения в никуда», генерируемые и обрабатываемые скриптами, находящимися на
сторонних серверах вне блокчейна, чтобы реализовать необходимое взаимодействие
между блокчейном TON и этими внешними блокчейнами. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.9.
Тело сообщения</span></b><span lang=EN-US>. Тело сообщения — это просто
последовательность байтов, значение которой определяется только принимающим
воркчейном и/или смартконтрактом. Для блокчейнов, в которых используется
виртуальная машина TON, это может быть сериализация любой ячейки TVM,
автоматически сгенерированная с помощью операции Send О. Такая сериализация
достигается путем простой рекурсивной замены всех ссылок в ячейке ВМ TON на
указанные ячейки. В конечном итоге появляется строка необработанных байтов,
перед которой обычно идет 4байтовый «тип сообщения» или «конструктор
сообщения», используемый для выбора правильного метода принимающего
смарт-контракта. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Другим вариантом может быть использование
объектов, сериализированных с помощью языка TL (см. 2.2.5), в качестве тел
сообщения. Это может быть особенно полезно для связи между различными
воркчейнами, в одном из которых или во всех не обязательно используется
виртуальная машина TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.10.
Лимит газа и другие параметры, специфичные для воркчейна/VM</span></b><span
lang=EN-US>. Иногда сообщение должно нести информацию о лимите газа, цене на
газ, комиссии за<span style='mso-spacerun:yes'>  </span>транзакции и
аналогичных значениях, которые зависят от принимающего воркчейна и актуальны
только для него, но не обязательно для исходного воркчейна. Такие параметры
включаются в тело сообщения или перед ним, иногда (в зависимости от воркчейна)
со специальными 4-байтовыми префиксами, указывающими на их присутствие (которые
могут быть определены с помощью TL-схемы; см. 2.2.5). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.11.
Создание сообщений: смарт-контракты и транзакции</span></b><span lang=EN-US>.
Существуют два источника новых сообщений. Большинство сообщений создается во
время выполнения смарт-контракта (посредством операции Send() в VM TON), когда
для обработки входящего сообщения вызывается какой-либо смарт-контракт. Как
вариант, сообщения могут приходить извне как «внешние сообщения» или </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«сообщения из ниоткуда» (см. 2.4.6)<a
style='mso-footnote-id:ftn4' href="#_ftn4" name="_ftnref4" title=""><sup><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[4]</span></sup><![endif]></span></sup></a>.
</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.12.
Доставка сообщений.</span></b><span lang=EN-US> Когда сообщение достигает
шардчейна, содержащего целевую учетную запись, оно «доставляется» в целевую
учетную запись<sup>14</sup>. Дальнейшие процессы зависят от воркчейна; со
стороны важно, чтобы такое сообщение никогда не могло быть переадресовано
дальше этого шардчейна. Для шардчейнов основного воркчейна доставка заключается
в добавлении стоимости сообщения (за вычетом любых платежей за газ) к балансу
принимающей учетной записи и, возможно, в последующем вызове зависимого от
сообщения метода получающего смарт-контракта, если получающая учетная запись
является смартконтрактом. Фактически, смарт-контракт имеет только одну точку
входа для обработки всех входящих сообщений, поэтому он должен различать разные
типы сообщений путем анализа первых нескольких байтов (например, первые четыре
байта, содержащие конструктор TL; см. 2.2.5). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.13.
Доставка сообщения как транзакция</span></b><span lang=EN-US>. Поскольку
доставка сообщения изменяет состояние учетной записи или смарт-контракта, этот
процесс является особой транзакцией в принимающем шардчейне, которая явно
регистрируется как таковая. По сути, без учета некоторых незначительных
технических деталей, все транзакции в блокчейне TON представляют собой доставку
одного входящего сообщения в принимающую учетную запись (смарт-контракт). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.14.
Сообщения между экземплярами одного и того же смарт-контракта</span></b><span
lang=EN-US>. Напомним, что смарт-контракт может быть локальным (т. е. может
находиться в одной шардчейне, как и любая обычная учетная запись) или
глобальным (т. е. иметь экземпляры во всех шардах или, по крайней мере, во всех
шардах до некоторой известной глубины d; см. 2.3.18). При необходимости
экземпляры глобального смартконтракта могут обмениваться специальными
сообщениями между собой для передачи информации и стоимости. В этом случае
особенно важным становится (не поддающийся подделке) идентификатор account_id
(см. 2.4.4). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.15.
Сообщения на любой экземпляр смарт-контракта; адреса с подстановочными знаками</span></b><span
lang=EN-US>. Иногда сообщение (например, запрос клиента) необходимо доставить в
любой экземпляр глобального смарт-контракта, обычно ближайший (если он
находится в том же шардчейне, что и отправитель, это очевидный кандидат).<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection7>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Один из способов сделать это -
использовать «адрес получателя с подстановочными знаками», при этом первым d
битам целевого идентификатора account_id разрешено принимать произвольные
значения. На практике для этих битов d обычно устанавливаются те же значения,
что и в идентификаторе отправителя account_id. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.16.
Отсутствие очереди ввода</span></b><span lang=EN-US>. Все сообщения, полученные
блокчейном (обычно шардчейном, иногда мастерчейном) - или, по сути, «цепочкой
учетных записей», находящейся внутри определенного шардчейна, - немедленно
доставляются (т. е. обрабатываются принимающей учетной записью).<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следовательно, «очередь ввода» как таковая
отсутствует. Вместо этого, если из-за ограничений на общий размер блоков и
использование газа могут быть обработаны не все сообщения, предназначенные для
определенного шардчейна, некоторые сообщения просто накапливаются в очередях
вывода исходных шардчейнов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.17.
Очереди вывод</span></b><span lang=EN-US>а. С точки зрения парадигмы
бесконечного шардинга (см. 2.1.2), каждая цепочка учетных записей (т. е. каждая
учетная запись) имеет свою собственную очередь вывода, состоящую из всех
сообщений, которые были в ней сгенерированы, но еще не доставлены получателям.
Конечно, цепочки учетных записей существуют только виртуально; они
сгруппированы в шардчейны, а шардчейн имеет выходную «очередь», состоящую из
очередей вывода всех учетных записей, относящихся к шардчейну.</span><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эта выходная «очередь» шардчейна
обеспечивает только частичный порядок в сообщениях участников шардчейна. А
именно, сообщение, сгенерированное в предыдущем блоке, должно быть доставлено
до любого сообщения, сгенерированного в последующем блоке, а любые сообщения,
сгенерированные той же учетной записью и имеющие то же место назначения, должны
быть доставлены в порядке их генерации. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%;tab-stops:center 74.55pt 119.65pt 160.2pt 213.55pt 279.1pt 345.45pt 396.95pt right 439.95pt'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.18. <span
style='mso-tab-count:1'>   </span>Надежный <span style='mso-tab-count:1'>   </span>и
<span style='mso-tab-count:1'>   </span>быстрый <span style='mso-tab-count:
1'>   </span>обмен <span style='mso-tab-count:1'>   </span>сообщениями <span
style='mso-tab-count:1'>   </span>между <span style='mso-tab-count:1'>   </span>цепями</span></b><span
lang=EN-US>. <span style='mso-tab-count:1'>   </span>В </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>масштабируемом проекте с несколькими
блокчейнами (таком как TON) чрезвычайно важно иметь возможность пересылать и
доставлять сообщения между разными шардчейнами (см. 2.1.3), даже если в системе
их миллионы. Необходимо обеспечить надежную (т. е. сообщения не должны теряться
или доставляться более одного раза) и быструю доставку сообщений. В блокчейне TON
эта цель достигается путем использования комбинации двух механизмов
«маршрутизации сообщений». </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.19.
Маршрутизация в гиперкубе: «медленный путь» для сообщений с гарантированной
доставкой</span></b><span lang=EN-US>. В блокчейне TON применяется технология
«маршрутизации в гиперкубе» в качестве медленного и одновременно безопасного и
надежного способа доставки сообщений из одного шардчейна в другой, причем при
необходимости для передачи используется несколько промежуточных шардчейнов. В
противном случае валидаторам любого данного шардчейна потребуется отслеживать
состояние (очередей вывода) всех других шардчейнов, что потребует непомерно
больших вычислительных мощностей и пропускной способности сети по мере роста
общего количества шардчейнов и приведет к ограничению масштабируемости.
системы. Следовательно, возможность доставлять сообщения напрямую из одного
шарда в другой отсутствует. Вместо этого каждый шард «подключен» только к
шардам, которые отличаются ровно одной шестнадцатеричной цифрой в
идентификаторах (w, s) (см. 2.1.8).<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>14</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
В качестве вырожденного случая этот шардчейн может совпадать с исходным
шардчейном, например, если операция выполняется внутри воркчейна, который еще
не была разделен. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, все шардчейны составляют
граф типа «гиперкуб», а сообщения перемещаются по краям этого гиперкуба. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если сообщение отправляется на шард,
отличный от текущего шарда, одна из детерминировано выбранных шестнадцатеричных
цифр текущего идентификатора шарда заменяется соответствующей цифрой целевого
шарда, а полученный идентификатор используется в качестве ближайшей цели для
пересылки сообщения.<span style='mso-spacerun:yes'>  </span>Основное
преимущество маршрутизации в гиперкубе заключается в том, что условия
допустимости блока подразумевают, что валидаторы, создающие блоки шардчейна,
должны собирать и обрабатывать сообщения из выходных очередей «соседних»
шардчейнов, опасаясь потери своих долей.<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, можно ожидать, что любое
сообщение рано или поздно достигнет своего конечного пункта назначения; при
этом сообщение не может быть потеряно в пути или доставлено дважды. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что маршрутизация в
гиперкубе приводит к некоторым дополнительным задержкам и расходам из-за
необходимости пересылать сообщения через несколько промежуточных шардчейнов.
Однако количество этих промежуточных шардчейнов увеличивается очень медленно по
мере роста логарифма log <i style='mso-bidi-font-style:normal'>N</i> (точнее,
[log</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>16</span><i style='mso-bidi-font-style:normal'><span
lang=EN-US>N]</span></i><span lang=EN-US> - 1) от общего количества шардчейнов
N. Например, если <i style='mso-bidi-font-style:normal'>N</i> = 250, то будет
наблюдаться максимум один промежуточный переход; а для <i style='mso-bidi-font-style:
normal'>N</i> = 4000 шардчейнов — максимум два. С четырьмя промежуточными
переходами мы можем поддерживать до одного миллиона шардчейнов. Мы считаем, что
это очень небольшая цена за практически неограниченную масштабируемость системы
(фактически, не обязательно платить даже ее). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.20.
Мгновенная маршрутизация в гиперкубе (Instant Hypercube Routing): «быстрый
путь» для сообщений</span></b><span lang=EN-US>. Новой особенностью блокчейна
TON является то, что в нем используется «быстрый путь» для пересылки сообщений
от одного шардчейна к любому другому шардчейну, что позволяет в большинстве
случаев<span style='mso-spacerun:yes'>  </span>полностью обойти «медленную»
маршрутизацию в гиперкубе (2.4.19) и доставлять сообщение в следующий блок
конечного шардчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Идея этой технологии заключается в
следующем. Во время «медленной» маршрутизации в гиперкубе сообщение
перемещается (в сети) по краям гиперкуба, но задерживается (примерно на пять
секунд) в каждой промежуточной вершине и фиксируется в соответствующем
шардчейне, прежде чем продолжить свой путь. Чтобы избежать ненужных задержек,
вместо этого можно передавать сообщение вместе с подходящим доказательством
Меркла по краям гиперкуба, не дожидаясь его фиксации в промежуточных
шардчейнах. Фактически, сетевое сообщение должно быть переадресовано от
валидаторов «целевой группы» (см. 2.6.8) исходного шарда указанному создателю
блоков (см. 2.6.9) «целевой группы» конечного шарда; это можно сделать
напрямую, без остановок сообщения на краях гиперкуба. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда это сообщение с доказательством
Меркла достигает валидаторов (точнее, сверщиков - см. 2.6.5) целевого
шардчейна, они могут немедленно зафиксировать его в новом блоке, не дожидаясь,
пока сообщение завершит продвижение по «медленному пути».<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>15</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
Это не обязательно окончательная версия алгоритма, используемого для вычисления
следующего перехода при маршрутизации в гиперкубе. В частности, шестнадцатеричные
цифры могут быть заменены r-битовыми группами с r конфигурируемым параметром,
не обязательно равным четырем. <sup>16</sup> Однако у валидаторов есть
некоторый стимул сделать это как можно скорее, потому что они смогут собрать
все платежи за пересылку, связанные с сообщением, которое еще не было
использовано на «медленном» пути. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>17</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
На самом деле, можно было временно или навсегда отключить механизм мгновенной
доставки, и система продолжала бы работать, хотя и медленнее. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Затем подтверждение доставки вместе с подходящим
доказательством Меркла отправляется обратно по краям гиперкуба, и его можно
использовать, чтобы остановить движение сообщения по «медленному пути» путем
выполнения специальной транзакции. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что этот механизм
«мгновенной доставки» не заменяет «медленный», но отказоустойчивый механизм,
описанный в 2.4.19. «Медленный путь» по-прежнему необходим, поскольку
валидаторы не должны наказываться за потерю сообщения или просто решение не
фиксировать сообщения в процессе «быстрого пути» в новых блоках своих
блокчейнов<sup>16</sup>. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следовательно, оба метода пересылки
сообщений выполняются параллельно, и «медленный» механизм прерывается только в
том случае, если доказательство успеха </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«быстрого» механизма фиксируется в
промежуточном шардчейне<sup>17</sup>.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.21.
Сбор входных сообщений из очередей вывода соседних шардчейнов</span></b><span
lang=EN-US>. Когда предлагается создание нового блока в шардчейне, некоторые из
выходных сообщений соседних (в смысле гиперкуба маршрутизации 2.4.19)
шардчейнов включаются в новый блок как «входные» сообщения и немедленно
доставляются (т. е. обрабатываются). Существуют определенные правила
относительно порядка, в котором выходные сообщения этих соседних шардчейнов
должны обрабатываться. По сути, «старое» сообщение (исходящее из блока
шардчейна, относящегося к более старому блоку мастерчейна) должно быть
доставлено до любого «нового» сообщения; а для сообщений, поступающих из того
же соседнего шардчейна, должен соблюдаться частичный порядок очереди вывода,
описанный в 2.4.17. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.22.
Удаление сообщений из очередей вывода</span></b><span lang=EN-US>. После того,
как сообщение очереди вывода помечается как доставленное соседним шардчейном
сообщение, оно явно удаляется из очереди вывода специальной транзакцией. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.23.
Предотвращение двойной доставки сообщений</span></b><span lang=EN-US>. Чтобы
предотвратить двойную доставку сообщений, взятых из очередей вывода соседних
шардчейнов, каждый шардчейн (точнее, каждая цепочка учетных записей в
шардчейне) сохраняет набор недавно доставленных сообщений (или только их хэшей)
как часть своего состояния. Когда обнаруживается, что доставленное сообщение
было удалено из очереди вывода соответствующим исходным соседним шардчейном
(см. 2.4.22), оно также удаляется из набора недавно доставленных сообщений. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.24.
Пересылка сообщений, предназначенных для других шардчейнов</span></b><span
lang=EN-US>. Маршрутизация в гиперкубе (см. 2.4.19) означает, что иногда
исходящие сообщения доставляются не в шардчейн, содержащий предполагаемого
получателя, а в соседний шардчейн, находящийся в гиперкубе на пути к месту
назначения. В этом случае «доставка» заключается в перемещении входящего
сообщения в очередь исходящих сообщений. Этот процесс явно отражается в блоке
как специальная транзакция пересылки, содержащая само сообщение. По сути, это выглядит
так, как если бы сообщение было получено кем-то внутри шардчейна, и в
результате было сгенерировано одно идентичное сообщение. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.25.
Оплата пересылки и хранения сообщения</span></b><span lang=EN-US>. Транзакция
пересылки фактически расходует некоторое количество газа (в зависимости от
размера пересылаемого сообщения), поэтому оплата газа вычитается из стоимости
сообщения, пересылаемого от имени валидаторов этого шардчейна. Этот платеж за
пересылку обычно значительно меньше, чем платеж за газ, который взимается,
когда сообщение окончательно доставляется получателю, даже если сообщение было
переадресовано несколько раз в процессе маршрутизации в гиперкубе. Кроме того,
пока сообщение<span style='mso-spacerun:yes'>  </span>хранится в очереди вывода
шардчейна, оно является частью глобального состояния шардчейна, поэтому за
хранение глобальных данных в течение длительного времени также может взиматься
плата с помощью специальных транзакций. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2</span></b><span
lang=EN-US>.<b style='mso-bidi-font-weight:normal'>4.26. Сообщения,
передаваемые в мастерчейн и из него</b>. Сообщения могут быть отправлены
напрямую из любого шардчейна в мастерчейн и наоборот. Однако оплата за газ для
отправки и обработки сообщений в мастерчейне довольно высокая, поэтому эта
возможность будет использоваться только в случае необходимости - например,
валидаторами для внесения своих долей. В некоторых случаях может быть определен
минимальный депозит (прикрепленное значение) для отправляемых в мастерчейн
сообщений, который будет возвращаться только в том случае, если сообщение
считается «действительным» принимающей стороной. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Автоматическая
маршрутизация сообщений в мастерчейне отсутствует. Сообщение с идентификатором
workchain_id </span><span lang=EN-US style='font-size:11.5pt;mso-bidi-font-size:
12.0pt;line-height:105%;font-family:"Arial",sans-serif;mso-fareast-font-family:
Arial;color:#2C2D2E'>≠</span><span lang=EN-US> —1 (—1 — специальный
workchain_id, указывающий на мастерчейн) не может быть доставлено в мастерчейн.
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В принципе, можно создать смарт-контракт
для пересылки сообщений внутри мастерчейна, однако цена за его использование
будет непомерно высокой. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.4.27.
Сообщения между учетными записями в одном шардчейне</span></b><span lang=EN-US>.
В некоторых случаях учетной записью, принадлежащей определенному шардчейну,
создается сообщение, предназначенное для другой учетной записи в том же
шардчейне. Например, это происходит в новом воркчейне, который еще не разделен
на несколько шардчейнов благодаря нормальному уровню нагрузки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Такие сообщения могут накапливаться в
выходной очереди шардчейна, а затем обрабатываться как входящие сообщения в
последующих блоках (для этой цели любой шард считается своим собственным
соседним элементом). Однако в большинстве случаев эти сообщения можно доставить
в самом исходном блоке. Для этого для всех транзакций в блоке шардчейна
вводится частичный порядок, а транзакции (каждая из которых заключается в
доставке сообщения какой-либо учетной записи) обрабатываются с соблюдением
этого частичного порядка. В частности, транзакции разрешено обрабатывать
некоторое выходное сообщение предыдущей транзакции по отношению к этому
частичному порядку. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>В этом случае тело сообщения не копируется
дважды. Вместо этого исходящая и обрабатывающая транзакции ссылаются на общую
копию сообщения. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116695">2.5. Глобальное состояние
шардчейна. Философия «мешка ячеек». </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Теперь мы готовы описать глобальное
состояние блокчейна TON или как минимум шардчейна базового воркчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы начинаем с «высокоуровневого» или
«логического» описания, которое заключается в том, что глобальное состояние
является значением алгебраического типа данных ShardchainState. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.1.
Состояние шардчейна как совокупность состояний цепочки учетных записей.</span></b><span
lang=EN-US> Согласно парадигме бесконечного шардинга (см. 2.1.2), любой
шардчейн представляет собой (временную) совокупность виртуальных «цепочек
учетных записей», каждая из которых содержит ровно одну учетную запись. Это
означает, что, по сути, состояние глобальной шардчейна представлено в виде
хэш-карты. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:20.25pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:54.0pt'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_8635"
 o:spid="_x0000_i1037" type="#_x0000_t75" style='width:332pt;height:29pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image028.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=332 height=29
src="ton_whitepaper_ru.fld/image028.jpg" v:shapes="Picture_x0020_8635"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span>где все идентификаторы
account_ id, появляющиеся как индексы этой хэш-карты, должны начинаться с
префикса s, если имеется в виду состояние шарда (w, s) (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.1.8). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection8>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:4.25pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.5. Глобальное состояние шардчейна. Философия «мешка ячеек». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_97401" o:spid="_x0000_s2066"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQDolJyjbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVNFu2yAUfZ+0f0B+X+ykSdpacfqwbnmZ
tmrtPoBgsC1hQEDi5O93ubaJl07V1PnBxnDv4Z7D4W4eTq0kR25do1WRzGdZQrhiumxUVSS/Xr5+
ukuI81SVVGrFi+TMXfKw/fhh05mcL3StZcktARDl8s4USe29ydPUsZq31M204QoWhbYt9fBrq7S0
tAP0VqaLLFunnbalsZpx52D2sV9MtogvBGf+hxCOeyKLBGrz+Lb43od3ut3QvLLU1A0byqDvqKKl
jYJNI9Qj9ZQcbPMKqm2Y1U4LP2O6TbUQDePIAdjMsys2O6sPBrlUeVeZKBNIe6XTu2HZ9+POmmfz
ZEGJzlSgBf4FLidh2/CFKskJJTtHyfjJEwaTq9XyfrFeJ4TB2vpmNSjKapD9VRKrv7yVlo5bpn8U
0hmwhruwd//H/rmmhqOoLgf2T5Y0JTh3fntzBwZRtAWXYgwZ5lAYjI0yudyBYu/S6H6+XAbXRbI0
Zwfnd1yj1vT4zfnelOU4ovU4Yic1Di1Y+01TG+pDXigyDEk3Oay6SLCOsNjqI3/RGOavTgxqvKxK
NY2K5z5aAmLHiPFrEG8aOSE/Bo3fPhhOAAD/MQy9FveFQeCJykbuMDlVV6ogA2zCKPQaIanHS9s2
HpqQbFrwweI2yy7AgBbs1582jvxZ8iCWVD+5AOvgxQgTzlb7z9KSIw2tBh8Ep9LUdJgdDn4IxVIR
J+SLRsoIOcfUv0H21hmCQx7HLhczsz6TDdX0rQ4aBpAeGx6IEpNwZ618zFfQprHMCdsw3OvyjE0C
BYH7iNJgX0IeQw8NjW/6j1GXTr/9DQAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQDolJyjbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117380" o:spid="_x0000_s2067" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQBy8pacyQAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI/BSsNA
EIbvgu+wjOBF7KaKmqTdlqIIHryk9QGG7JgEs7MhO2miT+8cBC8DP8P//Xzb/RJ6c6YxdZEdrFcZ
GOI6+o4bBx+n19scTBJkj31kcvBNCfa7y4stlj7OXNH5KI1RCKcSHbQiQ2ltqlsKmFZxINbfZxwD
isaxsX7EWeGht3dZ9mgDdqwLLQ703FL9dZyCgwM+FIXMNz/veZymU1YVk1Teueur5WWj57ABI7TI
f+MP8ebVYf10n6uGSmkAu/sFAAD//wMAUEsBAi0AFAAGAAgAAAAhANvh9svuAAAAhQEAABMAAAAA
AAAAAAAAAAAAAAAAAFtDb250ZW50X1R5cGVzXS54bWxQSwECLQAUAAYACAAAACEAWvQsW78AAAAV
AQAACwAAAAAAAAAAAAAAAAAfAQAAX3JlbHMvLnJlbHNQSwECLQAUAAYACAAAACEAcvKWnMkAAADk
AAAADwAAAAAAAAAAAAAAAAAHAgAAZHJzL2Rvd25yZXYueG1sUEsFBgAAAAADAAMAtwAAAP0CAAAA
AA==
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=437 height=1 v:shapes="Group_x0020_97401 Shape_x0020_117380"><![endif]></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1036" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><span lang=EN-US>На практике нам может потребоваться
разделить AccountState на несколько частей (например, сохранить отдельную
очередь выходных сообщений учетной записи, чтобы упростить ее проверку
соседними шардчейнами) и использовать несколько хэш-карт (Account --&gt; *
AccountStatePart</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>) внутри ShardchainState. Мы
также можем добавить небольшое количество «глобальных» или «интегральных»
параметров в ShardchainState (например, общий баланс всех учетных записей,
принадлежащих этому шарду, или общее количество сообщений во всех очередях
вывода). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако (23) – это наглядное приближение
того, как выглядит глобальное состояние шардчейна, по крайней мере, с
«логической» («высокоуровневой») точки зрения. Формальное описание
алгебраических типов Accountstate и ShardchainState может быть выполнено с
помощью TL-схемы (см. 2.2.5), которая будет предоставлена гделибо еще. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.2.
Разделение и объединение состояний шардчейна</span></b><span lang=EN-US>.
Обратите внимание, что описание состояния шардчейна (23) в парадигме
бесконечного шардинга показывает, как это состояние должно обрабатываться при
разделении или слиянии шардчейнов. Фактически, эти преобразования состояний
являются очень простыми операциями с хэш-картами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.3.
Состояние цепочки учетных записей</span></b><span lang=EN-US>. Состояние
(виртуальной) цепочки учетных записей - это просто состояние одной учетной
записи, описываемое типом AccountState. Обычно в нем есть все или некоторые из
полей, перечисленных в 2.3.20, в зависимости от конкретного используемого
конструктора. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.4.
Состояние глобального воркчейна</span></b><span lang=EN-US>. Подобно (23), мы
можем определить состояние глобального воркчейна по той же формуле, но с
использованием идентификатора account_id, s, которому разрешено принимать любые
значения, а не только значения, которые принадлежат одному шарду. В этом случае
применимы замечания, подобные замечаниям в 2.5.1: мы можем разделить эту
хэш-карту на несколько хэш-карт и добавить некоторые «интегральные» параметры,
такие как общий баланс. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>По сути, глобальное состояние воркчейна
должно быть задано тем же типом ShardchainState, что и состояние шардчейна,
потому что это состояние шардчейна, которое мы получили бы, если бы все
существующие шардчейны данного воркчейна внезапно слились бы в один шардчейн. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.5.
Низкоуровневая перспектива: «мешок ячеек»</span></b><span lang=EN-US>.
Существует также «низкоуровневое» описание цепочки учетных записей или
состояния шардчейна, дополняющее приведенное выше «высокоуровневое» описание.
Это описание очень важно, потому что оно является довольно универсальным и
обеспечивает общую основу для представления, хранения, сериализации и передачи
по сети почти всех<span style='mso-spacerun:yes'>  </span>данных, используемых
блокчейном TON (блоки, состояния шардчейна, хранилище смарт-контрактов,
доказательства Меркла и т.д.). В то же время такое понятное универсальное
«низкоуровневое» описание позволяет нам сосредоточить внимание только на
соображениях «высокого уровня». </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Напомним, что TVM представляет значения
произвольных алгебраических типов (включая, например, ShardchainState из (23))
посредством дерева ячеек TVM, или для краткости «ячеек» (см. 2.3.14 и 2.2.5). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><span lang=EN-US>Любая такая ячейка состоит из двух байтов
дескриптора, определяющих </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>определенные
флаги и значения 0 </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≤ </span><span lang=EN-US>b </span><span
lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;
color:#333333'>≤</span><span lang=EN-US>128, количество необработанных байтов,
и 0 </span><span lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:
Arial;color:#333333'>≤</span><span lang=EN-US> c </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≤</span><span
lang=EN-US> 4 - количество ссылок на другие ячейки. Затем следуют b
необработанных байтов и c ссылок на ячейки<sup>18</sup>. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Точный формат ссылок на ячейки зависит от
реализации и от того, находится ли ячейка в ОЗУ, на диске, в сетевом пакете, в
блоке и т. д. Полезная абстрактная модель<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:4.4pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.5. Глобальное состояние шардчейна. Философия «мешка ячеек». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_97754" o:spid="_x0000_s2064"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQCt/qDocAIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVE2P2yAQvVfqf0DcGzvZJLtrxdlDt82l
alfd7Q8gGGxLGBCQOPn3HcYfcbPVqtr6gAeYecx7DLN5ODWKHIXztdE5nc9SSoTmpqh1mdNfL18/
3VHiA9MFU0aLnJ6Fpw/bjx82rc3EwlRGFcIRANE+a21OqxBsliSeV6Jhfmas0LApjWtYgKkrk8Kx
FtAblSzSdJ20xhXWGS68h9XHbpNuEV9KwcMPKb0IROUUcgs4Ohz3cUy2G5aVjtmq5n0a7B1ZNKzW
cOgI9cgCIwdXv4Jqau6MNzLMuGkSI2XNBXIANvP0is3OmYNFLmXWlnaUCaS90undsPz7cefss31y
oERrS9ACZ5HLSbom/iFLckLJzqNk4hQIh8XVanm/WK8p4bC3vln1ivIKZH8VxKsvb4Ulw5HJH4m0
FkrDX9j7/2P/XDErUFSfAfsnR+oCKnd+e3O3oESzBqoUfUi/hsKg7yiTzzwo9i6N7ufLZay6kSzL
+MGHnTCoNTt+86ErymKwWDVY/KQH00Fpv1nUloUYF5OMJmknl1XlFPOIm405iheDbuHqxiDHy67S
U6/x3oeSAN/BY/hbxJt6TsgPTsO/c4YnCoD/6Ia1Np4LRuSJyo7cYXGqrtJRBjiEM+g1UrGAj7ap
AzQhVTdQB4vbNL0AA1osv+620QpnJaJYSv8UEkoHH0Zc8K7cf1aOHFlsNfghOFO2Yv1qf/G9K6aK
ODFe1kqNkHMM/RtkVzq9c4wT2OXGyLSL5H02XauDhgGkh4YHooxBeLLRYYzX0KYxzQnbaO5NccYm
gYLAe0RpsC8hj76HxsY3naPXpdNvfwMAAP//AwBQSwMEFAAGAAgAAAAhAJS4BvzfAAAACAEAAA8A
AABkcnMvZG93bnJldi54bWxMj09Lw0AQxe+C32EZwZvdxKK2aTal1D+nItgK0ts0mSah2dmQ3Sbp
t3f0opcHw5t5837pcrSN6qnztWMD8SQCRZy7oubSwOfu9W4GygfkAhvHZOBCHpbZ9VWKSeEG/qB+
G0olIewTNFCF0CZa+7wii37iWmLxjq6zGGTsSl10OEi4bfR9FD1qizXLhwpbWleUn7Zna+BtwGE1
jV/6zem4vux3D+9fm5iMub0ZnxciqwWoQGP4u4AfBukPmRQ7uDMXXjUGhCb8qnizp+kc1EGWItBZ
qv8DZN8AAAD//wMAUEsBAi0AFAAGAAgAAAAhALaDOJL+AAAA4QEAABMAAAAAAAAAAAAAAAAAAAAA
AFtDb250ZW50X1R5cGVzXS54bWxQSwECLQAUAAYACAAAACEAOP0h/9YAAACUAQAACwAAAAAAAAAA
AAAAAAAvAQAAX3JlbHMvLnJlbHNQSwECLQAUAAYACAAAACEArf6g6HACAAAxBgAADgAAAAAAAAAA
AAAAAAAuAgAAZHJzL2Uyb0RvYy54bWxQSwECLQAUAAYACAAAACEAlLgG/N8AAAAIAQAADwAAAAAA
AAAAAAAAAADKBAAAZHJzL2Rvd25yZXYueG1sUEsFBgAAAAAEAAQA8wAAANYFAAAAAA==
">
 <v:shape id="Shape_x0020_117382" o:spid="_x0000_s2065" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQDtbK1wygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9BS8NA
FITvQv/D8gq9iN20oiZpt6VUBA9e0voDHtnXJDT7NmRfmuivdwXBy8AwzDfMdj+5Vt2oD41nA6tl
Aoq49LbhysDn+e0hBRUE2WLrmQx8UYD9bna3xdz6kQu6naRSEcIhRwO1SJdrHcqaHIal74hjdvG9
Q4m2r7TtcYxw1+p1kjxrhw3HhRo7OtZUXk+DM3DApyyT8f77I/XDcE6KbJDCGrOYT6+bKIcNKKFJ
/ht/iHcbP6xeHtM1/J6KBvTuBwAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAO1srXDKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=437 height=1 v:shapes="Group_x0020_97754 Shape_x0020_117382"><![endif]></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1035" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>заключается в том, что все ячейки хранятся
в памяти с адресацией по содержимому с адресом ячейки, равным ее хэш-функции
(SHA256). Напомним, что хеш (Меркла) ячейки вычисляется путем замены ссылок на
ее дочерние ячейки их (рекурсивно вычисляемыми) хешами и хеширования полученной
байтовой строки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, если мы используем хэши
ячеек для ссылки на ячейки (например, внутри описаний других ячеек), система
несколько упрощается, и хэш ячейки начинает совпадать с хешем представляющей ее
байтовой строки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Теперь мы видим, что любой представляемый
TVM объект, включая глобальное состояние шардчейна, может быть представлен как
«мешок ячеек» — т. е. набор ячеек вместе с «корневой» ссылкой на одну из них
(например, хешем). Обратите внимание, что повторяющиеся ячейки отсутствуют в
этом описании («набор ячеек» — это набор ячеек, а не мультимножество ячеек),
поэтому представление абстрактного дерева фактически может стать представлением
ориентированного ациклического графа </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>(dag). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это состояние можно сохранить на диске в
дереве B- или B+-, содержащем все рассматриваемые ячейки (возможно, с
некоторыми дополнительными данными, такими как высота поддерева или счетчик
ссылок) и проиндексированном хэшем ячеек. Однако примитивная реализация этой
идеи может привести к тому, что состояние одного смарт-контракта будет
разбросано по удаленным частям файла на диске, чего мы предпочли бы избежать<sup>19</sup>.
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Теперь мы собираемся более подробно
объяснить, как почти все объекты, используемые блокчейном TON, могут быть
представлены в виде «мешков ячеек», демонстрируя тем самым универсальность
этого подхода. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.6.
Блок шардчейна как «мешок ячеек».</span></b><span lang=EN-US> Блок шардчейна
может быть описан алгебраическим типом и храниться как «мешок ячеек». Тогда
простое двоичное представление блока может быть получено простым объединением
строк байтов, представляющих каждую из ячеек в «мешке ячеек», в произвольном
порядке. Это представление может быть улучшено и оптимизировано, например,
путем предоставления списка смещений всех ячеек в начале блока и замены хеш-ссылок
на другие ячейки 32-битными индексами в этом списке, когда это возможно.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако следует учитывать, что блок — это,
по сути, «мешок ячеек», а все остальные технические детали — лишь мелкие
компоненты оптимизации и реализации. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.5.7.
Обновление объекта как «мешка ячеек»</span></b><span lang=EN-US>. Представьте,
что у нас есть старая версия некоторого объекта, представленного в виде «мешка
ячеек», и мы хотим представить новую версию того же объекта, предположительно
не слишком отличающуюся от предыдущей. Новое состояние может быть представлено
просто как еще один «мешок ячеек» с собственным корнем, из которого будут
удалены все ячейки, встречающиеся в старой версии. По сути, оставшийся «мешок
ячеек» является обновлением объекта. Каждый пользователь, у которого есть
старая версия этого объекта и обновление, может вычислить новую версию, просто
объединив два пакета ячеек и удалив старый корень (уменьшив его счетчик ссылок
и освободив ячейку, если счетчик ссылок становится равным нулю). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:.5pt;text-align:left;line-height:109%;mso-list:
l17 level1 lfo9'><![if !supportLists]><sup><span lang=EN-US style='font-size:
10.0pt;line-height:109%'><span style='mso-list:Ignore'>18<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:109%'>Можно показать, что если
доказательства Меркла для всех данных, хранящихся в дереве ячеек, требуются
одинаково часто, следует использовать ячейки с b+ch ≈ 2(h+r), чтобы
минимизировать средний размер доказательства Меркла, где h = 32 — это размер
хеша в байтах, а r ≈ 4 — размер ссылки на ячейку в байтах. Другими словами,
ячейка должна содержать либо две ссылки и несколько необработанных байтов, либо
одну ссылку и около 36 необработанных байтов, либо вообще не иметь ссылок с 72
необработанными байтами. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:.5pt;text-align:left;line-height:109%;mso-list:
l17 level1 lfo9'><![if !supportLists]><sup><span lang=EN-US style='font-size:
10.0pt;line-height:109%'><span style='mso-list:Ignore'>19<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></sup><![endif]><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:109%'>Наилучшей реализацией было бы
сохранение состояния смарт-контракта в виде сериализированной строки, если оно
маленькое, или в отдельном B-дереве, если оно большое. Тогда структура верхнего
уровня, представляющая состояние блокчейна, будет B-деревом, листья которого
могут содержать ссылки на другие B-деревья. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:4.3pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.5. Глобальное состояние шардчейна. Философия «мешка ячеек». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_98057" o:spid="_x0000_s2062"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQBiQOQ1bwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVMlu2zAQvRfoPxC815Id20kEyzk0rS9F
GzTpB9AUtQDcQNKW/fcdjharThEUqQ7UkJx5nPc4nM3DSUlyFM43Rud0PkspEZqbotFVTn+9fP10
R4kPTBdMGi1yehaePmw/fti0NhMLUxtZCEcARPustTmtQ7BZknheC8X8zFihYbM0TrEAU1clhWMt
oCuZLNJ0nbTGFdYZLryH1cduk24RvywFDz/K0otAZE4ht4Cjw3Efx2S7YVnlmK0b3qfB3pGFYo2G
Q0eoRxYYObjmFZRquDPelGHGjUpMWTZcIAdgM0+v2OycOVjkUmVtZUeZQNornd4Ny78fd84+2ycH
SrS2Ai1wFrmcSqfiH7IkJ5TsPEomToFwWFytlveL9ZoSDnvrm1WvKK9B9ldBvP7yVlgyHJn8kUhr
oTT8hb3/P/bPNbMCRfUZsH9ypCmgcue3N3dLSjRTUKXoQ/o1FAZ9R5l85kGxd2l0P18uY9WNZFnG
Dz7shEGt2fGbD11RFoPF6sHiJz2YDkr7zaK2LMS4mGQ0STu5rDqnmEfcVOYoXgy6hasbgxwvu1JP
vcZ7H0oCfAeP4W8Rb+o5IT84Df/OGZ4oAP6jG9baeC4YkScqO3KHxam6UkcZ4BDOoNeUkgV8tKoJ
0IRko6AOFrdpegEGtFh+3W2jFc5SRLGk/ilKKB18GHHBu2r/WTpyZLHV4IfgTNqa9av9xfeumCri
xPiykXKEnGPo3yC70umdY5zALjdGpl0k77PpWh00DCA9NDwQZQzCk40OY7yGNo1pTthGc2+KMzYJ
FATeI0qDfQl59D00Nr7pHL0unX77GwAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQBiQOQ1bwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117384" o:spid="_x0000_s2063" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQANyZCfywAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI/NasMw
EITvhbyD2EAupZGT/sR2ooTQUuihFyd5gMXa2qbWyljr2O3TV4VCLwPDMN8wu8PkWnWlPjSeDayW
CSji0tuGKwOX8+tdCioIssXWMxn4ogCH/exmh7n1Ixd0PUmlIoRDjgZqkS7XOpQ1OQxL3xHH7MP3
DiXavtK2xzHCXavXSfKkHTYcF2rs6Lmm8vM0OANHfMwyGW+/31M/DOekyAYprDGL+fSyjXLcghKa
5L/xh3iz8cNqc58+wO+paEDvfwAAAP//AwBQSwECLQAUAAYACAAAACEA2+H2y+4AAACFAQAAEwAA
AAAAAAAAAAAAAAAAAAAAW0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQBa9CxbvwAA
ABUBAAALAAAAAAAAAAAAAAAAAB8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQANyZCfywAA
AOQAAAAPAAAAAAAAAAAAAAAAAAcCAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAMAAwC3AAAA/wIA
AAAA
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=437 height=1 v:shapes="Group_x0020_98057 Shape_x0020_117384"><![endif]></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1034" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l6 level3 lfo11'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Обновления состояния учетной записи</span></b><span lang=EN-US>. В
частности, обновления состояния учетной записи или глобального состояния
шардчейна или любой хэш-карты могут быть представлены с использованием идеи,
описанной в 2.5.7. Это означает, что когда мы получаем новый блок шардчейна
(который представляет собой «мешок ячеек»), мы интерпретируем не только
собственно этот «мешок ячеек», но сначала объединяем его с «мешком ячеек»,
представляющим предыдущее состояние шардчейна. В этом смысле каждый блок может
«содержать» все состояние блокчейна. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l6 level3 lfo11'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Обновления в блоке</span></b><span lang=EN-US>. Напомним, что сам
блок представляет собой «мешок ячеек», поэтому, если возникает необходимость
отредактировать блок, можно аналогичным образом определить «обновление блока»
как «мешок ячеек», интерпретируемый при наличии «мешка ячеек», который является
предыдущей версией этого блока. Этот процесс является примерной идеей
«вертикальных блоков», описываемых в 2.1.17. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l6 level3 lfo11'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.10.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Доказательство Меркла как «мешок ячеек».</span></b><span lang=EN-US>
Обратите внимание, что (обобщенное) доказательство Меркла - например,
утверждение, что x[i] = y, начиная с известного значения HASH(x) = h (см.
2.3.10 и 2.3.15), - также может быть представлено как «мешок ячеек». А именно,
нужно просто предоставить подмножество ячеек, соответствующее пути от корня x:
Hashmap(n, X) к целевому листу с индексом i: 2<sup>n</sup> и значением y: X.
Ссылки на дочерние элементы этих ячеек, которые не лежат на этом пути,
останутся «нерешенными» в этом доказательстве, представленном хешами ячеек.
Можно также обеспечить одновременное доказательство Меркла, скажем, x[i] = y и
x[i'] = y', включив в «мешок ячеек» ячейки, лежащие на пути объединения двух
путей от корня x в листы, соответствующие индексам i и i'. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l6 level3 lfo11'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.11.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Доказательства Меркла в виде ответов на запросы от полных нод</span></b><span
lang=EN-US>. По сути, полная нода с полной копией состояния шардчейна (или цепочки
учетных записей) может предоставить доказательство Меркла по запросу неполного
узла (например, сетевого узла, на котором запущена облегченная версия клиента
блокчейна TON), что позволяет получателю выполнять некоторые простые запросы
без внешней помощи, используя только ячейки в этом доказательстве Меркла.
Неполная нода может отправлять свои запросы в сериализированном формате на
полную ноду и получать правильные ответы с доказательствами Меркла (или просто
доказательства Меркла), потому что запрашивающая сторона должна иметь
возможность вычислять ответы, используя только ячейки, включенные в
доказательство Меркла. Это доказательство Меркла будет состоять из «мешка
ячеек», содержащего только ячейки, принадлежащие к состоянию шардчейна, к
которым получила доступ полная нода при выполнении запроса неполной ноды. Такой
подход может использоваться, в частности, для выполнения «запросов на
получение» смарт-контрактов (см. 4.3.12). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l6 level3 lfo11'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.12.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Дополненное обновление или обновление состояния с доказательством
Меркла</span></b><span lang=EN-US>. Напомним (см. 2.5.7), что мы можем описать
изменения в состоянии объекта от старого значения x: X к новому значению x': X
с помощью «обновления», которое представляет собой просто «мешок ячеек» с
ячейками, которые лежат в поддереве, представляющем новое значение x', но не в
поддереве, представляющем старое значение x, поскольку предполагается, что
получатель имеет копию старого значения x и всех его ячеек. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>Однако если получатель не имеет полной
копии x, но знает только ее хэш (Меркла) h </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>= HASH(X), он не сможет проверить
правильность обновления (т. е. все<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:4.4pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.5. Глобальное состояние шардчейна. Философия «мешка ячеек». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_98143" o:spid="_x0000_s2060"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQC9bR6QbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVMGO2yAQvVfqPyDfGzvZJNtYSfbQbXOp
2tXu9gMIBtsSBgQkTv6+w9gmbrZaVakPeICZx7zHMOuHUyPJkVtXa7VJppMsIVwxXdSq3CS/Xr99
+pwQ56kqqNSKb5Izd8nD9uOHdWtyPtOVlgW3BECUy1uzSSrvTZ6mjlW8oW6iDVewKbRtqIepLdPC
0hbQG5nOsmyZttoWxmrGnYPVx24z2SK+EJz5n0I47oncJJCbx9HiuA9jul3TvLTUVDXr06A3ZNHQ
WsGhEeqRekoOtn4D1dTMaqeFnzDdpFqImnHkAGym2RWbndUHg1zKvC1NlAmkvdLpZlj247iz5sU8
WVCiNSVogbPA5SRsE/6QJTmhZOcoGT95wmBxsZivZstlQhjsLe8WvaKsAtnfBLHq63th6XBk+kci
rYHScBf27v/Yv1TUcBTV5cD+yZK6gMqd3t+tgIaiDVQp+pB+DYVB3yiTyx0odpNGq+l8HqoukqU5
Ozi/4xq1psfvzndFWQwWrQaLndRgWijtd4vaUB/iQpLBJO3osqpNgnmEzUYf+atGN391Y5DjZVeq
sVe896EkwHfwGP4G8caeI/KD0/DvnOGJAuA/umGtxXPBCDxR2cgdFsfqShVkgEMYhV4jJPX4aJva
QxOSdQN1MLvPsgswoIXy624bLX+WPIgl1TMXUDr4MMKCs+X+i7TkSEOrwQ/BqTQV7Vf7i+9dMVXE
CfGiljJCTjH0b5Bd6fTOIY5jl4uRWRfJ+my6VgcNA0gPDQ9EiUF4slY+xito05jmiG0w97o4Y5NA
QeA9ojTYl5BH30ND4xvP0evS6be/AQAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQC9bR6QbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117396" o:spid="_x0000_s2061" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQAXjj2uygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9Ba8JA
FITvhf6H5Qm9FN3YojXRVaSl4MFLtD/gkX0mwezbkH0xaX99Vyj0MjAM8w2z2Y2uUTfqQu3ZwHyW
gCIuvK25NPB1/pyuQAVBtth4JgPfFGC3fXzYYGb9wDndTlKqCOGQoYFKpM20DkVFDsPMt8Qxu/jO
oUTbldp2OES4a/RLkiy1w5rjQoUtvVdUXE+9M7DHRZrK8PxzXPm+Pyd52ktujXmajB/rKPs1KKFR
/ht/iIONH+Zvr+kS7qeiAb39BQAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhABeOPa7KAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=437 height=1 v:shapes="Group_x0020_98143 Shape_x0020_117396"><![endif]></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1033" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«подвешенные» ссылки на ячейки в
обновлении действительно относятся к ячейкам, присутствующим в дереве x).
Хотелось бы иметь «проверяемые» обновления, дополненные доказательствами Меркла
для существования всех упомянутых ячеек в старом состоянии. Тогда любой
пользователь, который знает только h = HASH(X), сможет проверить правильность
обновления и вычислить новый h' = HASH (X') самостоятельно. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поскольку наши доказательства Меркла сами
по себе являются «мешками ячеек» (см. 2.5.10), можно построить такое расширенное
обновление, как «мешок ячеек»,<span style='mso-spacerun:yes'> 
</span>содержащий старый корень x, некоторые из его потомков вместе с путями из
корня x, а также новый корень x' и всех его потомков, которые не являются
частью x. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l2 level3 lfo10'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.13.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Обновление состояния учетной записи в блоке шардчейна</span></b><span
lang=EN-US>. В частности, обновления состояния учетной записи в блоке шардчейна
должны быть дополнены, как обсуждалось в 2.5.12. В противном случае кто-то
может зафиксировать блок, содержащий недопустимое обновление состояния,
ссылаясь на ячейку, отсутствующую в старом состоянии; доказать невалидность
такого блока будет проблематично (как претенденту доказать, что ячейка не
является частью предыдущего состояния?). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если дополняются все обновления состояния,
включенные в блок, их достоверность можно легко проверить, а их невалидность
также отображается как нарушение рекурсивного определяющего свойства
(обобщенных) хэшей Меркла. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l2 level3 lfo10'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.14.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Философия «все есть мешок ячеек».</span></b><span lang=EN-US> Предыдущие
соображения показывают, что все данные, которые необходимо хранить или
передавать, будь то в блокчейне TON или в сети, можно представить в виде «мешка
ячеек». Это важная часть философии проектного решения блокчейна TON. После
объяснения подхода «мешок ячеек» и определения некоторых «низкоуровневых»
сериализаций «мешков ячеек» можно просто определить все (формат блока, шардчейн
и состояние учетной записи и т. д.) с помощью высокого уровня абстрактных
(зависимых) алгебраических типов данных. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Объединяющий эффект философии «все есть
мешок ячеек» значительно упрощает реализацию, казалось бы, несвязанных сервисов
(в п. 5.1.9 приведен пример с платежными каналами). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l2 level3 lfo10'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.5.15.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>«Заголовки» блоков для блокчейнов TON</span></b><span lang=EN-US>.
Обычно блок в блокчейне начинается с небольшого заголовка, содержащего хэш
предыдущего блока, время его создания, хэш Меркла дерева всех транзакций,
содержащихся в блоке, и так далее. Затем хеш блока определяется как хеш этого
небольшого заголовка блока. Поскольку заголовок блока в конечном итоге зависит
от всех данных, включенных в блок, нельзя невозможно изменить блок, не изменив
его хэш. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>При использовании подхода «мешок ячеек»,
который используется блокчейнами TON, назначенный заголовок блока отсутствует.
Вместо этого хеш блока определяется как хеш (Меркла) корневой ячейки блока.
Следовательно, верхняя (корневая) ячейка блока может считаться небольшим
«заголовком» этого блока. Однако корневая ячейка может не содержать всех
данных, обычно ожидаемых от такого заголовка. По сути, нужно, чтобы заголовок содержал
некоторые поля, определенные в типе данных Block. Обычно эти поля содержатся в
нескольких ячейках, включая корневую ячейку. Эти ячейки вместе составляют
«доказательство Меркла» для значений рассматриваемых полей. Можно было бы
настаивать на том, чтобы эти «ячейки заголовка» содержались в самом начале
блока, перед любыми другими ячейками. Тогда нужно будет загрузить только первые
несколько байтов сериализации блока, чтобы получить все «ячейки заголовка» и
изучить все необходимые поля. </span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection9>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:4.0pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>2.6. Создание и проверка новых блоков</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116696">2.6. Создание и проверка
новых блоков </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>По сути, блокчейн TON состоит из блоков
шардчейна и мастерчейна. Чтобы обеспечить бесперебойную и правильную работу
системы, эти блоки должны создаваться, проверяться и распространяться по сети
всем заинтересованным сторонам. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.1.
Валидаторы</span></b><span lang=EN-US>. Новые блоки создаются и проверяются
специальными назначенными узлами, называемыми валидаторами. В сущности, любая
желающая нода может стать валидатором, при условии внесения достаточно большого
стейка (в монетах TON, см. Приложение A) в мастерчейн. Валидаторы получают </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>&quot;вознаграждения&quot; за хорошую
работу, а именно, комиссии за транзакции, хранение и газ со всех транзакций
(сообщений), включенных в только что созданные блоки, и некоторое количество
только что &quot;отчеканенных&quot; монет, что отражает </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>&quot;благодарность&quot; всего сообщества
валидаторам за поддержание работы блокчейна TON. Этот доход распределяется
среди всех участвующих валидаторов пропорционально их стейкам. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако быть валидатором - это большая
ответственность. Если валидатор подписывает невалидный блок, он может быть
наказан потерей части или всего своего стейка, и временным или постоянным
исключением из набора валидаторов. Если валидатор не участвует в создании
блока, он не получает свою долю награды за этот блок. Если валидатор
воздерживается от создания новых блоков длительное время, он может потерять
часть стейка и быть временно или навсегда исключен из набора валидаторов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Всё это значит, что валидатор не получает
свои деньги &quot;ни за что&quot;. Действительно, валидатор должен следить за
состояниями всех или некоторых шардчейнов (каждый валидатор отвечает за
валидацию и создание новых блоков в конкретном наборе шардчейнов), выполнять
все вычисления для смарт-контрактов в этих шардчейнах, получать обновления о
других шардчейнах и так далее. Эта деятельность требует значительного дискового
пространства, вычислительной мощности и ширины интернет-канала. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.2.
Валидаторы вместо майнеров</span></b><span lang=EN-US>. Напомним, что блокчейн
TON использует подход Proof-of-Stake, вместо подхода Proof-of-Work,
используемого Биткоином, текущей версией Эфириума, и большинством других
криптовалют. Это значит, что нельзя &quot;майнить&quot; новые блоки,
предоставляя некое доказательство проделанной работы (вычисления большого
количества в ином случае бесполезных хэшей) и получать в результате новые монеты.
Вместо этого, нужно стать валидатором и тратить вычислительные мощности на
хранение и обработку реквестов и данных блокчейна TON. Коротко говоря, нужно
быть валидатором, чтобы &quot;майнить&quot; новые монеты. В этом смысле,
валидаторы являются новыми майнерами. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Тем не менее, есть другие способы
заработать монеты помимо становления валидатором. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.3.
Номинаторы и «майнинг-пулы».</span></b><span lang=EN-US> Чтобы стать
валидатором, обычно требуется приобретать и устанавливать несколько
высокопроизводительных серверов и обеспечивать хорошее интернет-соединение для
них. Это не так дорого как оборудование ASIC, на данный момент требуемое для
майнинга Биткоинов.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако, майнить новые монеты TON
определенно не получится на домашнем компьютере, не говоря о смартфоне. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В майнинг-сообществах Биткоина, Эфириума и
других Proof-of-Work криптовалютах есть определение «майнинг-пулов» с большим
количеством нод, которые сами по себе не имеют достаточно мощности для майнинга
новых блоков, но объединяют усилия и впоследствии разделяют награду. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>Соответствующим определением в мире
Proof-of-Stake является номинатор. По сути, номинатор - это нода, одалживающая
свои деньги, чтобы помочь валидатору увеличить его стейк. Впоследствии
валидатор отдает соответствующую часть своей награды (или ранее согласованную
её долю, скажем, 50%) номинатору. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><span lang=EN-US>В этом смысле номинатор также может
принять участие в «майнинге» и получить часть награды пропорционально
количеству денег, которую он желает одолжить для<span
style='mso-spacerun:yes'>  </span>этой цели. Он получает только часть доли от
награды валидатора, поскольку он предоставляет только «капитал», но не имеет
нужды приобретать вычислительную мощность, дисковое пространство и
интернет-канал. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако если валидатор теряет свой стейк
из-за невалидного поведения, номинатор также теряет свою долю стейка. В этом
понимании номинатор разделяет риск. Он должен выбирать номинированного
валидатора мудро, иначе он может потерять деньги. В этом смысле номинаторы
принимают взвешенное решение и «голосуют» за конкретных валидаторов своими
деньгами. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>С другой стороны, эта система
номинирования или одалживания позволяет стать валидатором без изначального
инвестирования большого количества денег в монеты TON. Другими словами, это не
позволяет обладателям большого количества монет TON стать монополистом в среде
валидаторов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.4.
Фишермен: получение денег за указание на чужие ошибки</span></b><span
lang=EN-US>. Другой способ получить награду без необходимости становиться
валидатором это возможность стать фишерменом. По сути, любая нода может стать
фишерменом, сделав небольшой депозит в мастерчейн. После этого она может через
специальные транзакции в мастерчейне публиковать доказательства (Меркла)
невалидности каких-либо блоков (обычно в шардчейнах), ранее подписанных и
опубликованных валидаторами. Если другие валидаторы соглашаются с
доказательством невалидности, обвиняемые валидаторы наказываются (потерей части
их стейка), и фишермен получает награду (часть монет, конфискованных у
обвиняемых валидаторов). После чего невалидный блок (шардчейна) должен быть
исправлен, как описано в 2.1.17. Исправление невалидных блоков мастерчейна
может вовлекать создание &quot;вертикальных&quot; блоков поверх ранее включенных
блоков мастерчейна (см. 2.1.17); необходимость создавать форк мастерчейна
отсутствует. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обычно фишермену может потребоваться стать
полной нодой для хотя бы некоторых шардчейнов и тратить вычислительные ресурсы
на выполнение кода хотя бы некоторых смарт-контрактов. Хотя фишермену не нужно
иметь столько же вычислительной мощности как валидатору, мы считаем обычной
кандидатурой в фишермены тех, кто мог бы быть валидатором, но не был выбран в
качестве валидатора (например, из-за невозможности внесения достаточно большого
стейка). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.5.
Коллаторы: получение денег за предложение новых блоков валидаторам</span></b><span
lang=EN-US>. Еще один способ получать награду без становления валидатором - это
становление коллатором. Это нода, которая готовит и предлагает валидаторам
кандидаты в блоки шардчейна, дополненные (collated) данными, взятыми из
состояния этого шардчейна и из других (обычно соседних) шардчейнов, вместе с
приемлемыми доказательствами Меркла. (Это необходимо, например, когда некоторые
сообщения нужно переслать из соседних шардчейнов.) Затем валидатор может легко
проверить предложенный блоккандидат на валидность без необходимости скачивать
всё состояние этого или других шардчейнов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поскольку валидатору нужно отправлять
новые (collated) кандидаты в блоки для получения награды, есть смысл платить
часть награды коллатору, желающему предоставить подходящих блоков-кандидатов.
Таким образом, валидатор может освободить себя от необходимости следить за
состоянием соседних шардчейнов, отдавая это на аутсорс коллатору. </span></p>

<h4 style='margin-top:0cm;margin-right:3.9pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.6. Создание и проверка новых блоков</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Тем не менее, мы ожидаем, что в фазе
изначального развертывания системы в ней не будет отдельно назначенных
коллаторов, поскольку все валидаторы будут иметь возможность являться
коллаторами для самих себя. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.6.
Коллататоры или валидаторы: получение денег за включение пользовательских
транзакций</span></b><span lang=EN-US>. Пользователи могут открывать
каналы<span style='mso-spacerun:yes'>  </span>микроплатежей для некоторых
коллекторов или валидаторов и платить небольшие суммы монет в обмен на
включение своих транзакций в шардчейн. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.7.
Отбор «глобального» набора валидаторов</span></b><span lang=EN-US>.
«Глобальный» набор валидаторов выбирается один раз в месяц (фактически, каждые
2<sup>19</sup> блоков мастерчейна). Этот набор определяется и становится
общеизвестным за месяц вперед. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:1.3pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Чтобы
стать валидатором, узел должен передать несколько монет TON в мастерчейн, а
затем отправить их на специальный смарт-контракт в качестве предлагаемого
стейка. Другой параметр, отправляемый вместе со стейком, - это l </span><span
lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;
color:#333333'>≥</span><span lang=EN-US> 1, максимальная проверочная нагрузка,
которую этот узел готов принять, относительно минимально возможной. Также
существует глобальная верхняя граница (еще один настраиваемый параметр) L для
l, равная, скажем, 10. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Затем этот смарт-контракт выбирает
глобальный набор валидаторов, просто выбирая до T кандидатов с максимальными
предлагаемыми ставками и публикуя их описание. Изначально общее количество
валидаторов T = 100; мы ожидаем, что оно вырастет до 1000 по мере увеличения
нагрузки. Этот параметр является настраиваемым (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.1.21), </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Фактический
стейк каждого валидатора рассчитывается следующим образом: если верхние
значения T предложенных стейков составляют s</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>1</span><span
lang=EN-US> </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≥</span><span lang=EN-US> s</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>2</span><span
lang=EN-US> </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≥</span><span lang=EN-US> • • • </span><span
lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;
color:#333333'>≥</span><span lang=EN-US> s</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>T</span><span
lang=EN-US>, то фактический стейк i-го валидатора устанавливается на s’</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US>: = min (s</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, l</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> • s</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>T</span><span lang=EN-US>). Таким образом, s’</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US>/s’</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>T</span><span lang=EN-US> </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≤</span><span
lang=EN-US>l</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, поэтому i-й валидатор не
получает больше чем l</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≤</span><span lang=EN-US> L раз
больше нагрузки самого слабого валидатора (поскольку нагрузка в конечном итоге
пропорциональна стейку). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><span lang=EN-US>Затем избранные валидаторы могут отозвать
неиспользованную часть своего стейка, s</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> — s’</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>. Кандидаты, которые не стали
валидаторами, могут отозвать всю свою предложенную долю. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Каждый валидатор публикует свой открытый
ключ подписи, не обязательно равный открытому ключу учетной записи, из которой
был получен стейк<a style='mso-footnote-id:ftn5' href="#_ftn5" name="_ftnref5"
title=""><sup><span style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[5]</span></sup><![endif]></span></sup></a>.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Ставки валидаторов замораживаются до
окончания срока, на который они были избраны, а также еще на один месяц на
случай возникновения новых споров (т.е. обнаружения невалидного блока,
подписанного одним из этих валидаторов). После этого стейк возвращается вместе
с долей валидатора в монетах и комиссиями от транзакций, обработанных за это
время. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.8.
Выбор «групп задач» валидаторов</span></b><span lang=EN-US>. Весь глобальный
набор валидаторов (где каждый валидатор считается присутствующим с
множественностью, равной его стейку - в противном случае у валидатора может
возникнуть соблазн использовать несколько идентификаторов и разделить свой
стейк между ними) используется только для проверки новых блоков мастерчейна.
Блоки шардчейна проверяются только специально выбранными подмножествами
валидаторов из глобального набора валидаторов, выбранных в соответствии с п.
2.6.7. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эти «подмножества» или «группы задач»
валидаторов, определенные для каждого шарда, меняются каждый час (фактически,
каждые 2<sup>10</sup> блоков мастерчейна), причем они становятся известны за
час вперед, так что каждый валидатор знает, какие шарды ему необходимо будет
проверить, и может подготовиться к этому (например, загрузив недостающие данные
шардчейна). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Для выбора групп задач валидаторов для
каждого шарда (w, s) применяется детерминированный псевдослучайный
алгоритм.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><span lang=EN-US>Он использует псевдослучайные числа, встроенные
валидаторами в каждый блок мастерчейна (сгенерированные путем получения
консенсуса с использованием пороговых сигнатур) для создания случайного
начального числа, а затем вычисляет, например, Hash(code(w):
code(s):validator_id:rand_seed) для каждого валидатора. Затем валидаторы
сортируются по значению этого хэша, и выбираются первые несколько валидаторов,
имеющих не менее 20/T от общих стеков валидаторов (группа состоит как минимум
из 5 валидаторов). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот выбор может быть сделан с помощью
специального смарт-контракта. В этом случае алгоритм выбора можно было бы легко
обновить без хард-форков с помощью механизма голосования, упомянутого в 2.1.21.
Все другие упомянутые до сих пор «константы» (такие как 2<sup>19</sup>, 2<sup>10</sup>,
T, 20 и 5) также являются настраиваемыми параметрами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.9.
Смена приоритета в каждой группе задач</span></b><span lang=EN-US>. Для членов
группы задач шарда вводится определенный «приоритетный» порядок, зависящий от
хэша предыдущего блока мастерчейна и порядкового номера блока (шардчейна). Этот
порядок определяется путем генерации и сортировки хэшей, как описано выше. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда необходимо сгенерировать новый блок
шардчейна, валидатор группы задач шарда, выбранный для создания этого блока,
обычно является первым в отношении этого чередующегося «приоритетного» порядка.
Если создать блок не удается, это может сделать второй или третий валидатор. По
сути, все они могут предлагать своих блоки-кандидаты, однако кандидат,
предложенный валидатором с наивысшим приоритетом, должен победить в результате
применения протокола консенсуса (задача византийских генералов, BFT). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.10.
Распространение блоков-кандидатов шардчейна</span></b><span lang=EN-US>.
Поскольку членство в группе задач шардчейна известно за час вперед, их
участники могут использовать это время для создания выделенной «многоадресной
оверлейной сети для валидаторов шардчейна», используя общие механизмы сети TON
(см. 3.3). Когда необходимо сгенерировать новый блок шардчейна - обычно через
одну или две секунды после создания самого последнего блок мастерчейна – все
валидаторы знают, у кого наивысший приоритет для генерации следующего блока
(см. 2.6.9). Этот валидатор создает новый блок-кандидат либо сам, либо с
помощью коллатора (см. 2.6.5). Валидатор должен проверить (подтвердить) этот
блок-кандидат (особенно, если он был подготовлен коллатором) и подписать его
своим закрытым ключом (валидатора). Затем блок-кандидат распространяется на оставшуюся
часть группы задач с использованием заранее организованной оверлейной сети
многоадресной рассылки (группа задач создает свою собственную частную
оверлейную сеть, как описано в п. 3.3, а затем использует версию протокола
многоадресной потоковой передачи, описанную в п. 3.3.15, для распространения
блоков-кандидатов). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Наиболее правильный метод – это
использование BFT протокола многоадресной рассылки, такого, который
используется в Honey Badger BFT [11]: закодировать блока-кандидата с помощью
кода стирания (N, 2N/3), отправить 1/N полученных данных непосредственно
каждому члену группы и ожидать, что они будут передавать свою часть данных в
рамках многоадресной рассылки напрямую всем другим членам группы. </span></p>

<h4 style='margin-top:0cm;margin-right:4.0pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.6. Создание и проверка новых блоков</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако более быстрый и простой способ
сделать это (см. также 3.3.15) заключается в том, чтобы разбить блок-кандидат
на последовательность подписанных однокилобайтных блоков («фрагментов»),
дополнить их последовательность с помощью кода Рида-Соломона или исходного кода
(такой как RaptorQ [9] [14]) и начать передачу фрагментов соседним узлам в
«сетке многоадресной рассылки» (т. е. оверлейной сети), ожидая, что они будут
распространять эти фрагменты дальше.<span style='mso-spacerun:yes'>  </span>Как
только валидатор получает достаточно фрагментов для восстановления на их основе
блока-кандидата, он подписывает валидацию и распространяет ее по всем соседям в
своей группе. Затем соседи валидатора перестают посылать ему новые фрагменты,
но могут продолжать отправлять (исходные) подписи этих фрагментов, полагая, что
этот узел может генерировать последующие фрагменты, применяя код Рида-Соломона
или фонтанный код (имея все необходимые данные), объединить их с подписями и
передать их соседним узлам, которые еще не закончили процесс валидации. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если «многоадресная сетка» (оверлейная
сеть) остается подключенной после удаления всех «плохих» узлов (напомним, что
до одной трети узлов могут вести себя злонамеренно), этот алгоритм
распространяет блок-кандидат как можно быстрее. Не только назначенный создатель
высокоприоритетного блока может выполнять многоадресную рассылку своего
блока-кандидата на всю группу. Валидаторы со вторым и третьим приоритетом могут
начать многоадресную рассылку своих блоковкандидатов либо сразу, либо после
того, как не получили блок-кандидат от валидатора с наивысшим приоритетом.
Однако обычно только блок-кандидат с максимальным приоритетом будет подписан
всеми валидаторами (фактически как минимум двумя третями группы задач) и
зафиксирован как новый блок шардчейна. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.11.
Проверка блоков-кандидатов</span></b><span lang=EN-US>. Сразу после получения
блока-кандидата валидатором и проверки его исходной подписи принимающий
валидатор проверяет валидность этого блока-кандидата, выполняя все транзакции и
контролируя, чтобы их результат совпадал с заявленным результатом. Все сообщения,
импортированные из других блокчейнов, должны поддерживаться подходящими
доказательствами Меркла в сопоставленных данных, в противном случае
блок-кандидат считается невалидным (и, если соответствующее доказательство было
передано в мастерчейн, уже подписавшие этот блок-кандидат валидаторы могут быть
наказаны). С другой стороны, если блок-кандидат признан валидным, принимающий
валидатор подписывает его и распространяет свою подпись другим валидаторам в
группе либо через «ячеистую многоадресную сеть», либо посредством прямых
сетевых сообщений. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следует подчеркнуть, что валидатору не
нужен доступ к состояниям текущего или соседних шардчейнов для проверки
валидности (сопоставленного) блока-кандидата<a style='mso-footnote-id:ftn6'
href="#_ftn6" name="_ftnref6" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[6]</span></sup><![endif]></span></sup></a>. Это
позволяет проводить валидацию очень быстро (без доступа к диску) и снижает
вычислительную нагрузку и нагрузку на хранилище для валидаторов (особенно если
они готовы принять услуги внешних коллаторов для создания блоков-кандидатов). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.12.
Отбор следующего блока кандидата</span></b><span lang=EN-US>. Как только
блок-кандидат собирает не менее двух третей (по стейкам) подписей валидаторов в
группе задач, он может быть зафиксирован в качестве следующего блока
шардчейна.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Протокол BFT используется для достижения
консенсуса по выбранному блокукандидату (может быть предложено несколько
блоков), при этом все «хорошие» валидаторы предпочитают блок-кандидат с
наивысшим приоритетом для этого раунда. В результате использования этого
протокола блок дополняется подписями не менее двух третей валидаторов (по
стекам).<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эти подписи свидетельствуют не только о
валидности рассматриваемого блока, но и о его отборе в соответствии с
протоколом BFT. После этого блок (без сопоставленных данных) объединяется с
этими подписями, сериализуется детерминированным способом и передается по сети
всем заинтересованным сторонам. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.13.
Валидаторы должны сохранять подписанные ими блоки</span></b><span lang=EN-US>.
Ожидается, что во время своего членства в группе задач и в течение как минимум
одного часа (или, скорее, 2<sup>10</sup> блоков) после этого валидаторы будут
сохранять блоки, которые они подписали и зафиксировали. Непредставление
подписанного блока другим валидаторам может повлечь за собой штрафные санкции. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.14.
Передача заголовков и подписей новых блоков шардчейна всем валидаторам</span></b><span
lang=EN-US>. Валидаторы передают заголовки и подписи вновь созданных блоков
шардчейна глобальному набору валидаторов, используя многоадресную ячеистую
сеть, аналогичную той, которая создается для каждой группы задач. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.15.
Генерация новых блоков мастерчейна</span></b><span lang=EN-US>. После того, как
все (или почти все) новые блоков шардчейна были сгенерированы, может быть
сгенерирован новый блоков мастерчейна. Процедура, по существу, такая же, как и
для блоков шардчейна (см. 2.6.12), с той лишь разницей, что все валидаторы (или
как минимум две трети из них) должны участвовать в этом процессе. Поскольку
заголовки и подписи новых блоков шардчейна передаются всем валидаторам, хэши
самых новых блоков в каждом шардчейне могут и должны быть включены в новый блок
мастерчейна. После того, как эти хэши будут зафиксированы в блоке мастерчейна,
внешние наблюдатели и другие шардчейны могут считать новые блоки шардчейна
зафиксированными и неизменными (см. 2.1.13). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.16.
Валидаторы должны сохранять состояние мастерчейна</span></b><span lang=EN-US>.
Заслуживающая внимания разница между мастерчейном и шардчейном заключается в
том, что все валидаторы должны отслеживать состояние мастерчейна, не полагаясь
на сопоставленные данные. Это важно, потому что информация, получаемая группой
задач валидаторов, основана на состоянии мастерчейна. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.17.
Блоки шардчейна генерируются и распространяются параллельно</span></b><span
lang=EN-US>. Обычно каждый валидатор является членом нескольких групп задач
шардчейна; их количество (и, следовательно, нагрузка на валидатора) примерно
пропорционально стейку валидатора. Это означает, что валидатор параллельно
запускает несколько экземпляров нового протокола генерации блоков шардчейна. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.18.
Предупреждение атак с удержанием блоков</span></b><span lang=EN-US>. Поскольку
полный набор валидаторов вставляет хэш нового блока шардчейна в мастерчейн
после просмотра только его заголовка и подписей, существует небольшая
вероятность того, что валидаторы, которые сгенерировали этот блок, вступят в
сговор и попытаются избежать публикации нового блока целиком. Это приведет к
неспособности валидаторов соседних шардчейнов создавать новые блоки, потому что
они должны<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection10>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>знать как минимум очередь выходных
сообщений нового блока после того, как его хэш будет зафиксирован в
мастерчейне. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Чтобы предупредить эту проблему, новый
блок должен собирать подписи от некоторых других валидаторов (например, двух
третей объединения групп задач соседних шардчейнов), свидетельствующих о том,
что эти валидаторы действительно имеют копии этого блока и готовы отправить их
любым другим валидаторам при необходимости. Только после предоставления этих
подписей хэш нового блока может быть включен в мастерчейн. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.19.
Блоки мастерчейна генерируются позже, чем блоки шардчейна</span></b><span
lang=EN-US>. Блоки мастерчейна генерируются примерно раз в пять секунд, как и
блоки шардчейна. Однако в то время как генерация новых блоков во всех
шардчейнах выполняется по существу одновременно (обычно этот процесс
запускается после выпуска нового блока мастерчейна), генерация новых блоков
мастерчейна намеренно задерживается, чтобы обеспечить включение хэшей вновь
сгенерированных блоков шардчейна в мастерчейне. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.55pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.20.
Более медленные валидаторы могут получать меньшее вознаграждение</span></b><span
lang=EN-US>. Если валидатор работает «медленно», он может не успевать проверить
новые блокикандидаты, и две трети подписей, необходимых для фиксации нового
блока, могут быть собраны без его участия. В этом случае он получит меньшую
долю вознаграждения, связанного с этим блоком. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это дает валидаторам стимул оптимизировать
свое оборудование, программное обеспечение и сетевое соединение, чтобы
обрабатывать транзакции пользователей как можно быстрее. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако если валидатору не удается
подписать блок до его фиксации, его подпись может быть включена в один из
следующих блоков, а затем часть вознаграждения (экспоненциально уменьшается в
зависимости от того, сколько блоков было сгенерировано с тех пор - например,
0.9<sup>k</sup>, если валидатор опаздывает на <i style='mso-bidi-font-style:
normal'>k</i> блоков) будет по-прежнему передана этому валидатору. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.21.
«Глубина» подписей валидатора</span></b><span lang=EN-US>. Обычно, когда
валидатор подписывает блок, подпись свидетельствует только об относительной
валидности блока: этот блок действителен при условии, что действительны все
предыдущие блоки в этом и других сегментах. Валидатор не может быть наказан за
то, что принял недействительные данные, переданные в предыдущие блоки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако подпись валидатора блока имеет
целочисленный параметр, называемый «глубиной». Если он не равен нулю, это
означает, что валидатор также подтверждает (относительную) валидность
указанного количества предыдущих блоков. Этот способ позволяет «медленным» или
«временно отключенным» валидаторам догнать процесс и подписать некоторые из
блоков, которые были зафиксированы без их подписей. Тогда валидаторам все равно
будет передана некоторая часть награды за блок (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.6.20). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.22.
Валидаторы несут ответственность за относительную валидность подписанных блоков
шардчейна</span></b><span lang=EN-US>. После этого следует абсолютная
валидность. Мы хотели бы еще раз подчеркнуть, что подпись валидатора на блоке
шардчейна <i style='mso-bidi-font-style:normal'>B</i> свидетельствует только об
относительной валидности этого блока (или также d предыдущих блоков, если
подпись имеет «глубину» d, см. 2.6.21; но это не сильно влияет на последующее
обсуждение). Другими словами, валидатор утверждает, что следующее состояние s'
шардчейна выводится из предыдущего состояния s путем применения функции оценки
блока ev_block, описанной в 2.2.6: </span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:2.9pt;text-align:center;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:87.2pt;
margin-bottom:0cm;margin-left:90.0pt;text-align:right;text-indent:0cm;
line-height:95%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="Picture_x0020_10228"
 o:spid="_x0000_i1032" type="#_x0000_t75" style='width:259pt;height:25pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image029.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=259 height=25
src="ton_whitepaper_ru.fld/image029.jpg" v:shapes="Picture_x0020_10228"><![endif]></span><span
style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, валидатор, подписавший блок
B, не может быть наказан, если исходное состояние s оказывается «некорректным»
(например, из-за невалидности одного из предыдущих блоков). Фишермен (см.
2.6.4) может указать на ошибку, только если он находит относительно невалидный
блок. Система PoS в целом стремится сделать каждый блок относительно валидным,
а не рекурсивно (или абсолютно) валидным. Однако следует обратить внимание, что
если все блоки в блокчейне являются относительно валидными, то все они и блокчейн
в целом являются абсолютно валидными; это утверждение легко проиллюстрировать с
помощью математической индукции по длине блокчейна. Таким образом, легко
проверяемые утверждения об относительной валидности блоков вместе демонстрируют
гораздо большую абсолютную валидность всего блокчейна. Обратите внимание:
подписывая блок B, валидатор утверждает, что блок является валидным в исходном
состоянии s (т. е. результат (24) не является значением ?, указывающим, что
следующее состояние не может быть вычислено). Таким образом, валидатор должен
выполнять минимальные формальные проверки ячеек исходного состояния, к которым
осуществляется доступ во время оценки (24). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Например, представим, что ячейка, которая,
как ожидается, будет содержать исходный баланс учетной записи, к которой
осуществляется доступ из зафиксированной в блоке транзакции, имеет нулевые
необработанные байты вместо ожидаемых 8 или 16 байтов. Тогда исходный баланс
просто не может быть получен из ячейки, и при попытке обработать блок
происходит «необработанное исключение». В этом случае валидатор не должен
подписывать такой блок под угрозой наказания. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.23.
Подписание блоков мастерчейна</span></b><span lang=EN-US>. Ситуация с блоками
мастерчейна несколько иная: подписывая блок мастерчейна, валидатор подтверждает
не только его относительную валидность, но и относительную валидность всех
предшествующих блоков до самого первого блока, с которого этот валидатор начал
проверять блоки (но не дальше). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.24.
Общее количество валидаторов</span></b><span lang=EN-US>. Верхний лимит T для
общего числа валидаторов, которых можно выбрать (см. 2.6.7), не может быть в
описанной системе больше чем, скажем, несколько сотен или тысяча, потому что
все валидаторы должны принимать участие в протоколе консенсуса BFT для создания
каждого нового блока мастерчейна, и неясно, могут ли такие протоколы
масштабироваться до тысяч участников. Ещё более важно, что блоки мастерчейна
должны собирать подписи как минимум двух третей валидаторов (по стейку), и эти
подписи должны быть включены в новый блок (иначе все другие ноды в системе не
будут иметь причины доверять новому блоку до собственноручной его валидации).
Если, скажем, одна тысяча подписей валидаторов будет включаться в каждый блок
мастерчейна, это будет подразумевать больше информации в каждом блоке
мастерчейна, которую нужно хранить всем полным нодам и распространять через
сеть, и больше вычислительной мощности будет тратиться на проверку этих
подписей (в PoS-системе полные ноды не должны валидировать блоки сами по себе,
но должны проверять подписи валидаторов вместо этого). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя ограничение T до тысячи валидаторов
выглядит более эффективным для первой фазы развертывания блокчейна TON, должен
быть запас для будущего роста, когда общее число шардчейнов станет настолько
большим, что нескольких сотен валидаторов не будет достаточно для обработки их
всех. С этой целью мы представляем дополнительный конфигурируемый параметр T′ ≤
T (изначально равный T), и только верхние T′ выбранных валидаторов (по стейку)
будут создавать и подписывать новые блоки мастерчейна. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.25.
Децентрализация системы</span></b><span lang=EN-US>. Можно заподозрить, что
Proof-of-Stake система, такая как блокчейн TON, полагающаяся на T≈1000
валидаторов для создания всех блоков шардчейнов и мастерчейна, обязательно
станет «слишком централизованной», в противовес общепринятым Proof-of-Work
блокчейнам, таким как Биткоин или Эфириум, где все (в принципе) могут майнить
новые блоки, без явно выраженного верхнего лимита на число майнеров. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако популярные Proof-of-Work блокчейны,
такие как Биткоин и Эфириум, на текущий момент требуют огромного количества
вычислительной мощности (высокие «хэш-рейты») для майнинга новых блоков с
приемлемой вероятностью успеха. Таким образом, майнинг новых блоков имеет
тенденцию концентрироваться в руках нескольких крупных игроков: одни
инвестируют большие деньги в датацентры и специальное программное обеспечение,
оптимизированное для майнинга, другие же концентрируют и координируют усилия
больших групп людей, неспособных самостоятельно предоставить достаточный
«хэш-рейт», тем самым образуя крупные майнинг-пулы. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, по состоянию на 2017 год
больше чем 75% новых блоков Эфириума и Биткоина создаются менее чем десятью
майнерами. Фактически, два крупнейших майнинг-пула Эфириума производят вместе
больше половины всех новых блоков! Очевидно, такая система намного более
централизована чем та, которая полагается на T≈1000 нод для производства новых
блоков. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Также следует отметить, что вложения,
необходимые для того, чтобы стать валидатором блокчейна TON - то есть, для
приобретения оборудования (скажем, несколько высокопроизводительных серверов) и
стейка (который при необходимости может быть легко собран через пул
номинаторов; см. 2.6.3) - намного меньше, чем требуемые для успешного
самостоятельного майнинга Биткоина или Эфириума. По сути, параметр L будет
заставлять номинаторов не присоединяться к крупнейшему &quot;майнинг-пулу&quot;
(то есть, к валидатору, который собрал крупнейший стейк), но, скорее, искать
меньших валидаторов, на данный момент собирающих средства от номинаторов, или
даже создавать новых валидаторов, потому что это обеспечит более высокую
пропорцию s′</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>/s</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> стейка валидатора — и как следствие номинатора, откуда следует
более высокая награда за майнинг. Таким образом, Proof-of-Stake система TON на
самом деле поощряет децентрализацию (создание и использование большего числа
валидаторов) и наказывает централизацию. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.26.
Относительная надежность блока</span></b><span lang=EN-US>. (Относительная)
надежность блока - это просто сумма стейков всех валидаторов, подписавших
данный блок. Другими словами, это сумма денег, которую некоторые акторы
потеряют, если этот блок окажется невалидным. Если передаваемая транзакциями
стоимость ниже уровня надежности блока, их можно считать достаточно
безопасными. В этом смысле относительная надежность - это мера доверия внешнего
наблюдателя по отношению к определенному блоку. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что показатель
относительной надежности блока является гарантией валидности блока, при
условии, что предыдущий блок и все упомянутые блоки других шардчейнов являются
валидными (см. 2.6.22). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Относительная
надежность блока может возрастать после его фиксации — например, при добавлении
подписей «медленных» валидаторов (см. 2.6.21). С другой стороны, если один из
этих валидаторов теряет часть или весь свой стейк из-за его некорректности,
связанной с некоторыми другими блоками, относительная надежность блока может
снизиться. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.27.
«Усиление» блокчейна</span></b><span lang=EN-US>. Важно создать стимулы для
валидаторов, чтобы максимально повысить относительную надежность блоков. Один
из способов сделать - это выделить небольшое вознаграждение валидаторам за
добавление подписей к<span style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection11>

<h4 style='margin-top:0cm;margin-right:3.85pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.6. Создание и проверка новых блоков</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>блокам других шардчейнов. Даже
«потенциальные» валидаторы, которые внесли сумму, недостаточную для того, чтобы
попасть в ТОП <i style='mso-bidi-font-style:normal'>T</i> валидаторов по
размеру стейка и быть включенными в глобальный набор валидаторов (см. 2.6.7),
могут участвовать в этой деятельности (если они согласны оставить свой стейк
вместо того, чтобы снимать его после неудачных результатов отбора). Такие
потенциальные валидаторы могут выступать в роли фишерменов (см. 2.6.4): если им
все равно нужно проверять валидность определенных блоков, они могут также
сообщать о невалидных блоках и получать связанные с ними вознаграждения. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.28.
Рекурсивная надежность блока</span></b><span lang=EN-US>. Рекурсивную
надежность блока можно определить как минимум его относительной надежности и
рекурсивной надежности всех блоков, на которые он ссылается (т. е. блок
мастерчейна, предыдущего блока шардчейна и некоторых блоков соседних
шардчейнов). Другими словами, если блок окажется невалидным сам по себе, либо
потому, что недействителен один из блоков, от которых он зависит, то кем-то будет
потеряна как минимум эта сумма денег. Если пользователь действительно не
уверен, следует ли доверять конкретной транзакции в блоке, следует вычислить
рекурсивную надежность этого блока, а не только относительную. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Нет смысла возвращаться слишком далеко
назад при вычислении рекурсивной надежности – в этом случае мы увидим блоки,
подписанные валидаторами, чьи ставки уже были разморожены и сняты. Как бы то ни
было, мы не позволяем валидаторам автоматически пересматривать слишком старые
блоки (т. е. блоки, созданные более двух месяцев назад, если используются
текущие значения настраиваемых параметров) и создавать на их основании форки,
либо исправлять их с помощью «вертикальных блокчейнов» (см. 2.1.17), даже если
они окажутся невалидными. Мы предполагаем, что два месяца – это достаточный
период для того, чтобы обнаружить невалидные блоки и сообщить о них, поэтому,
если валидность блока не будет оспариваться в течение этого периода, она вряд
ли будет оспариваться когда-либо. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.6.29.
Последствия подхода Proof-of-Stake для неполных нод</span></b><span lang=EN-US>.
Важным следствием подхода Proof-of-Stake, используемого в блокчейне TON,
является то, что неполной ноде (запускающей «облегченное» клиентское
программное обеспечение) блокчейна TON не нужно загружать «заголовки» всех
шардчейнов или даже блоков мастерчейна, чтобы иметь возможность самостоятельно
проверить достоверность доказательств Меркла, предоставленных неполной ноде
полными нодами в качестве ответов на ее запросы. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В самом деле, поскольку самые последние
хэши блоков шардчейна включены в блоки мастерчейна, полная нода может легко
предоставить доказательство Меркла, что данный блок шардчейна является
валидным, начиная с известного хэша блока мастерчейна. Кроме того, неполная
нода должна «знать» только самый первый блок мастерчейна (где объявляется самый
первый набор валидаторов), который (или, по крайней мере, хэш которого) может
быть встроен в клиентское программное обеспечение, и только один блок
мастерчейна примерно каждый месяц после этого, когда объявляются новые наборы валидаторов,
потому что этот блок будет подписан предыдущим набором валидаторов. Начиная с
этого момента, нода может получить несколько самых последних блоков
мастерчейна, либо как минимум их заголовки и подписи валидаторов, и
использовать их в качестве основы для проверки доказательств Меркла,
предоставленных полными нодами. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116697">2.7. Разделение и
объединение шардчейнов </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Одной из наиболее характерных и уникальных
особенностей блокчейна TON является его способность автоматически разделять
шардчейн на две части, когда нагрузка становится слишком высокой, и объединять
их обратно, если нагрузка снижается (см.<span style='mso-spacerun:yes'> 
</span></span></p>

<h4 style='margin-top:0cm;margin-right:3.65pt;margin-bottom:15.35pt;margin-left:
.5pt'>2.7. Разделение и объединение шардчейнов</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.1.10). Эту особенность следует обсудить
более подробно из-за ее уникальности и важности для масштабируемости всего
проекта. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.1.
Конфигурация шарда</span></b><span lang=EN-US>. Напомним, что в любой момент
времени каждый воркчейн w разбивается на один или несколько шардчейнов (w, s)
(см. 2.1.8). Эти шардчейны могут быть представлены листьями двоичного дерева,
корнем (w, 0) и каждым не-листовым узлом (w, s), имеющим дочерние элементы (w,
s.0) и (w, s.1). Таким образом, каждая учетная запись в воркчейне w назначается
ровно одному шарду, и все, кто знают текущую конфигурацию шардчейна, могут
определить сегмент (w, s), содержащий учетную запись account_id: это
единственный сегмент с двоичной строкой s, являющейся префиксом account_id. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Конфигурация шарда - то есть это двоичное
дерево шарда или совокупность всех активных (w, s) для данного w
(соответствующего листьям двоичного дерева шарда) - является частью состояния
мастерчейна и доступна всем, кто отслеживает мастерчейн<a style='mso-footnote-id:
ftn7' href="#_ftn7" name="_ftnref7" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[7]</span></sup><![endif]></span></sup></a>.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.2.
Самая последняя конфигурация и состояние шарда</span></b><span lang=EN-US>.
Напомним, что хэши самых последних блоков шардчейна включены в каждый блоков
мастерчейна. Эти хэши организованы в двоичное дерево шардов (на самом деле это
набор деревьев, по одному на каждый воркчейн). Таким образом, каждый блок
мастерчейна содержит самую последнюю конфигурацию шарда. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.3.
Объявление и внесение изменений в конфигурацию шарда</span></b><span
lang=EN-US>. Конфигурацию шарда можно изменить двумя способами: шард (w, s)
можно разделить на два шарда (w, s.0) и (w, s.1), либо два «родственных» шарда
(w, s .0) и (w, s.1) можно объединить в один шард (w, s). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эти операции разделения/слияния
объявляются несколькими блоками заранее (например, 2<sup>6</sup> - это
настраиваемый параметр), сначала в «заголовках» соответствующих блоков
шардчейна, а затем в блоке мастерчейна, который относится к этим блокам
шардчейна. Такое заблаговременное объявление позволяет всем заинтересованным
сторонам подготовиться к запланированному изменению (например, создать
оверлейную многоадресную сеть для распределения новых блоков вновь созданных
шардчейнов, как описано в 3.3). Затем изменение фиксируется сначала в блоке
(или заголовке) шардчейна (в случае разделения; при слиянии блоки обоих
шардчейнов должны зафиксировать изменение), а затем передается на блоки
мастерчейна. Таким образом, блок мастерчейна определяет не только самую
последнюю конфигурацию шарда перед его созданием, но также и следующую
конфигурацию шарда. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.4.
Группы задач валидаторов для новых шардчейнов</span></b><span lang=EN-US>.
Напомним, что для каждого шардчейна обычно назначается подмножество валидаторов
(группа задач валидаторов), предназначенных для создания и проверки новых
блоков в соответствующем шардчейне (см. 2.6.8). Эти группы задач избираются на
некоторый период времени (приблизительно один час), являются известными заранее
(также приблизительно за час) и остаются неизменными в течение этого периода
времени<a style='mso-footnote-id:ftn8' href="#_ftn8" name="_ftnref8" title=""><sup><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[8]</span></sup><![endif]></span></sup></a>.
Однако фактическая конфигурация шардчейнов может измениться в течение этого
периода времени из-за операций разделения/слияния. Необходимо назначить группы
задач для вновь созданных шардов. Это делается следующим образом: </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h4 style='margin-top:0cm;margin-right:3.75pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.7. Разделение и объединение шардчейнов</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что любой активный шард
(w, s) будет либо наследником некоторого однозначно определенного исходного
шарда (w, s'), то есть, s' является префиксом s, либо он будет корнем поддерева
исходных шардов (w, s'), где s будет префиксом каждого s'. В первом случае
просто берется и удваивается группа задач исходного шарда (w, s'), в результате
чего получается группа задач нового шарда (w, s). Во втором случае группа задач
нового шарда (w, s) будет объединением групп задач всех исходных шардов (w, s
'), которые являются наследниками (w, s) в дереве шардов. Таким образом, для
каждого активного шарда (w, s) назначается четко определенное подмножество
валидаторов (группа задач). При разделении оба результирующих шарда наследуют
всю группу задач от исходного шарда. При объединении двух шардчейнов
соответствующие группы задач также объединяются. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Любой, кто отслеживает состояние
мастерчейна, может вычислить группы задач валидаторов для каждого из активных
шардов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.5.
Ограничение операций разделения/объединения в период ответственности исходных
групп задач</span></b><span lang=EN-US>. В конечном итоге будет учтена новая
конфигурация шарда, и для каждого шарда будут автоматически назначены новые
выделенные подмножества (группы задач) валидаторов. Прежде чем это произойдет,
необходимо наложить определенный лимит на операции разделения/слияния; в
противном случае исходная группа задач может закончить проверку 2<sup>k</sup>
шардчейнов для большого k одновременно, если исходный шард быстро разделится на
2<sup>k</sup> новых шардчейнов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это достигается путем наложения
ограничений на то, насколько активная конфигурация шарда может быть удалена от
исходной конфигурации шарда (той, которая используется для выбора групп задач
валидаторов, отвечающих за проверку блоков в настоящее время). Например, может
быть задано требование, чтобы расстояние в дереве шардов от активного шарда (w,
s) до исходного шарда (w, s') не превышало 3, если s' является предшественником
s (т. е. S' является префиксом двоичной строки s), и не должно превышать 2,
если s' является преемником s (т. е. s является префиксом s'). В противном
случае операция разделения или слияния не будет разрешена. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Грубо говоря, в данном случае вводится
ограничение на количество процессов разделения (например, три) или объединения
(например, два) шарда в течение периода ответственности данного набора
валидаторов. Кроме того, после создания шарда в результате слияния или
разделения его нельзя перенастроить в течение некоторого периода времени
(некоторого количества блоков). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.6.
Определение необходимости операций разделения</span></b><span lang=EN-US>.
Операция разделения шардчейна запускается при определенных формальных условиях
(например, если 64 последовательных блока шардчейна заполнены не менее чем на
90%). Эти условия отслеживаются группой задач шардчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если они выполняются, сначала в заголовок
нового блока шардчейна включается флаг «подготовки к разделению» (он также
распространяется на блок мастерчейна, относящийся к данному блоку шардчейна).
Через несколько блоков в заголовок блока шардчейна включается флаг «выполнить
разделение» (он распространяется на следующий блок мастерчейна). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.7.
Выполнение операций разделения</span></b><span lang=EN-US>. После добавления
флага «выполнить разделение» в блок B шардчейна (w, s) в этом шардчейне не
может быть последующего блока B'. Вместо этого будут созданы блоки B’</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>0</span><span
lang=EN-US> и B’</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>1</span><span lang=EN-US> шардчейнов (w, s.0) и (w,
s.1), соответственно, причем оба они будут ссылаться на блок B как на
предыдущий блок (и у обоих шардчейнов в заголовке будет флаг с указанием,
что<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h4 style='margin-top:0cm;margin-right:3.75pt;margin-bottom:13.0pt;margin-left:
.5pt'>2.7. Разделение и объединение шардчейнов</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>шард только что был разделен). Следующий
блок мастерчейна будет содержать хэши блоков B’</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>0</span><span
lang=EN-US> и B'</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>1</span><span lang=EN-US> новых шардчейнов; в блоке не
может содержаться хэш нового блока шардчейна B' (w, s), потому что событие
«выполнить разделение» уже было зафиксировано в предыдущем блоке мастерчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание, что оба новых шардчейна
будут проверяться той же группой задач валидаторов, что и исходный шардчейн,
поэтому они автоматически получат копию своего состояния. Сама операция
разделения состояний довольно проста с точки зрения парадигмы бесконечного
шардинга (см. 2.5.2) </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.8.
Определение необходимости операций слияния</span></b><span lang=EN-US>.
Необходимость операций слияния шардчейнов также определяется некоторыми
формальными условиями (например, если в 64 последовательных блоках сумма
размеров двух блоков родственных шардчейнов не превышает 60% от максимального
размера блока). Формальные условия также должны учитывать общий объем газа,
израсходованный этими блоками, и сравнивать его с текущим лимитом газа на блок,
в противном случае блоки могут оказаться небольшими из-за наличия некоторых
транзакций, требующих большого объема вычислений, которые препятствуют
включению большего количества транзакций. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эти условия отслеживаются группами задач
валидаторов обоих родственных шардов (w, s.0) и (w, s.1). Обратите внимание,
что родственные шардчейны обязательно являются соседями с точки зрения
маршрутизации в гиперкубе (см. 2.4.19), поэтому валидаторы из группы задач
любого шарда в любом случае будут в какой-то степени контролировать родственный
шард. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если эти условия выполнены, одна из
подгрупп валидаторов может предложить другой объединиться, отправив специальное
сообщение. Затем они объединяются во временную «объединенную группу задач» с
объединенным членством, способную запускать согласованные алгоритмы BFT и при
необходимости распространять обновления блоков и блоков-кандидатов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если валидаторы достигают консенсуса
относительно необходимости и готовности слияния, флаги «подготовки к слиянию»
фиксируются в заголовках некоторых блоков каждом шардчейне вместе с подписями
не менее двух третей валидаторов группы задач родственного шардчейна (и
распространяются на следующие блоки мастерчейна, чтобы все могли подготовиться
к неминуемой реконфигурации). Однако они продолжают создавать отдельные блоки
шардчейна для некоторого заранее определенного количества блоков. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.7.9.
Выполнение операций слияния</span></b><span lang=EN-US>. Когда валидаторы из
двух объединенных исходных групп задач готовы стать валидаторами объединенного
шардчейна (это может включать в себя передачу состояния из родственного
шардчейна и операцию слияния), они фиксируют флаг «выполнить слияние» в
заголовках блоков соответствующего шардчейна (это событие распространяется на
следующие блоки мастерчейна) и прекращают создание новых блоков в отдельных
шардчейнах (после появления флага «выполнить слияние» создание блоков в
отдельных шардчейнах запрещено). Вместо этого создается объединенный блок
шардчейна (путем объединения двух исходных групп задач) со ссылкой на оба его
«предыдущих блока» в «заголовке». Это отражается в следующем блоке мастерчейна,
который будет содержать хэш вновь созданного блока объединенного шардчейна.
После этого объединенная группа задач продолжает создавать блоки в объединенном
шардчейне. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116698">2.8. Классификация
блокчейн-проектов </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы завершим наше краткое обсуждение
блокчейна TON сравнением его с существующими и предлагаемыми
блокчейн-проектами. Однако перед этим<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection12>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>необходимо представить обобщенную
классификацию блокчейн-проектов. Сравнение конкретных блокчейн-проектов на
основе этой классификации будет приведено в п. 2.9. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.1.
Классификация блокчейн-проектов</span></b><span lang=EN-US>. В качестве первого
шага мы предлагаем некоторые критерии классификации блокчейнов (т. е.
блокчейн-проектов). Любая такая классификация является в некоторой степени
неполной и поверхностной, поскольку она игнорирует некоторые из наиболее
специфических и уникальных особенностей рассматриваемых проектов. Однако мы
считаем, что это необходимый первый шаг для предоставления хотя бы очень
приблизительной схемы блокчейнпроектов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><span lang=EN-US>Список критериев, которые мы будем
рассматривать: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Сингл-блокчейн vs.
мульти-блокчейн архитектура (см. 2.8.2) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Алгоритм консенсуса:
Proof-of-Stake vs. Proof-of-Work (см. 2.8.3) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Для систем Proof-of-Stake:
конкретное поколение блокчейна, валидация и алгоритм консенсуса (двумя
основными опциями являются DPOS vs. BFT; см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:36.55pt'><span lang=EN-US>2.8.4) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Поддержка «произвольных»
(Тьюринг-полных) смарт-контрактов (см. 2.8.6) Мульти-блокчейн системы имеют
дополнительные критерии классификации (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:-.25pt'><span lang=EN-US>2.8.7): </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Типы и правила для блокчейнов:
гомогенные, гетерогенные (см. 2.8.8), смешанные (см. 2.8.9). Конфедерации (см.
2.8.10). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.1pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Отсутствие или наличие
мастерчейна, внутреннего или внешнего (см. 2.8.11) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Нативная поддержка шардинга
(см. 2.8.12), статический или динамический шардинг (см. 2.8.13). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l16 level1 lfo12'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Взаимодействие между
блокчейнами: слабо-связанные и тесно-связанные системы (см. 2.8.14) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.5pt;mso-list:l1 level3 lfo13'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.8.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Сингл-блокчейн vs. мульти-блокчейн проекты</span></b><span
lang=EN-US>. Первым критерием классификации является количество блокчейнов в
системе. Старейшие и простейшие проекты состоят из одного блокчейна
(«синглчейн-проекты» для краткости); в более сложных проектах используется
(или, скорее, планируется использование) несколько блокчейнов
(«мультичейн-проекты»). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Сингл-блокчейн проекты обычно проще и
лучше тестируются; они выдержали испытание временем. Их главный недостаток в
низкой производительности, или по крайней мере пропускной способности для
транзакций, которая находится на уровне от десяти (Биткоин) до менее чем сотни<a
style='mso-footnote-id:ftn9' href="#_ftn9" name="_ftnref9" title=""><sup><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[9]</span></sup><![endif]></span></sup></a>
(Эфириум) транзакций в секунду для многоцелевых систем. Некоторые
специализированные системы (такие как Bitshares) способны обрабатывать десятки
тысяч специализированных транзакций в секунду, взамен требуя хранить состояние
блокчейна в памяти, и ограничивая обработку до предопределенного специального
набора транзакций, которые затем выполняются высокооптимизированным кодом на
языках вроде C++ (никаких виртуальных машин). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мультичейн-проекты могут поддерживать
большее общее число состояний и больше транзакций в секунду, взамен делая
проект и его имплементацию намного более сложными. В результате, есть всего
несколько уже работающих мультичейнпроектов, но большинство предлагаемых
проектов являются мультичейн-проектами. Мы верим, что будущее именно за
мультичейн-проектами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l1 level3 lfo13'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>2.8.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Создание и валидация блоков: Proof-of-Work vs. Proof-of-Stake</span></b><span
lang=EN-US>. Другое важное отличие – это алгоритм и протокол, которые
используются для создания и распространения новых блоков, проверки их
валидности и выбора одного из нескольких ответвлений, если таковые появляются. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Две наиболее распространенные парадигмы -
это Proof-of-Work (PoW) и Proof-ofStake (PoS). Подход Proof-of-Work обычно
позволяет любой ноде создавать («майнить») новые блоки (и получать некоторую
награду, связанную с майнингом блока), если ей повезёт решить в ином случае
бесполезную вычислительную задачу (обычно включающую вычисление большого
количества хэшей) раньше, чем это успеют сделать конкуренты. В случае форков (например,
если две ноды публикуют два валидных, но разных блока, следующих за предыдущим)
побеждает самый длинный форк. Таким образом, гарантия неизменности блокчейна
основана на объеме работы (вычислительных ресурсов), затрачиваемых на создание
блокчейна: любому, кто хотел бы создать форк этого блокчейна, необходимо было
бы повторно выполнить эту работу, чтобы создать альтернативные версии уже
включенных блоков. Для этого нужно контролировать более 50% общей
вычислительной мощности, затрачиваемой на создание новых блоков, в противном
случае у альтернативного форка будут экспоненциально низкие шансы стать самым
длинным. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>Подход Proof-of-Stake основан на больших
стейках (в криптовалюте), сделанных некоторыми специальными нодами
(валидаторами), чтобы подтвердить, что они проверили (валидировали) некоторые
блоки и нашли их правильными. Валидаторы подписывают блоки и получают за это
небольшие награды; однако, если валидатор когда-либо был пойман на подписании
неправильного блока, и было представлено доказательство этого, часть стейка или
весь его стейк аннулируется. Таким образом, гарантия валидности и неизменности
блокчейна обеспечивается общим объемом стейков, поставленных валидаторами на
валидность блокчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Подход Proof-of-Stake более естественен в
том смысле, что он стимулирует валидаторов (которые заменяют майнеров PoW)
выполнять полезные вычисления (необходимые для проверки или создания новых
блоков, в частности, путем выполнения всех транзакций, перечисленных в блоке)
вместо вычисления бесполезных хэшей. Таким образом, валидаторы будут
приобретать оборудование, которое лучше приспособлено для обработки
пользовательских транзакций, чтобы получать вознаграждения, связанные с этими
транзакциями, что кажется весьма полезным вложением с точки зрения системы в целом.
</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Однако системы Proof-of-Stake несколько
сложнее реализовать, поскольку необходимо предусмотреть множество редких, но
возможных условий. Например, некоторые злонамеренные валидаторы могут вступить
в сговор, чтобы нарушить работу системы и извлечь прибыль (например, путем
изменения своих собственных балансов криптовалюты). Это приводит к
необходимости решать некоторые нетривиальные задачи теории игр. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В целом, более естественен и более
перспективен, особенно для мультичейн-проектов (потому что Proof-of-Work
потребует непомерно больших вычислительных ресурсов, если блокчейнов много), но
его необходимо более тщательно продумать и реализовать. Большинство работающих
в настоящее время блокчейн-проектов, особенно самых старых (таких как Биткоин и
как минимум оригинальный Эфириум), используют Proof-of-Work. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.4.
Варианты Proof-of-Stake. DPOS vs. BFT.</span></b><span lang=EN-US> Хотя
алгоритмы Proof-of-Work очень похожи друг на друга и различаются в основном
хэш-функциями, которые необходимо вычислять для добычи новых блоков, для
алгоритмов Proof-of-Stake существует больше возможностей и они заслуживают
отдельной подклассификации. По сути, нужно ответить на следующие вопросы об
алгоритме Proof-of-Stake: </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l8 level1 lfo14'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Кто может произвести («добыть»)
новый блок - любая полная нода или только член (относительно) небольшого подмножества
валидаторов? (Большинство систем PoS требуют, чтобы новые блоки создавались и
подписывались одним из нескольких назначенных валидаторов.) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l8 level1 lfo14'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Гарантируют ли валидаторы
валидность блоков своими подписями или все полные ноды должны проверять все
блоки самостоятельно? (Масштабируемые системы PoS должны полагаться на подписи
валидаторов вместо того, чтобы требовать, чтобы все ноды проверяли все блоки
всех блокчейнов.) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l8 level1 lfo14'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Есть ли назначенный и заранее
известный создатель следующего блока блокчейна, вместо которого никто не сможет
произвести этот блок? </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l8 level1 lfo14'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Является ли вновь созданный
блок изначально подписанным только одним валидатором (его создателем), или он
должен собирать большинство подписей валидаторов с самого начала? </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Может показаться, что в зависимости от
ответов на эти вопросы алгоритмы PoS можно разделить на 2<sup>4</sup> возможных
класса, на практике различие сводится к двум основным подходам к PoS.
Фактически, для большинства современных алгоритмов PoS, разработанных для
использования в масштабируемых мультичейн-системах, ответы на первые два
вопроса являются одинаковыми: только валидаторы могут создавать новые блоки, и
именно они гарантируют валидность блока (при этом не требуется, чтобы все
полные ноды проверяли валидность всех блоков по отдельности). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Что касается двух последних вопросов,
ответы на них сильно зависят от свойств конкретной системы, оставляя по
существу только два основных варианта: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l8 level1 lfo14'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><i style='mso-bidi-font-style:normal'><span
lang=EN-US>Delegated Proof-of-Stake (DPOS)</span></i><span lang=EN-US>: для
каждого блока есть общеизвестный назначенный производитель; никто другой не
может произвести этот блок; новый блок изначально подписывается только
производящим его валидатором. •</span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial'> </span><i style='mso-bidi-font-style:normal'><span
lang=EN-US>Byzantine Fault Tolerant (BFT)</span></i><span lang=EN-US> алгоритмы
PoS: существует известное подмножество валидаторов, любой из которых может
предложить новый блок; выбор следующего блока среди нескольких предложенных
кандидатов, который должен быть проверен и подписан большинством валидаторов
перед передачей другим нодам, достигается версией протокола консенсуса
Byzantine Fault Tolerant. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.5.
Сравнение DPOS и BFT PoS</span></b><span lang=EN-US>. Подход BFT обладает тем
преимуществом, что вновь созданный блок с самого начала имеет подписи
большинства валидаторов, подтверждающие его валидность. Еще одно преимущество
заключается в том, что, если большинство валидаторов правильно выполняет
протокол консенсуса BFT, форки системы невозможны. С другой стороны, алгоритмы
BFT обычно довольно запутанны и при их использовании необходимо больше времени
для того, чтобы подмножество валидаторов достигло консенсуса. Следовательно,
блоки нельзя генерировать слишком часто. Вот почему мы ожидаем, что блокчейн
TON (который является проектом BFT с точки зрения этой классификации) будет
создавать блок не более одного раза в пять секунд. На практике этот интервал
может быть уменьшен до 2-3 секунд (хотя мы этого не обещаем), но не больше, так
как валидаторы разбросаны по всему миру. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Преимущество алгоритма DPOS состоит в том,
что он довольно прост и понятен. Он может генерировать новые блоки довольно
часто - скажем, раз в две секунды или даже раз в секунду<sup>25</sup> -
благодаря тому, что он полагается на заранее известных производителей блоков. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако DPOS требует, чтобы все ноды – или
как минимум все валидаторы - проверяли все полученные блоки, потому что
валидатор, создающий и подписывающий новый блок, подтверждает не только
относительную валидность этого блока, но также валидность предыдущего блока, на
который он ссылается, а также все блоки назад в цепочке (возможно, до начала
периода ответственности текущего подмножества<span style='mso-spacerun:yes'> 
</span>валидаторов). В текущем подмножестве валидаторов существует
предопределенный порядок, поэтому каждому блоку назначается производитель (т.
е. валидатор, который, как ожидается, сгенерирует этот блок); ротация этих
назначенных производителей осуществляется по круговой схеме. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, блок сначала подписывается
только валидатором. Затем, когда генерируется следующий блок, и его
производитель предпочитает ссылаться на этот блок, а не на одного из его
предшественников (в противном случае его блок будет находиться в более короткой
цепочке, которая может проиграть конкуренцию «самому длинному форку» в
будущем), подпись следующего блока, по сути, также является дополнительной
подписью предыдущего блока. Таким образом, новый блок постепенно собирает
подписи большего количества валидаторов - скажем, двадцать подписей за время,
необходимое для генерации следующих двадцати блоков. Полная нода должна будет
либо дождаться этих двадцати подписей, либо подтвердить блок самостоятельно,
начиная с достаточно валидного блока (скажем, двадцать блоков назад), что может
быть не так просто. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Очевидным недостатком алгоритма DPOS по
сравнению с алгоритмами BFT является то, что новый блок (и транзакции,
зафиксированные в нем) достигает того же уровня доверия («рекурсивная
надежность», как описано в п. 2.6.28) только после добычи следующих двадцати
дополнительных блоков, которые сразу же обладают таким же уровнем доверия
(скажем, двадцать подписей). Другой недостаток заключается в том, что DPOS
использует подход «побеждает самый длинный форк» для переключения на другие
форки; это делает форки весьма вероятными, если некоторые производители не
смогут сгенерировать последующие блоки после того блока, который нас интересует
(или мы не сможем наблюдать эти блоки из-за нарушения связности сети или
хакерских атак). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:1.4pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Мы
полагаем, что хотя подход BFT и является более сложным для реализации и требует
более длительных интервалов времени между блоками, чем DPOS, BFT лучше
приспособлен к «сильно-связанным» (см. 2.8.14) мультичейн-системам, потому что
другие блокчейны могут начать работу почти сразу после фиксации транзакции
(например, генерировать сообщение, предназначенное для них) в новом блоке, не
дожидаясь двадцати подтверждений валидности (т. е. следующих двадцати блоков)
или следующих шести блоков, чтобы убедиться в отсутствии форков и проверить
новый блок самостоятельно (проверка блоков других блокчейнов может стать
недопустимой <span style='mso-tab-count:1'> </span>в <span style='mso-tab-count:
1'>         </span>масштабируемой <span style='mso-tab-count:1'>     </span>мультичейн-системе).
<span style='mso-tab-count:1'>         </span>Таким <span style='mso-tab-count:
1'>            </span>образом, обеспечивается масштабируемость системы с
одновременным сохранением высокой надежности и доступности (см. 2.8.12). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>С другой
стороны, DPOS может быть хорошим выбором для «слабо-связанной»
мультичейн-системы, где быстрое взаимодействие между блокчейнами не требуется -
например, если каждый блокчейн («воркчейн») представляет собой отдельную
распределенную <span style='mso-tab-count:1'> </span>систему <span
style='mso-tab-count:1'>         </span>обменов, <span style='mso-tab-count:
1'>       </span>а <span style='mso-tab-count:1'>         </span>взаимодействие
<span style='mso-tab-count:1'>       </span>между <span style='mso-tab-count:
1'>           </span>блокчейнами ограничивается редкими передачами токенов из
одного воркчейна в другой (или, скорее, обменом одного альткойна, находящегося
в одном воркчейне, на другой со скоростью, приближающейся к 1: 1).<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Именно это и реализуется в проекте
BitShares, который довольно успешно использует подход DPOS. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Подводя итог, хотя DPOS может генерировать
новые блоки и включать транзакции в них быстрее (с меньшими интервалами между
блоками), эти транзакции достигают уровня доверия, необходимого для их
использования в других блокчейнах и офф-чейн приложениях как «включенных» и
«неизменяемых» гораздо медленнее, чем в системах BFT - скажем, за тридцать<sup>26</sup>
секунд вместо пяти.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>25</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
Некоторые пользователи даже заявляют, что время генерации блока DPOS составляет
полсекунды, что не кажется реалистичным, если валидаторы разбросаны по
нескольким континентам </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Более быстрое включение транзакции не
означает более быстрое выполнение транзакции. Это может стать огромной
проблемой, если требуется быстрое взаимодействие между блокчейнами. В этом
случае следует отказаться от DPOS и вместо этого выбрать BFT PoS.. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.6.
Поддержка Тьюринг-полного кода в транзакциях, то есть, произвольных
смарт-контрактов</span></b><span lang=EN-US>. Проекты блокчейнов обычно
собирают некоторые транзакции в своих блоках, которые изменяют состояние
блокчейна необходимым образом (например, переводят некоторое количество
криптовалюты с одной учетной записи на другую). Некоторые блокчейн-проекты
могут разрешать только заранее определенные типы транзакций (например,
транзакции стоимости из одной учетной записи в другую при условии наличия
правильных подписей). Другие могут поддерживать определенную ограниченную форму
написания сценариев в транзакциях. Наконец, некоторые блокчейны поддерживают
выполнение произвольно сложного кода в транзакциях, позволяя системе (по
крайней мере, в принципе) поддерживать произвольные приложения, если позволяет
производительность системы. Обычно это связано с «Тьюринг-полными виртуальными
машинами и языками сценариев» (это означает, что любая программа, которая может
быть написана на любом другом языке программирования вычислений, может быть
переписана для выполнения внутри блокчейна) и «смартконтрактами» (которые
представляют собой программы, находящиеся в блокчейне). Поддержка произвольных
смарт-контрактов делает систему по-настоящему гибкой. С другой стороны, такая
гибкость обходится дорого: код этих смарт-контрактов должен выполняться на
какой-то виртуальной машине, и это нужно делать каждый раз для каждой
транзакции в блоке, когда кто-то хочет создать или валидировать блок. Это
снижает производительность системы по сравнению со случаем предопределенного и
неизменяемого набора типов простых транзакций, которые можно оптимизировать,
реализовав их обработку на языке вроде C++ (вместо какой-либо виртуальной
машины). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>В конечном счете поддержка Тьюринг-полных
смарт-контрактов представляется желательной в любом универсальном
блокчейн-проекте; в противном случае разработчики блокчейн-проекта должны
заранее решить, для каких приложений будет использоваться их блокчейн.
Фактически, отсутствие поддержки смарт-контрактов в блокчейне Bitcoin было
основной причиной создания нового блокчейн-проекта Ethereum. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В (гетерогенной; см. 2.8.8)
мультичейн-системе можно получить «все самое лучшее», используя Тьюринг-полные
смарт-контракты в некоторых блокчейнах (воркчейнах) и небольшой
предопределенный набор высокоэффективных оптимизированные транзакций в других
блокчейнах. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.7.
Классификация мультичейн-систем</span></b><span lang=EN-US>. До сих пор
классификация действовала как для синглчейн, так и для мультичейн-систем.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако мультичейн-системы допускают еще
несколько критериев классификации, отражающих взаимосвязь между различными
блокчейнами в системе. Давайте обсудим эти критерии. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.8.
Типы блокчейнов: гомогенные и гетерогенные системы</span></b><span lang=EN-US>.
В мультичейнсистеме все блокчейны могут быть одного типа и иметь одинаковые
правила (то есть использовать один и тот же формат транзакций, одну и ту же
виртуальную машину<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>26</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
Например, EOS, один из лучших проектов на основе DPOS, предложенных на
сегодняшний день, обещает 45-секундное подтверждение и задержку взаимодействия
между блокчейнами (см. [5], разделы «Подтверждение транзакции и задержка
взаимодействия внутри сети»). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:-.25pt'><span lang=EN-US>для выполнения кода смарт-контрактов, одну
и ту же криптовалюту и так далее), и это сходство явно используется, но с
разными данными в каждом блокчейне. В этом случае мы говорим, что система
гомогенная. В ином случае разные блокчейны (которые в этом случае обычно
называются воркчейнами) могут иметь разные </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«правила». Тогда мы говорим, что система
гетерогенная. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.9.
Смешанные гетерогенные-гомогенные системы</span></b><span lang=EN-US>. Система
может быть смешанной – в ней существует несколько наборов типов или правил для
блокчейнов, но присутствует множество блокчейнов с одинаковыми правилами, и
этот факт явно используется. Тогда это смешанная гетерогенная-гомогенная
система. Насколько нам известно, блокчейн TON является единственным примером
такой системы. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.10.
Гетерогенные системы с несколькими воркчейнами с одинаковыми правилами, или
конфедерации</span></b><span lang=EN-US>. В некоторых случаях несколько
блокчейнов (воркчейнов) с одинаковыми правилами могут присутствовать в
гетерогенной системе, но взаимодействие между ними такое же, как и между
блокчейнами с разными правилами (то есть их сходство не используется явно).
Даже если они используют &quot;одну и ту же&quot; криптовалюту, на самом деле
они используют разные &quot;альткоины&quot; (независимые воплощения
криптовалюты). Иногда можно даже иметь определенные механизмы для конвертации
этих альткоинов со скоростью, близкой к 1 : 1. Однако, на наш взгляд, это не
делает систему гомогенной; она остается гетерогенной. Мы называем такую
гетерогенную коллекцию воркчейнов с одинаковыми правилами конфедерацией. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя создание гетерогенной системы,
позволяющей создавать несколько воркчейнов с одинаковыми правилами (например,
конфедерацию), может показаться дешевым способом построения масштабируемой
системы, этот подход также имеет множество недостатков. По сути, если кто-то
размещает большой проект в нескольких воркчейнах с одинаковыми правилами, он
получает не большой проект, а множество небольших экземпляров этого проекта.
Это похоже на приложение для общения (или игру), в котором может быть не более
50 участников в любой комнате чата (или игры), но которое при необходимости
«масштабируется» путем создания новых комнат для общения большего количества
пользователей. В результате многие пользователи могут участвовать в чатах или в
игре, но можно ли сказать, что такая система действительно является
масштабируемой? </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.11.
Наличие мастерчейна, внешнего или внутреннего</span></b><span lang=EN-US>.
Иногда в мультичейнпроекте есть выделенный «мастерчейн» («управляющий
блокчейн»), который используется, например, для хранения общей конфигурации
системы (набора всех активных блокчейнов, или, скорее, воркчейнов), текущего
набора валидаторов (для системы Proof-of-Stake) и так далее. Иногда другие
блокчейны «привязаны» к мастерчейну, например, путем включения в него хэшей
своих последних блоков (это то, что делает блокчейн TON). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В некоторых случаях мастерчейн является
внешним, что означает, что он не является частью проекта, а является каким-то
другим существующим блокчейном, изначально совершенно не связанным с новым
проектом и не зависящим от него. Например, можно попробовать использовать
блокчейн Эфириум в качестве мастерчейна для внешнего проекта и для этой цели
опубликовать специальные смарт-контракты в блокчейне Эфириум (например, для
выбора и наказания валидаторов). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.12.
Поддержка шардинга</span></b><span lang=EN-US>. Некоторые проекты (или системы)
на блокчейне имеют встроенную поддержку шардинга, что означает, что несколько
(обязательно гомогенных; см. 2.8.8) блокчейнов рассматриваются как шарды
единого (если смотреть сверху) виртуального блокчейна. Например, можно создать
256 шардчейнов<span style='mso-spacerun:yes'>  </span>с одними и теми же
правилами и сохранить состояние учетной записи точно в одном выбранном шарде в
зависимости от первого байта его идентификатора account_id. Шардинг — это
естественный подход к масштабированию блокчейн-систем, потому что, если он
правильно реализован, пользователям и смарт-контрактам в системе вообще не
нужно знать о существовании шардинга. На самом деле, когда нагрузка становится
слишком высокой, часто имеет смысл добавить шардинг к существующему
синглчейн-проекту (например, Эфириум). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Альтернативный подход к масштабированию
мог бы заключаться в использовании &quot;конфедерации&quot; гетерогенных
воркчейнов, позволяющей каждому пользователю держать свой аккаунт в одном или
нескольких воркчейнах по своему выбору и при необходимости переводить средства
со своего аккаунта в одном воркчейне в другой воркчейн, по сути выполняя обмен
альткоинов 1 : 1. Недостатки этого подхода уже обсуждались в п. 2.8.10. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако шардинг не так просто реализовать
быстрым и надежным способом, поскольку он подразумевает пересылку множества
сообщений между различными шардчейнами. Например, если учетные записи
равномерно распределены между N шардами, а единственными транзакциями являются
простые переводы средств с одной учетной записи на другую, то только небольшая
часть (1/N) всех транзакций будет выполняться в одном блокчейне. Почти все
транзакции (1–1/N) будут включать в себя два блокчейна, что потребует
взаимодействия между блокчейнами. Если мы хотим, чтобы эти транзакции были
быстрыми, нам нужна быстрая система для передачи сообщений между шардчейнами.
Другими словами, блокчейн-проект должен быть «сильно-связанным» в смысле,
описанном в п. 2.8.14 </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.13.
Динамический и статический шардинг</span></b><span lang=EN-US>. Шардинг может
быть динамическим (если при необходимости автоматически создаются
дополнительные шарды) или статическим (когда есть предопределенное количество
шардов, которое можно изменить только с помощью хард-форка в лучшем случае). В
большинстве проектов предлагается статичный шардинг; в блокчейне TON используется
динамический шардинг (см. 2.7). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.14.
Взаимодействие между блокчейнами: слабо-связанные и тесно-связанные системы</span></b><span
lang=EN-US>. Мультиблокчейн-проекты можно классифицировать в соответствии с
поддерживаемым уровнем взаимодействия между составляющими их блокчейнами.
Наименьший уровень поддержки — это отсутствие какого-либо взаимодействия между
различными блокчейнами вообще. Эти блокчейны являются не частями одной
блокчейн-системы, а просто отдельными примерами одного и того же протокола
блокчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следующий уровень — это отсутствие
какой-либо конкретной поддержки обмена сообщениями между блокчейнами, что
делает взаимодействие в принципе возможным, но неудобным. Мы называем такие
системы &quot;слабо-связанными&quot;; в них нужно отправлять сообщения и
переводить ценности между блокчейнами, как если бы они были блокчейнами,
принадлежащими к полностью отдельным блокчейнпроектам (например, Биткоин и
Эфириум; представьте, что две стороны хотят обменять биткоины, хранящиеся в
блокчейне Биткоин, на эфиры, хранящиеся в блокчейне Эфириум). Другими словами,
необходимо включить исходящее сообщение (или его генерирующую транзакцию) в
блок исходного блокчейна. Затем нужно дождаться достаточного количества
подтверждений (например, заданного количества последующих блоков), чтобы
считать исходящую транзакцию «включённой» и «неизменной», чтобы иметь
возможность выполнять внешние действия на основе ее существования. Только после
этого может быть включена транзакция, передающая сообщение в целевой блокчейн
(возможно, вместе с референсом и доказательством Меркла для существования
исходящей транзакции). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если не ждать достаточно долго, прежде чем
передать сообщение, или если форк все равно произойдет по какой-либо другой
причине, объединенное состояние двух блокчейнов окажется противоречивым: во второй
блокчейн будет доставлено сообщение, которое никогда не было сгенерировано в
(окончательно выбранном форке) первом блокчейне. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><span lang=EN-US>Иногда добавляется частичная поддержка
обмена сообщениями путем стандартизации формата сообщений и расположения
очередей входных и выходных сообщений в блоках всех воркчейнов (это особенно
полезно в гетерогенных системах). Хотя это в определенной степени облегчает
обмен сообщениями, концептуально он не слишком отличается от предыдущего
случая, поэтому такие системы все еще являются «слабо-связанными». </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Напротив, &quot;тесно-связанные&quot;
системы включают специальные механизмы для обеспечения быстрого обмена
сообщениями между всеми блокчейнами. Желаемое поведение - иметь возможность
доставить сообщение в другой воркчейн сразу после того, как оно было
сгенерировано в блоке исходного блокчейна. Также ожидается, что
&quot;тесно-связанные&quot; системы будут в целом оставаться непротиворечивыми
в случае форков. Хотя на первый взгляд эти два требования кажутся
противоречащими друг другу, мы полагаем, что механизмы, использующиеся в
блокчейне TON (включение хэшей блоков шардчейна в блоки мастерчейна;
использование «вертикальных» блокчейнов для исправления невалидных блоков, см.
2.1.17; маршрутизация в гиперкубе, см. 2.4.19; мгновенная маршрутизация в гиперкубе,
см. 2.4.20) делают ее «тесно-связанной» системой (возможно, пока единственной в
своем роде). Конечно, построить «слабо-связанную» систему намного проще; однако
быстрый и эффективный шардинг (см. 2.8.12) требует, чтобы система была
«тесно-связанной». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.15.
Упрощенная классификация</span></b><span lang=EN-US>. Поколения
блокчейн-проектов. Предложенная нами классификация разбивает все
блокчейн-проекты на большое количество классов. Однако на практике критерии
классификации, которые мы используем, довольно сильно коррелируют между собой.
Это позволяет нам предложить упрощенный «поколенческий» подход к классификации
блокчейн-проектов как очень грубое приближение к реальности с некоторыми
примерами. Проекты, которые еще не реализованы и не развернуты, выделены
курсивом; жирным выделены наиболее важные характеристики поколения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l19 level1 lfo15'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Первое поколение: Сингл-чейн,
PoW, нет поддержки смарт-контрактов. Примеры: Bitcoin (2009) и множество других
не интересующих нас подражателей (Litecoin, Monero, ...). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l19 level1 lfo15'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Второе поколение: Сингл-чейн,
PoW, поддержка смарт-контрактов. Пример: Ethereum (2013; развернут в 2015), по
крайней мере в его оригинальной форме. •</span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial'> </span><span
lang=EN-US>Третье поколение: Сингл-чейн, PoS, поддержка смарт-контрактов.
Пример: будущий Ethereum (2018 или позднее). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l19 level1 lfo15'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Альтернативное третье (3′)
поколение: Мульти-чейн, PoS, нет поддержки смарт-контрактов, слабо-связан.
Пример: Bitshares (2013–2014; использует DPOS). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l19 level1 lfo15'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Четвертое поколение:
Мульти-чейн, PoS, поддержка смарт-контрактов, слабосвязан. Примеры: EOS (2017;
использует DPOS), PolkaDot (2016; использует BFT). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l19 level1 lfo15'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Пятое поколение: Мульти-чейн,
PoS и BFT, поддержка смарт-контрактов, тесно-связан, с шардингом. Примеры: TON
(2017). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя не все блокчейн-проекты попадают в
одну из этих категорий, большинство из них относится к одной из этих категорий.
</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.16.
Сложности изменения «генома» блокчейн-проекта</span></b><span lang=EN-US>.
Приведенная выше классификация определяет «геном» блокчейн-проекта. Этот геном
достаточно<span style='mso-spacerun:yes'>  </span>«жесткий»: его практически
невозможно изменить, как только проект развернут и используется большим
количеством людей. Потребуется серия хард-форков (что потребует одобрения
большинства сообщества), и даже в этом случае изменения должны быть очень
консервативными, чтобы сохранить обратную совместимость (например, изменение
семантики виртуальной машины может сломать существующие смарт-контракты).
Альтернативой было бы создание новых «сайдчейнов» с разными правилами и их
привязка каким-либо образом к блокчейну (или блокчейнам) исходного проекта.
Можно использовать блокчейн существующего синглчейн-проекта в качестве внешнего
мастерчейна для принципиально нового и отдельного проекта<a style='mso-footnote-id:
ftn10' href="#_ftn10" name="_ftnref10" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[10]</span></sup><![endif]></span></sup></a>. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы пришли к выводу, что геном проекта
очень сложно изменить после его развертывания. Даже начать с PoW и планировать
его замену на PoS в будущем – это довольно сложная задача<a style='mso-footnote-id:
ftn11' href="#_ftn11" name="_ftnref11" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[11]</span></sup><![endif]></span></sup></a>.
Добавление шардов в проект, изначально созданный без их поддержки, кажется
практически невозможным<a style='mso-footnote-id:ftn12' href="#_ftn12"
name="_ftnref12" title=""><sup><span style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[12]</span></sup><![endif]></span></sup></a>.
Фактически, добавление поддержки смарт-контрактов в проект (а именно, Биткоин),
изначально разработанный без поддержки таких функций, было сочтено невозможным
(или, по крайней мере, нежелательным для большей части сообщества Биткоин) и в
конечном итоге привело к созданию нового блокчейн-проекта - Эфириума. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.8.17.
Геном блокчейна TON</span></b><span lang=EN-US>. Следовательно, если кто-то
хочет создать масштабируемую блокчейн-систему, нужно тщательно выбирать ее
геном с самого начала. Если система предназначена для поддержки некоторых
дополнительных конкретных функций в будущем, неизвестных на момент ее
развертывания, она должна изначально поддерживать «гетерогенные» воркчейны (с
потенциально разными правилами). Чтобы система была действительно
масштабируемой, она должна поддерживать шардинг с самого начала; шардинг имеет
смысл только в том случае, если система «тесно-связана» (см. 2.8.14), а это, в
свою очередь, подразумевает наличие мастерчейна, быстрой системы обмена
сообщениями между блокчейнами, использование BFT PoS и так далее. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если принять всё это во внимание,
большинство дизайнерских решений, сделанных для блокчейн-проекта TON, кажутся
естественными и почти единственно возможными. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection13>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=514
 style='width:385.35pt;margin-left:27.35pt;border-collapse:collapse;mso-yfti-tbllook:
 1184;mso-padding-alt:0cm 3.25pt 0cm 0cm'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:15.25pt'>
  <td width=83 valign=top style='width:62.4pt;border:solid black 1.0pt;
  mso-border-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:15.25pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:11.45pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Проект </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt;
  mso-border-left-alt:solid black .5pt;mso-border-bottom-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:15.25pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.9pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Год </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border:solid black 1.0pt;
  border-left:none;mso-border-top-alt:solid black .5pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.25pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>П. </span></p>
  </td>
  <td width=139 colspan=2 valign=top style='width:104.05pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt;
  mso-border-left-alt:solid black .5pt;mso-border-bottom-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:15.25pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%;tab-stops:center 31.15pt 78.4pt'><span lang=EN-US
  style='font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:107%;
  font-family:"Calibri",sans-serif;mso-fareast-font-family:Calibri'><span
  style='mso-tab-count:1'>      </span></span><span lang=EN-US>Конс. <span
  style='mso-tab-count:1'>       </span>Ск. </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border:solid black 1.0pt;
  border-left:none;mso-border-top-alt:solid black .5pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.25pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%'><span lang=EN-US>Ч. </span></p>
  </td>
  <td width=96 colspan=2 valign=top style='width:71.75pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt;
  mso-border-left-alt:solid black .5pt;mso-border-bottom-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:15.25pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%;tab-stops:center 47.25pt'><span lang=EN-US>R. <span
  style='mso-tab-count:1'>         </span>Ш. </span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;border:solid black 1.0pt;
  border-left:none;mso-border-top-alt:solid black .5pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.25pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%'><span lang=EN-US>Int. </span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:13.0pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-top-alt:solid black .5pt;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:13.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:1.25pt;
  margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Bitcoin </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-top-alt:
  solid black .5pt;mso-border-left-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:13.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.8pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2009 </span></p>
  </td>
  <td width=37 rowspan=2 valign=top style='width:27.5pt;border:none;border-right:
  solid black 1.0pt;mso-border-top-alt:solid black .5pt;mso-border-top-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:13.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2 </span></p>
  </td>
  <td width=139 colspan=2 valign=top style='width:104.05pt;border:none;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.0pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%;tab-stops:center 31.3pt 81.0pt'><span lang=EN-US
  style='font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:107%;
  font-family:"Calibri",sans-serif;mso-fareast-font-family:Calibri'><span
  style='mso-tab-count:1'>      </span></span><span lang=EN-US>PoW <span
  style='mso-tab-count:1'>         </span>нет </span></p>
  </td>
  <td width=28 rowspan=2 valign=top style='width:20.75pt;border:none;
  border-right:solid black 1.0pt;mso-border-top-alt:solid black .5pt;
  mso-border-top-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  </td>
  <td width=96 colspan=2 valign=top style='width:71.75pt;border:none;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span><span
  style='mso-tab-count:1'>                                 </span><span
  style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'>                                  </span><span
  style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=32 rowspan=2 valign=top style='width:24.25pt;border:none;
  mso-border-top-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:13.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:15.35pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.35pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.45pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Ethereum </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.35pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:10.05pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2013, 2015 </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.35pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.8pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoW </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.35pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.35pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.35pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span><span
  style='mso-tab-count:1'>                                 </span><span
  style='mso-spacerun:yes'> </span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:14.4pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.4pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:1.45pt;
  margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>NXT </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.4pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.8pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2014 </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2+ </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.4pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.65pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoS </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>нет </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span><span
  style='mso-tab-count:1'>                                 </span><span
  style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.4pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:15.15pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.15pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.15pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Tezos </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.15pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.1pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2017, ? </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2+ </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.15pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.65pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoS </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span><span
  style='mso-tab-count:1'>                                 </span><span
  style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.15pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:14.85pt'>
  <td width=83 valign=top style='width:62.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black .5pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;background:white;
  padding:0cm 3.25pt 0cm 0cm;height:14.85pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:3.05pt;
  margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Casper </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.3pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2015, (2017) </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.85pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>3 </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:7.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoW/PoS </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:
  14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>1 </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.25pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:
  14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US style='font-size:5.0pt;mso-bidi-font-size:
  12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span><span
  style='mso-tab-count:1'>                                 </span><span
  style='mso-spacerun:yes'> </span></span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:
  14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:8.0pt;margin-left:0cm;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;height:13.05pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-top-alt:solid black .5pt;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:13.05pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.45pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>BitShares </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-top-alt:
  solid black .5pt;mso-border-left-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:13.05pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:10.05pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2013, 2014 </span></p>
  </td>
  <td width=37 rowspan=2 valign=top style='width:27.5pt;border:none;border-right:
  solid black 1.0pt;mso-border-top-alt:solid black .5pt;mso-border-top-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:13.05pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.5pt;text-align:left;text-indent:-2.0pt;
  line-height:107%'><span lang=EN-US>30 4 </span></p>
  </td>
  <td width=139 colspan=2 valign=top style='width:104.05pt;border:none;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.05pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%;tab-stops:center 31.35pt 81.0pt'><span lang=EN-US
  style='font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:107%;
  font-family:"Calibri",sans-serif;mso-fareast-font-family:Calibri'><span
  style='mso-tab-count:1'>      </span></span><span lang=EN-US>DPoS <span
  style='mso-tab-count:1'>        </span>нет </span></p>
  </td>
  <td width=28 rowspan=2 valign=top style='width:20.75pt;border:none;
  border-right:solid black 1.0pt;mso-border-top-alt:solid black .5pt;
  mso-border-top-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.05pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>m m </span></p>
  </td>
  <td width=96 colspan=2 valign=top style='width:71.75pt;border:none;
  mso-border-top-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.05pt'>
  <p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
  0cm;line-height:107%;tab-stops:center 47.75pt'><span lang=EN-US>ht. <span
  style='mso-tab-count:1'>        </span>нет </span></p>
  </td>
  <td width=32 rowspan=2 valign=top style='width:24.25pt;border:none;
  border-right:solid black 1.0pt;mso-border-top-alt:solid black .5pt;
  mso-border-top-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:13.05pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>L </span></p>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>L </span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;height:15.6pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.6pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.9pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>EOS </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.6pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.3pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2016, (2018) </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.6pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.9pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>DPoS </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.6pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:15.6pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.75pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>ht. </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.6pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:8.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>нет </span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8;height:14.0pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.45pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PolkaDot </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.3pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2016, (2019) </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>4 </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.0pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoS BFT </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>m </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.75pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>ht. </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:8.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>нет </span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>L </span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;height:14.0pt'>
  <td width=83 valign=top style='width:62.4pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:none;border-right:solid black 1.0pt;mso-border-left-alt:solid black .5pt;
  mso-border-right-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:11.45pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>Cosmos </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.1pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2017, ? </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>4 </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.0pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoS BFT </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>m </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;mso-border-left-alt:
  solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:2.75pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>ht. </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;padding:0cm 3.25pt 0cm 0cm;
  height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:8.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>нет </span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;border:none;border-right:solid black 1.0pt;
  mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:14.0pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>L </span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10;mso-yfti-lastrow:yes;height:15.85pt'>
  <td width=83 valign=top style='width:62.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black .5pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;background:white;
  padding:0cm 3.25pt 0cm 0cm;height:15.85pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:1.65pt;
  margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>TON </span></p>
  </td>
  <td width=99 valign=top style='width:74.6pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.3pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>2017, (2018) </span></p>
  </td>
  <td width=37 valign=top style='width:27.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;
  height:15.85pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.7pt;text-align:center;text-indent:0cm;
  line-height:107%'><span lang=EN-US>5 </span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.0pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>PoS BFT </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:
  15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:9.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>да </span></p>
  </td>
  <td width=28 valign=top style='width:20.75pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>m </span></p>
  </td>
  <td width=41 valign=top style='width:30.75pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;
  mso-border-bottom-alt:solid black .5pt;background:white;padding:0cm 3.25pt 0cm 0cm;
  height:15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:5.75pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>mix </span></p>
  </td>
  <td width=55 valign=top style='width:41.0pt;border:none;border-bottom:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;padding:0cm 3.25pt 0cm 0cm;height:
  15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>dyn. </span></p>
  </td>
  <td width=32 valign=top style='width:24.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 3.25pt 0cm 0cm;height:15.85pt'>
  <p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
  margin-bottom:0cm;margin-left:3.5pt;text-align:left;text-indent:0cm;
  line-height:107%'><span lang=EN-US>T </span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><span lang=EN-US style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;line-height:122%'>Таблица 1: Краткое описание
некоторых известных блокчейн-проектов. В столбцах представлены следующие
параметры: Проект - название проекта; Год - год анонсирования и год
развертывания; П. - поколение (ср. 2.8.15); Конс. - алгоритм консенсуса (см.
2.8.3 и 2.8.4); Ск. - поддержка произвольного кода (смарт-контракты; см.
2.8.6); Ч. – сингл-/мульти-блокчейн-система (см. 2.8.2); R. -
гетерогенные/гомогенные мультичейн системы (см. 2.8.8); Ш. - поддержка шардинга
(см. 2.8.12); Int. - взаимодействие между блокчейнами, (L)oose или (T)ight –
слабо-связанные или тесно-связанные системы (см. 2.8.14). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.65pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116699">2.9. Сравнение с другими
блокчейн-проектами </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы завершаем наше краткое обсуждение
блокчейна TON и его наиболее важных и уникальных функций в попытке найти для
него место среди существующих и предлагаемых блокчейн-проектов. Мы используем
критерии классификации, описанные в п. 2.8, для обсуждения различных проектов
блокчейнов и построения своеобразной «карты блокчейн-проектов». Мы представляем
эту карту в виде Таблицы 1, а затем кратко обсуждаем несколько проектов по
отдельности, указывая на их особенности, которые могут не вписываться в общую
схему. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.1.
Биткоин [12]</span></b><span lang=EN-US>; https://bitcoin.org/. Биткоин (2009)
- первый и самый известный блокчейн-проект. Это типичный блокчейн-проект
первого поколения: в нём один блокчейн, используется Proof-of-Work с алгоритмом
выбора «побеждает самый длинный форк» и нет Тьюринг-полного скриптового языка
(однако поддерживаются простые скрипты без циклов). Блокчейн Bitcoin не имеет
понятия аккаунтов; вместо этого он использует модель UTXO (Unspent Transaction
Output). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.2.
Ethereum [2]</span></b><span lang=EN-US>; https://ethereum.org/. Ethereum (2015)
- первый блокчейн с поддержкой Тьюринг-полных смарт-контрактов. Таким образом,
это типичный проект второго поколения и самый популярный среди них. Он
использует Proof-ofWork на одном блокчейне, но имеет смарт-контракты и
аккаунты. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.3.
NXT</span></b><span lang=EN-US>: https://nxtplatform.org/. NXT (2014) - это
первый блокчейн и валюта на основе PoS. Это по-прежнему синглчейн-проект и он
не поддерживает смартконтракты. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>           </span><span
style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.4.
Tezos</span></b><span lang=EN-US>; https://www.tezos.com/. Tezos (2018 или
позже) - то предлагаемый синглчейн-проект на основе PoS. Мы упоминаем его здесь
из-за его уникальной особенности: его функция интерпретации блока ev_block (см.
2.2.6) не фиксирована, но определяется модулем OCaml, который можно обновить,
отправив новую версию в блокчейн (и собрав голоса для предлагаемого изменения).
Таким образом, можно создавать собственные синглчейн-проекты, сначала развернув
&quot;ванильный&quot; блокчейн Tezos, а затем постепенно изменяя функцию
интерпретации блоков в желаемом направлении, без каких-либо хард-форков. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эта идея хоть и является интригующей, но
имеет очевидный недостаток, заключающийся в том, что она запрещает любые
оптимизированные реализации на других языках, таких как C++, поэтому блокчейн
на основе Tezos обречен на низкую производительность. Мы думаем, что
аналогичный результат можно было бы получить, опубликовав формальную
спецификацию предлагаемой функции интерпретации блока ev_trans без закрепления
конкретной имплементации. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.5.
Casper</span></b><span lang=EN-US>.<a style='mso-footnote-id:ftn13'
href="#_ftn13" name="_ftnref13" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[13]</span></sup><![endif]></span></sup></a>
Casper - новый алгоритм PoS для Ethereum; его постепенное развертывание в 2017
(или 2018), в случае успеха, превратит Ethereum в синглчейн PoS или смешанную
систему PoW + PoS с поддержкой смарт-контрактов, сделав из Ethereum проект
третьего поколения. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.6.
BitShares [8];</span></b><span lang=EN-US> https://bitshares.org. BitShares
(2014) — это платформа для распределенных бирж на основе блокчейна. Это
гетерогенная мультиблокчейнсистема DPoS без смарт-контрактов; она достигает
своей высокой производительности, позволяя использовать только небольшой набор
предопределенных специализированных типов транзакций, которые могут быть
эффективно реализованы на C++ при условии, что состояние блокчейна умещается в
памяти. Это также первый блокчейн-проект, в котором используется Delegated
Proofof-Stake (DPoS), демонстрирующий его жизнеспособность, по крайней мере,
для некоторых специализированных целей. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.7pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.7.
EOS [5]</span></b><span lang=EN-US>; https://eos.io. EOS (2018 или позже) - это
предлагаемая гетерогенная мультиблокчейн-система DPoS с поддержкой
смарт-контрактов и некоторой минимальной поддержкой обмена сообщениями (система
всё ещё слабо-связана в смысле, описанном в п. 2.8.14). Это разработка той же
команды, которая ранее создала проекты BitShares и SteemIt, демонстрирующая
сильные стороны алгоритма консенсуса DPoS. Масштабируемость будет достигаться
за счет создания специализированных воркчейнов для проектов, которые в этом
нуждаются (например, распределенная биржа может использовать воркчейн,
поддерживающий специальный набор оптимизированных транзакций, аналогично тому,
что сделал BitShares) и путем создания нескольких воркчейнов с одинаковыми
правилами (конфедерации, см. п. 2.8.10). Недостатки и ограничения этого подхода
к масштабируемости обсуждались в loc. cit. Более подробное описание DPoS,
шардинга, взаимодействия между воркчейнами и их значение для масштабируемости
системы блокчейнов приведено в </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>2.8.5, 2.8.12 и 2.8.14. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.8pt;
margin-left:-.25pt'><span lang=EN-US>В то же время, даже если никто не сможет
«создать Facebook внутри блокчейна» (см. 2.9.13), с помощью EOS или иным
способом, мы думаем, что EOS может стать удобной платформой для некоторых
узкоспециализированных слабо взаимодействующих распределенных приложений,
подобных BitShares </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>(децентрализованная биржа) и SteemIt
(децентрализованная платформа для блогов). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.8.
PolkaDot [17]</span></b><span lang=EN-US>; https://polkadot.io/. PolkaDot (2019
или позже) - один из самых продуманных и детально проработанных
мультичейн-проектов Proof-of-Stake; его разработкой руководит один из
соучредителей Ethereum. Этот проект является одним из самых близких к TON
Blockchain на нашей карте. (Фактически, мы обязаны своей терминологией для
«фишерменов» и «номинаторов» проекту PolkaDot.) </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>PolkaDot - это гетерогенный
слабо-связанный мультичейн-проект Proof-of-Stake с консенсусом Byzantine Fault
Tolerant (BFT) для генерации новых блоков и мастерчейном (который может быть
внешним - например, блокчейн Ethereum). Он также использует гиперкубовую
маршрутизацию, похожую на (медленную версию) используемую в TON, как описано в
п. 2.4.19. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Его уникальная особенность - это
возможность создавать не только публичные, но также приватные блокчейны. Эти
приватные блокчейны также смогут взаимодействовать с другими публичными
блокчейнами, PolkaDot или применять другие способы взаимодействия. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, PolkaDot может стать
платформой для крупномасштабных приватных блокчейнов, которые могут
использоваться, например, банковскими консорциумами для быстрого перевода
средств друг другу или для любых других целей, которые крупная корпорация может
достичь с технологией приватного блокчейна. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако PolkaDot не поддерживает шардинг и
не является тесно-связанной системой. Это несколько затрудняет её
масштабируемость, которая примерно аналогична EOS. (Возможно, в случае PolkaDot
ситуация немного лучше, потому что PolkaDot использует BFT PoS вместо DPoS.) </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.9.
Universa</span></b><span lang=EN-US>; https://universa.io. Единственная
причина, по которой мы упоминаем здесь этот необычный блокчейн-проект,
заключается в том, что пока это единственный проект, в котором есть нечто
похожее на нашу парадигму бесконечного шардинга (см. 2.1.2). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Другой его особенностью является то, что
он обходит все сложности, связанные с Byzantine Fault Tolerance, обещая, что
только доверенные и лицензированные партнеры проекта будут допущены в качестве
валидаторов, поэтому они никогда не будут включать невалидные блоки. Это
интересное решение; тем не менее, оно, по сути, делает блокчейн-проект
намеренно централизованным, чего блокчейн-проекты обычно стараются избегать
(зачем вообще нужен блокчейн для работы в доверенной централизованной среде?). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.10.
Plasma</span></b><span lang=EN-US>; https://plasma.io). Plasma (2019?) -
отличный от других блокчейнпроект от другого соучредителя Ethereum. Предполагается,
что он смягчит некоторые ограничения Ethereum без введения шардинга. По сути,
это отдельный от Ethereum проект, представляющий иерархию (гетерогенных)
воркчейнов, привязанных к блокчейну Ethereum (для использования в качестве
внешнего мастерчейна) на верхнем уровне. Средства могут быть переведены из
любого блокчейна вверх по иерархии (начиная с блокчейна Ethereum в качестве
корня) вместе с описанием задания, которое необходимо выполнить. Затем в
дочернем воркчейне выполняются необходимые вычисления (возможно, требующие
пересылки частей исходного задания дальше вниз по дереву), их результаты
передаются вверх, и собирается вознаграждение. Проблема достижения
согласованности и проверки этих воркчейнов Проблема достижения
непротиворечивости и валидации этих воркчейнов обходится с помощью (основанного
на платежном канале) механизма, позволяющего пользователям в одностороннем
порядке выводить свои средства из некорректно функционирующего воркчейна в его
родительский воркчейн (хотя и медленно) и перераспределять свои средства и свои
задания в другой воркчейн. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, Plasma может стать
платформой для распределенных вычислений, связанных с блокчейном Ethereum,
чем-то вроде «математического сопроцессора».<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако это не похоже на способ достигнуть истинной
масштабируемости общего назначения. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.11.
Специализированные блокчейн-проекты</span></b><span lang=EN-US>. Существуют
также некоторые специализированные блокчейн-проекты, такие как FileCoin
(система, которая стимулирует пользователей предлагать свое дисковое
пространство для хранения файлов других пользователей, которые готовы за это
платить), Golem (платформа на основе блокчейна для аренды и предоставления
вычислительной мощности для специализированных приложений, таких как
3D-рендеринг) или SONM (еще один аналогичный проект по предоставлению
вычислительной мощности). Такие проекты не привносят ничего концептуально
нового на уровне организации блокчейна; скорее, это конкретные приложения
блокчейна, которые могут быть реализованы с помощью смарт-контрактов,
работающих в блокчейне общего назначения, при условии, что он может обеспечить
требуемую производительность.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Таким
образом, проекты такого типа, вероятно, будут использовать в качестве своей
основы один из существующих или планируемых блокчейн-проектов, например EOS, PolkaDot
или TON. Если проекту нужна «настоящая» масштабируемость (на основе шардинга),
лучше использовать TON; если проекту подходит функционирование в контексте
«конфедерации» посредством определения семейства собственных воркчейнов, явно
оптимизированных для его целей, он может выбрать EOS или PolkaDot. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>2.9.12. Блокчейн TON</span></b><span lang=EN-US>.
Блокчейн TON (The Open Network) (планируется в 2018 г.) - это проект, который
мы описываем в данном документе. Он разработан как первый блокчейн-проект
пятого поколения, то есть BFT PoS-мультичейн, смешанный
гомогенный/гетерогенный, с поддержкой (шардируемых) настраиваемых воркчейнов, с
нативной поддержкой шардинга и тесно-связанный блокчейн-проект (в частности,
способный пересылать сообщения между шардами почти мгновенно, сохраняя при этом
непротиворечивое состояние всех шардчейнов). Таким образом, это действительно
масштабируемый блокчейн-проект общего назначения, способный вместить
практически любые приложения, которые вообще могут быть реализованы в
блокчейне. При добавлении других компонентов проекта TON его возможности
расширяются еще больше. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>2.9.13.
Возможно ли «загрузить Facebook в блокчейн»?</span></b><span lang=EN-US> Иногда
люди утверждают, что можно будет реализовать социальную сеть в масштабе
Facebook как распределенное приложение, размещенное в блокчейне. Обычно в
качестве возможного «хоста» для такого приложения указывается любимый
блокчейн-проект. Нельзя сказать, что это технически невозможно. Конечно, нужен
тесно-связанный блокчейн-проект с настоящим шардингом (например, TON), чтобы
такое большое приложение не работало слишком медленно (например, доставляло
сообщения и обновления от пользователей, находящихся в одном шардчейне, их
друзьям, находящимся в другом, с приемлемой задержкой). Однако мы думаем, что
нет необходимости это делать и что это никогда не будет сделано, потому что
цена будет непомерно высокой. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Давайте рассмотрим «загрузку Facebook в
блокчейн» как мысленный эксперимент; примером может служить любой другой проект
подобного масштаба. После загрузки Facebook в блокчейн все операции,
выполняемые в настоящее время серверами Facebook, будут сериализированы как
транзакции в определенных блокчейнах<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>(например, в шардчейнах TON) и будут
выполняться всеми валидаторами этих блокчейнов. Каждую операцию нужно будет
выполнить, скажем, не менее двадцати раз, если мы ожидаем, что каждый блок
соберет не менее двадцати подписей валидатора (мгновенно или со временем, как в
системах DPOS). Точно так же все<span style='mso-spacerun:yes'>  </span>данные,
которые серверы Facebook хранят на своих дисках, будут храниться на дисках всех
валидаторов для соответствующего шардчейна (то есть как минимум в двадцати
копиях). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поскольку валидаторы по сути являются теми
же серверами (или, скорее, кластерами серверов, но это не влияет на
достоверность этого аргумента), что и те, которые в настоящее время
используются Facebook, мы видим, что общие затраты на оборудование, связанные с
запуском Facebook в блокчейне, как минимум в двадцать раз больше, чем если бы
это было реализовано обычным способом. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Фактически, расходы будут еще намного
более высокими, потому что виртуальная машина блокчейна работает медленнее, чем
&quot;голый процессор&quot;, на котором работает оптимизированный
скомпилированный код, а ее хранилище не оптимизировано для конкретных проблем
Facebook. Можно частично смягчить эту проблему, создав специфический воркчейн с
некими специальными транзакциями, адаптированными для Facebook; это подход
BitShares и EOS к достижению высокой производительности, также доступный в
блокчейне TON. Однако общий дизайн блокчейна сам по себе налагает некоторые
дополнительные ограничения, такие как необходимость регистрировать все операции
как транзакции в блоке, организовывать эти транзакции в дереве Меркла,
вычислять и проверять их хэши Меркла, распространять этот блок дальше и так
далее. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, по самым скромным
подсчетам, потребуется в 100 раз больше серверов с той же производительностью,
что и те, которые сейчас используются Facebook, чтобы валидировать
блокчейн-проект, на котором размещена социальная сеть такого масштаба. Кто-то
должен будет заплатить за эти серверы, будь то компания, владеющая
распределенным приложением (представьте, что вы видите 700 рекламных объявлений
на каждой странице Facebook вместо 7), или ее пользователи. В любом случае это
не выглядит экономически жизнеспособным. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы считаем неверным, что всё должно быть
загружено в блокчейн. Например, нет необходимости хранить фотографии
пользователей в блокчейне; регистрация хэшей этих фотографий в блокчейне и
хранение фотографий в распределенном офф-чейн хранилище (таком как FileCoin или
TON Storage) было бы лучшей идеей. Это причина, по которой TON - это не просто
блокчейн-проект, а совокупность нескольких компонентов (TON P2P Network, TON
Storage, TON Services), сосредоточенных вокруг блокчейна TON, как описано в
главах 1 и 4. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.75pt;text-indent:0cm;tab-stops:center 128.1pt'><a
name="_Toc116700">3<span style='mso-spacerun:yes'>  </span><span
style='mso-tab-count:1'>     </span>Система TON Networking </a></h1>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Для любого блокчейн-проекта необходимы не
только спецификации формата блока и правил проверки блокчейна, но и сетевого
протокола, используемого для распространения новых блоков, отправки и сбора
транзакций-кандидатов и т. д. Другими словами, в каждом проекте блокчейн должна
быть создана специализированная одноранговая сеть. Эта сеть должна быть
одноранговой, поскольку обычно предполагается, что блокчейн-проекты будут
децентрализованными, поэтому нельзя полагаться на централизованную группу
серверов и использовать традиционную архитектуру «клиент-сервер», как,
например, в классических приложениях для онлайн-банкинга. Даже тонкие клиенты
(например, приложения для смартфонов с кошельком для криптовалюты), которые
должны подключаться к полным нодам по типу «клиент-сервер», на самом деле могут
свободно подключаться к другой полной ноде, если соответствующая предыдущая
одноранговая нода выходит из строя, при условии, что протокол, используемый для
подключения для полных нод в достаточной степени стандартизирован. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В то время как сетевые потребности
синглчейн-проектов, таких как Биткоин или Эфириум, могут быть удовлетворены
довольно легко (по сути, необходимо построить «случайную» одноранговую
оверлейную сеть и распространять все новые блоки и транзакции-кандидаты с
помощью протокола сплетен), мультичейн-проекты с<span
style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection14>

<h2 align=center style='margin-top:0cm;margin-right:4.15pt;margin-bottom:13.0pt;
margin-left:.5pt;text-align:center'><a name="_Toc116701"><span
style='font-size:12.0pt;line-height:107%;font-weight:normal'>3.1. Сетевой
уровень абстрактной датаграммы</span></a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>несколькими блокчейнами, такие как TON
Blockchain, гораздо более требовательны (например, нужно иметь возможность
подписаться на обновления только некоторых шардчейнов, не обязательно всех из них).
Поэтому сетевая часть блокчейна TON и проекта TON в целом заслуживает хотя бы
краткого обсуждения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>С другой стороны, как только будут созданы
более сложные сетевые протоколы, необходимые для поддержки блокчейна TON, их
можно будет легко использовать для целей, не обязательно связанных с
непосредственными потребностями блокчейна TON, что позволит обеспечить больше
возможностей и гибкость для создания новых сервисов в экосистеме TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h3 style='margin-left:-.25pt'>3.1. Сетевой уровень абстрактной датаграммы </h3>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Краеугольным камнем в построении сетевых
протоколов TON является абстрактный сетевой уровень (датаграммы) (TON). Он
позволяет всем узлам принимать определенные «сетевые идентификаторы»,
представленные 256-битными «абстрактными сетевыми адресами», и обмениваться
данными (отправлять датаграммы друг другу в качестве первого шага), используя
только эти 256-битные сетевые адреса для идентификации отправителя и
получателя. В частности, не нужно беспокоиться об адресах IPv4 или IPv6,
номерах портов UDP и т.п. - они скрыты в абстрактном сетевым уровне. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.1.
Абстрактные сетевые адреса</span></b><span lang=EN-US>. Абстрактный сетевой
адрес, или просто адрес для краткости, является 256-битным целым числом равным
256-битному публичному ключу ECC. Этот публичный ключ может быть сгенерирован
произвольно, таким образом создавая столько сетевых идентификаторов, сколько
нравится узлу. Однако для получения (и расшифровки) сообщений, предназначенных
для такого адреса, необходимо знать соответствующий закрытый ключ.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Фактически, адрес не является открытым
ключом; вместо этого это 256-битный хэш (Hash = sha256) сериализированного
TL-объекта, который может описывать несколько типов открытых ключей и адресов в
зависимости от его конструктора (первые четыре байта). В простейшем случае этот
сериализированный TL-объект состоит из 4-байтового магического числа и
256-битного открытого ключа криптографии с эллиптической кривой (ECC); в этом
случае адрес будет равен хешу этой 36-байтовой структуры. Однако можно вместо
этого использовать 2048-битные ключи RSA или любую другую схему криптографии с
открытыми ключами. Когда узел узнает абстрактный адрес другого узла, он также
должен получить свой «образ» (т.е. сериализированный TL-объект, хэш которого
равен этому абстрактному адресу), иначе он не сможет шифровать и отправлять
датаграммы на этот адрес. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.2.
Сети более низкого уровня</span></b><span lang=EN-US>. Реализация UDP. С точки
зрения почти всех сетевых компонентов TON, единственное, что существует, - это
сеть (сетевой уровень абстрактных датаграмм), способная отправлять датаграммы с
одного абстрактного адреса на другой. В принципе, абстрактный сетевой уровень
датаграм (ADNL) может быть реализован в различных существующих сетевых
технологиях. Однако мы собираемся реализовать его по протоколу UDP в сетях IPv4
/ IPv6 (таких как Интернет или интрасети), с необязательным запасным вариантом
TCP, если UDP недоступен. <b style='mso-bidi-font-weight:normal'>3.1.3. Простой
вариант использования ADNL по UDP</b>. Простейший случай отправки датаграмм с
абстрактного адреса отправителя на любой другой абстрактный адрес (с известным
изображением) может быть реализован следующим образом. Предположим, что
отправитель каким-то образом знает IP-адрес и UDP-порт получателя, которому
принадлежит абстрактный адрес назначения, и что и получатель, и отправитель
используют абстрактные адреса, полученные из 256битных открытых ключей ECC. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h4 style='margin-top:0cm;margin-right:3.95pt;margin-bottom:13.0pt;margin-left:
.5pt'>3.1. Сетевой уровень абстрактной датаграммы</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В этом случае отправитель просто добавляет
датаграмм для отправки своей подписью ECC (выполненной с помощью своего
закрытого ключа) и адресом своего источника. Результат шифруется открытым
ключом получателя, встраивается в датаграмму UDP и отправляется на известный
IP-адрес и порт получателя. Поскольку первые 256 бит датаграммы UDP содержат
абстрактный адрес получателя, получатель может определить, какой закрытый ключ
следует использовать для расшифровки оставшейся части датаграммы. Только после
этого раскрывается личность отправителя. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.4.
Менее безопасный способ, с адресом отправителя в тексте</span></b><span
lang=EN-US>. Иногда недостаточно безопасной схемы, когда адреса получателя и
отправителя хранятся в незашифрованном виде в дейтаграмме UDP; закрытый ключ
отправителя и открытый ключ получателя объединяются вместе с помощью ECDH
(эллиптическая кривая Диффи-Хеллмана) для генерации 256-битного общего секрета,
который используется впоследствии, наряду со случайным 256-битным одноразовым
номером, также включенным в незашифрованную часть, получить ключи AES,
используемые для шифрования. Целостность может быть обеспечена, например, путем
объединения хеша исходных данных открытого текста в открытый текст перед
шифрованием.<span style='mso-spacerun:yes'>  </span>Преимущество этого подхода
состоит в том, что если ожидается обмен более чем двумя дейтаграммами между
двумя адресами, общий секрет может быть вычислен только один раз, а затем
кэширован, тогда более медленные операции эллиптической кривой больше не будут
требоваться для шифрования или дешифрования следующих датаграмм. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.5.
Каналы и идентификаторы каналов</span></b><span lang=EN-US>. В простейшем
случае первые 256 бит датаграммы UDP, несущей встроенную дейтаграмму TON ADNL,
будут равны адресу получателя. Однако в целом они составляют идентификатор
канала. Существуют разные типы каналов. Некоторые из них являются
двухточечными; они создаются двумя сторонами, которые желают обмениваться
большим количеством данных в будущем и генерировать общий секрет путем обмена
несколькими пакетами, зашифрованными в соответствии с 3.1.3 или 3.1.4 , путем
запуска классической или эллиптической кривой Диффи-Хеллмана (если необходима
дополнительная безопасность), или просто одна сторона генерирует случайный
общий секрет и отправляет его другой стороне.<span style='mso-spacerun:yes'> 
</span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>После этого идентификатор канала
извлекается из общего секрета в сочетании с некоторыми дополнительными данными
(такими как адреса отправителя и получателя), например, путем хеширования, и
этот идентификатор используется в качестве первых 256 битов датаграмм UDP,
переносящих данные, зашифрованные с помощью помощь этого общего секрета. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.6.
Канал как идентификатор туннеля</span></b><span lang=EN-US>. В общем, «канал»
или «идентификатор канала» просто выбирает способ обработки входящей датаграммы
UDP, известный получателю.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если канал является абстрактным адресом
получателя, обработка выполняется, как описано в п. 3.1.3 или 3.1.4; если канал
является установленным двухточечным каналом, описанным в п. 3.1.5, обработка
состоит в расшифровке датаграммы с помощью общего секрета, как описано в <i
style='mso-bidi-font-style:normal'>/цитата/</i> и т. д. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В частности, идентификатор канала может
фактически выбрать «туннель», когда непосредственный получатель просто
пересылает полученное сообщение кому-то другому - фактическому получателю или
другому прокси. Некоторые этапы шифрования или дешифрования (напоминающие
«луковую маршрутизацию» [6] или даже «чесночную маршрутизацию») могут
выполняться по пути, и другой идентификатор канала может быть использован для
перешифрованных<span style='mso-spacerun:yes'>  </span></span></p>

<h4 style='margin-top:0cm;margin-right:4.15pt;margin-bottom:13.0pt;margin-left:
.5pt'>3.1. Сетевой уровень абстрактной датаграммы</h4>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>переадресованных пакетов (например,
одноранговая маршрутизация). Равноправный канал может использоваться для
пересылки пакета следующему получателю на пути. Таким образом, некоторая
поддержка «туннелирования» и «прокси» - что-то вроде того, что обеспечивается
проектами TOR или I2P - может быть добавлена на уровне сетевого уровня
абстрактных дейтаграмм TON, не затрагивая функциональность всех высших сетевые
протоколы уровня TON, которые были бы независимы от такого дополнения. Эта
возможность используется службой TON Proxy (см. 4.1.10). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.7.
Нулевой канал и проблема начальной загрузки</span></b><span lang=EN-US>. Обычно
TON ADNL будет иметь некоторую «таблицу соседних узлов», содержащую информацию
о других известных узлах, таких как их абстрактные адреса и их прообразы (то
есть открытые ключи), а также их IP-адреса и порты UDP. Затем он будет
постепенно расширять эту таблицу, используя информацию, полученную из этих
известных узлов, в качестве ответов на специальные запросы, а иногда и удалять
устаревшие записи. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако когда узел TON ADNL только
запускается, может случиться так, что он не знает ни одного другого узла и
может узнать только IP-адрес и UDP-порт узла, но не его абстрактный адрес. Это
происходит, например, если легкий клиент не может получить доступ ни к одному
из ранее кэшированных узлов и к любым узлам, жестко закодированным в
программное обеспечение, и должен попросить пользователя ввести IP-адрес или
DNS-домен узла, который необходимо разрешить через DNS. В этом случае узел
будет отправлять пакеты на специальный «нулевой канал» рассматриваемого узла.
Это не требует знания открытого ключа получателя (но сообщение все равно должно
содержать личность и подпись отправителя), поэтому сообщение передается без
шифрования. Обычно его следует использовать только для получения идентификатора
(возможно, единовременного идентификатора, созданного специально для этой цели)
получателя и затем для начала более безопасной связи. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Как только становится известен хотя бы
один узел, можно легко заполнить «таблицу соседних узлов» и «таблицу
маршрутизации» большим количеством записей, изучая их на основе ответов на
специальные запросы, отправленные на уже известные узлы. Не все узлы требуются
для обработки дейтаграмм, отправленных на нулевой канал, но те, которые
используются для начальной загрузки легких клиентов, должны поддерживать эту
функцию. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.9pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.8.
TCP-подобный стриминговый протокол поверх ADNL</span></b><span lang=EN-US>.
ADNL, являющийся малым протоколом датаграмм на основе 256-битных абстрактных
адресов может использоваться в качестве основы для более сложных сетевых
протоколов. Можно создать, например, TCP-подобный потоковый протокол, используя
ADNL в качестве абстрактной замены IP. Однако большинству компонентов проекта
TON такой потоковый протокол не нужен. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.1.9.
RLDP или надежный протокол больших датаграмм поверх ADNL</span></b><span
lang=EN-US>. Надежный протокол датаграмм произвольного размера, построенный на
ADNL, называемый RLDP, используется вместо протокола, подобного TCP. Этот
надежный протокол датаграмм может использоваться, например, для отправки
запросов RPC удаленным хостам и получения от них ответов (см. 4.1.5). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116702">3.2. TON DHT: Распределенная
хеш-таблица, подобная Kademlia </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Распределенная хеш-таблица TON (DHT)
играет решающую роль в сетевой части проекта TON и используется для определения
местоположения других узлов в сети.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>31</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
https://geti2p.net/en/docs/how/garlic-routing </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:
12.0pt;line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection15>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:13.25pt;
margin-left:240.65pt'><span lang=EN-US>таблица, подобная Kademlia</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Например, клиент, желающий зафиксировать
транзакцию в шардчейне, может захотеть найти валидатора или коллатора этого
шардчейна или хотя бы какой-нибудь узел, который мог бы передать транзакцию
клиента коллатору. Это можно сделать, посмотрев специальный ключ в TON DHT. Еще
одно важное применение TON DHT состоит в том, что его можно использовать для
быстрого заполнения таблицы соседних элементов нового узла (см. 3.1.7) просто
путем поиска случайного ключа или адреса нового узла. Если узел использует
проксирование и туннелирование для своих входящих датаграмм, он публикует
идентификатор туннеля и его точку входа (например, IP-адрес и порт UDP) в TON
DHT; тогда все узлы, желающие отправить датаграммы на этот узел, сначала
получат эту контактную информацию от DHT. TON DHT является членом семейства
распределенных хеш-таблиц, подобных </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Kademlia [10]. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.1pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.1.
Ключи TON DHT</span></b><span lang=EN-US>. Ключи TON DHT - это просто 256-битные
целые числа. В большинстве случаев они вычисляются как SHA256
TL-сериализированного объекта (см. 2.2.5), называемого прообразом ключа или
описанием ключа. В некоторых случаях абстрактные адреса узлов сети TON (см.
3.1.1) также могут использоваться в качестве ключей TON DHT, потому что они
также являются 256-битными, и они также являются хэшами TL-сериализированных
объектов. Например, если узел не боится публиковать свой IP-адрес, его может
найти любой, кто знает его абстрактный адрес, просто просмотрев этот адрес в
виде ключа в DHT. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.2.
Значения DHT</span></b><span lang=EN-US>. Значения, присвоенные этим 256-битным
ключам, по сути, представляют собой произвольные байтовые строки ограниченной
длины. Интерпретация таких байтовых строк определяется прообразом
соответствующего ключа; обычно это известно как узлу, который ищет ключ, так и
узлу, который хранит ключ. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.3.
Узлы DHT</span></b><span lang=EN-US>. Полупостоянные сетевые идентификаторы.
Сопоставление ключа и значения TON DHT хранится на узлах DHT, по сути, всех
участников сети TON. С этой целью любой узел Сеть TON (возможно, за исключением
некоторых очень легких узлов), помимо любого количества эфемерных и постоянных
абстрактных адресов, описанных в 3.1.1, имеет как минимум один полупостоянный
адрес, который идентифицирует ее как члена TON DHT. Этот полупостоянный или
DHT-адрес не их следует менять слишком часто, иначе другие узлы не смогли бы
найти ключи, которые они ищут. Если узел не хочет раскрывать свою истинную
личность, он генерирует отдельный абстрактный адрес, который будет использоваться
только с целью участия в DHT. Однако этот абстрактный адрес должен быть
общедоступным, поскольку он будет связан с IP-адресом и портом узла. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.4.
Расстояние Kademlia</span></b><span lang=EN-US>. Теперь у нас есть как
256-битные ключи, так и 256битные (полупостоянные) адреса узлов. Мы вводим так
называемое расстояние XOR<span style='mso-spacerun:yes'>  </span>или расстояние
Kademlia dK на наборе 256-битных последовательностей, заданное формулой<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:27.25pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
97%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_14070" o:spid="_x0000_i1031" type="#_x0000_t75" style='width:379pt;
 height:24pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image030.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=379 height=24
src="ton_whitepaper_ru.fld/image030.jpg" v:shapes="Picture_x0020_14070"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span>которое интерпретируется как
256-битное целое число без знака. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Здесь <span style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_14072" o:spid="_x0000_i1030" type="#_x0000_t75" style='width:32pt;
 height:13pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image031.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=32 height=13
src="ton_whitepaper_ru.fld/image031.jpg" v:shapes="Picture_x0020_14072"><![endif]></span>обозначает
побитовое исключающее ИЛИ (XOR) двух битовых последовательностей одинаковой
длины. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.95pt;
margin-left:-.25pt'><span lang=EN-US>Расстояние Kademlia представляет собой
метрику набора 2<sup>256</sup> всех 256-битных последовательностей. В
частности, d</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>K</span><span lang=EN-US> (x, y) = 0 тогда и только
тогда, когда x = y, d</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>K</span><span lang=EN-US> </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>(x, y)
= d</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>K</span><span lang=EN-US> (y, x) и d</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>K</span><span
lang=EN-US> (x, z) </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≤</span><span lang=EN-US> dK (x,
y) + dK (y, z). Другое важное свойство состоит в<span
style='mso-spacerun:yes'>  </span>том, что на любом заданном расстоянии от x
есть только одна точка: d</span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'>K</span><span lang=EN-US> (x, y) =
d</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>K</span><span lang=EN-US> (x, y') подразумевает y = y'. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.5.
DHT, подобные Kademlia, и DHT TON</span></b><span lang=EN-US>. Мы говорим, что
распределенная хештаблица (DHT) с 256-битными ключами и 256-битными адресами
узлов является распределенной хеш-таблицей, подобной Kademlia, если ожидается,
что она сохранит значение ключа K на s Kademlia - ближайших к K узлах (т. е. s
узлов с наименьшим расстоянием Kademlia от их адресов до K). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:-.25pt'><span lang=EN-US>Здесь s - небольшой параметр, скажем s =
7, необходимый для повышения надежности DHT (если мы будем хранить ключ только
на одном узле, ближайшем к K, значение этого ключа будет потеряно, если этот единственный
узел переходит в автономный режим). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Согласно этому определению, TON DHT - это
таблица DHT, подобная Kademlia. Она будет реализована по протоколу ADNL,
описанному в п. 3.1. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.6.
Таблица маршрутизации Kademlia</span></b><span lang=EN-US>. Любой узел,
участвующий в DHT, подобном Kademlia, обычно поддерживает таблицу маршрутизации
Kademlia. В случае TON DHT он состоит из n = 256 шардчейнов, пронумерованных от
0 до n - 1. i-й сегмент будет содержать информацию о некоторых известных узлах
(фиксированное количество t «лучших» узлов и, возможно, некоторые
дополнительные кандидаты), которые лежат на расстоянии Kademlia от 2<sup>i</sup>
до 2<sup>i+1 </sup>- 1 от адреса узла a<a style='mso-footnote-id:ftn14'
href="#_ftn14" name="_ftnref14" title=""><sup><span style='mso-special-character:
footnote'><![if !supportFootnotes]><sup><span lang=EN-US style='font-size:12.0pt;
line-height:105%;font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman";color:black;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:EN-US'>[14]</span></sup><![endif]></span></sup></a>.
Эта информация включает их (полупостоянные) адреса, IP-адреса и порты UDP, а
также некоторую информацию о доступности, такую как время и задержка последнего
пинга. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда узел Kademlia узнает о любом другом
узле Kademlia в результате некоторого запроса, он включает его в подходящую
корзину своей таблицы маршрутизации, сначала в качестве кандидата. Затем, если
некоторые из «лучших» узлов в этом сегменте выходят из строя (например, не
отвечают на запросы проверки связи в течение длительного времени), они могут
быть заменены некоторыми из кандидатов. Таким образом, таблица маршрутизации
Kademlia остается всегда заполненной. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Новые узлы из таблицы маршрутизации
Kademlia также включаются в таблицу соседних узлов ADNL, описанную в 3.1.7.
Если часто используется «лучший» узел из группы таблицы маршрутизации Kademlia,
для облегчения шифрования датаграмм может быть установлен канал, описанный в
3.1.5. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Особенностью TON DHT является то, что
таблица пытается выбрать узлы с наименьшими задержками приема-передачи в
качестве «лучших» узлов для шардчейнов таблицы маршрутизации Kademlia. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.7.
(Сетевые запросы Kademlia).</span></b><span lang=EN-US> Узел Kademlia обычно
поддерживает следующие сетевые запросы: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.85pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l9 level1 lfo16'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>PING - проверяет доступность
узла. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l9 level1 lfo16'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>STORE (ключ, значение) — просит
узел сохранить значение в качестве значения для ключа key. Для TON DHT запросы
STORE немного сложнее (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.55pt'><span lang=EN-US>3.2.9). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l9 level1 lfo16'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>FIND_NODE(key, l) - просит узел
вернуть l ближайших к Kademlia известных узлов (из его таблицы маршрутизации
Kademlia) ключу. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l9 level1 lfo16'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>FIND_VALUE(key, l) — То же, что
и выше, но если узел знает значение, соответствующее ключу key, он просто
возвращает это значение. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда какой-либо узел хочет найти значение
ключа K, он сначала создает набор S из s' узлов (для некоторого небольшого
значения s', скажем, s'= 5), ближайших к K<span style='mso-spacerun:yes'> 
</span>относительно расстояния Kademlia среди всех известных узлов (т. е. они
взяты из таблицы маршрутизации Kademlia). Затем каждому из них отправляется
запрос FIND_VALUE, и узлы, упомянутые в ответах, включаются в S. Затем узлам s
из S, ближайшим к K, также отправляется запрос FIND_VALUE, если это не было
сделано ранее, и процесс продолжается до тех пор, пока не будет найдено
значение или пока множество S не перестанет расти. Это своего рода
«направленный поиск» узла, ближайшего к K по отношению к расстоянию Kademlia. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Если
необходимо установить значение некоторого ключа K, та же процедура выполняется
для s' </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≥</span><span lang=EN-US><span
style='mso-spacerun:yes'>  </span>s с запросами FIND_NODE вместо FIND_VALUE,
чтобы найти s ближайших узлов к K. После этого всем этим узлам отправляются
запросы STORE. В реализации подобной Kademlia таблицы DHT есть некоторые менее
важные детали (например, любой узел должен искать ближайшие к себе узлы,
скажем, один раз в час, и повторно публиковать все сохраненные ключи к ним с
помощью запросов STORE). Мы пока будем игнорировать эти детали. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l15 level3 lfo17'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Загрузка узла Kademlia</span></b><span lang=EN-US>. Когда узел
Kademlia подключается к сети, он сначала заполняет свою таблицу маршрутизации
Kademlia, просматривая свой собственный адрес. Во время этого процесса он
определяет s ближайших к себе узлов. Он может загружать из них все известные им
пары (ключ, значение) для заполнения своей части DHT. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l15 level3 lfo17'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Сохранение значений в TON DHT</span></b><span lang=EN-US>. Хранение
значений в TON DHT немного отличается от обычной Kademlia-подобной таблицы DHT.
Если необходимо сохранить значение, должен быть предоставлен не только сам ключ
K для запроса STORE, но и его прообраз, то есть TL-сериализированная строка (с
одним из нескольких предопределенных TL-конструкторов в начале), содержащую
«описание» ключа. Это описание ключа позже сохраняется в узле вместе с ключом и
значением. Описание ключа описывает «тип» сохраняемого объекта, его «владельца»
и соответствующие «правила обновления» в случае будущих обновлений. Владелец
обычно идентифицируется открытым ключом, включенным в описание ключа. Если он
включен, обычно будут приниматься только обновления, подписанные
соответствующим закрытым ключом. «Тип» хранимого объекта - это обычно просто
байтовая строка. Однако в некоторых случаях он может быть более сложным -
например, описание входного туннеля (см. 3.1.6) или набор адресов узлов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«Правила обновления» тоже могут быть
разными. В некоторых случаях они просто разрешают замену старого значения новым
значением, при условии, что новое значение подписано владельцем (подпись должна
быть сохранена как часть значения, которое позже проверяется любыми другими
узлами после того, как они получат значение этого ключа). В других случаях
старое значение так или иначе влияет на новое значение. Например, оно может
содержать порядковый номер, а старое значение перезаписывается только в том
случае, если новый порядковый номер больше (для предотвращения атак повторного
воспроизведения). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.5pt;mso-list:l15 level3 lfo17'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.10.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Распространение «торрент-трекеров» и «сетевых специализированных
групп» в TON DHT</span></b><span lang=EN-US>. Еще один интересный случай, когда
значение содержит список узлов - возможно, с их IP-адресами и портами или
просто с соответствующими абстрактными адресами, - а «правило обновления»
заключается во включении запрашивающей стороны в этот список при условии, что
она может подтвердить свою идентичность. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот механизм можно использовать для
создания распределенного «торренттрекера», где все узлы, заинтересованные в
определенном «торренте» (т. е. в определенном узле), могут найти другие узлы,
которые заинтересованы в этом же торренте или уже имеют соответствующую копию. </span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection16>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:13.25pt;
margin-left:52.05pt'><span lang=EN-US>3.2. TON DHT: Распределенная хеш</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>TON Storage (см. 4.1.7) использует эту
технологию для поиска узлов, у которых есть копия требуемого файла (например,
зафиксированный снимок состояния шардчейна или старого блока). Однако более
важная задача - создание «оверлейных подсетей многоадресной рассылки» и
«сетевых специализированных групп» (см. 3.3). Идея состоит в том, что только
некоторые узлы заинтересованы в обновлениях определенного шардчейна. Если
количество шардчейнов становится очень большим, поиск даже одного узла,
заинтересованного в одном и том же шарде, может стать сложным. Этот
«распределенный торрент-трекер» предоставляет удобный способ поиска некоторых
из этих узлов. Другой вариант - запросить их у валидатора, однако этот подход
исключает масштабирование, и валидаторы могут решить не отвечать на такие
запросы, поступающие от произвольных неизвестных узлов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l10 level3 lfo18'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.11.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Ключи отката</span></b><span lang=EN-US>. Большинство описанных до
сих пор «типов ключей» имеют дополнительное 32-битное целое число, содержащееся
в соответствующем TLописании, обычно равное нулю.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако если ключ был получен путем
хеширования, это описание не может быть получено или обновлено в TON DHT,
значение в этом удерживаемом ключе увеличивается, и делается новая попытка
получения. Таким образом, невозможно «захватить» и «подвергнуть цензуре» ключ (то
есть выполнить атаку с удержанием ключа) путем создания множества абстрактных
адресов, находящихся рядом с атакуемым ключом, и управления соответствующими
узлами DHT. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.5pt;mso-list:l10 level3 lfo18'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.12.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Услуги по определению местоположения</span></b><span lang=EN-US>.
Для некоторых сервисов, расположенных в сети TON и доступных по (протоколам
более высокого уровня, основанным на) TON ADNL, описанным в п. 3.1, может
понадобиться опубликовать их абстрактные адреса, чтобы их клиенты знали, где их
найти. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако публикация абстрактного адреса
сервиса в блокчейне TON может быть не самым лучшим подходом, поскольку может
потребоваться довольно часто менять абстрактный адрес, и поэтому может иметь
смысл предоставить несколько адресов в целях надежности или балансировки
нагрузки. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Альтернативой является публикация
открытого ключа в блокчейне TON и использование специального ключа DHT,
указывающего этот открытый ключ в качестве его «владельца» в строке описания TL
(см. 2.2.5), что позволяет публиковать обновленный список абстрактных адресов
сервиса. Это один из подходов, используемых в TON Services. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:36.5pt;mso-list:l10 level3 lfo18'><![if !supportLists]><b><span
lang=EN-US><span style='mso-list:Ignore'>3.2.13.<span style='font:7.0pt "Times New Roman"'>
</span></span></span></b><![endif]><b style='mso-bidi-font-weight:normal'><span
lang=EN-US>Поиск владельцев учетных записей блокчейна TON</span></b><span
lang=EN-US>. В большинстве случаев владельцы учетных записей блокчейна TON не
хотят, чтобы их ассоциировали с абстрактными сетевыми адресами, особенно с
IP-адресами, поскольку это может нарушить их конфиденциальность. Однако в
некоторых случаях владелец учетной записи блокчейна TON может захотеть
опубликовать один или несколько абстрактных адресов, по которым с ним можно
связаться. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><span lang=EN-US>Типичный случай - это узел в «сети
моментальных платежей» TON Payments (см. 5.2), платформе для мгновенных
переводов криптовалюты. Общедоступный узел TON Payments может захотеть не
только установить платежные каналы с другими одноранговыми узлами, но также
опубликовать абстрактный сетевой адрес, который можно использовать для
последующей связи с ним для передачи платежей по уже установленным каналам. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Одним из вариантов может быть включение
абстрактного сетевого адреса в смартконтракт, создающий платежный канал. Более
гибкий вариант — включить открытый ключ в смарт-контракт, а затем использовать
DHT, как описано в 3.2.12. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:13.25pt;
margin-left:52.05pt'><span lang=EN-US>3.2. TON DHT: Распределенная хеш</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Наиболее естественным способом было бы
использовать тот же закрытый ключ, который управляет учетной записью в
блокчейне TON, для подписания и публикации обновлений в TON DHT об абстрактных
адресах, связанных с этой учетной записью.<span style='mso-spacerun:yes'> 
</span>Этот процесс практически совпадает с п. 3.2.12; однако для используемого
ключа DHT потребуется специальное описание ключа, содержащее только
идентификатор account_id, равный SHA256 «описания учетной записи», который
содержит открытый ключ учетной записи. Подпись, включенная в значение этого
ключа DHT, также будет содержать описание учетной записи. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, становится доступным
механизм определения абстрактных сетевых адресов некоторых владельцев учетных
записей блокчейна TON. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.2.14.
Поиск абстрактных адресов</span></b><span lang=EN-US>. Обратите внимание, что
хотя таблица TON DHT и реализуется поверх TON ADNL, TON DHT сама используется
TON ADNL для нескольких целей. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Самая важная задача - найти узел или его
контактные данные, начиная с 256-битного абстрактного адреса. Это необходимо,
потому что TON ADNL должен иметь возможность отправлять датаграммы на
произвольные 256-битные абстрактные адреса, даже если не предоставляется
никакой дополнительной информации. Для этого 256-битный абстрактный адрес
просто просматривается как ключ в DHT. При этом либо находится узел с этим
адресом (т. е. с использованием этого адреса в качестве общедоступного
полупостоянного адреса DHT), и в этом случае можно узнать его IP-адрес и порт;
либо может быть получено описание входного туннеля как значение
рассматриваемого ключа, подписанное правильным закрытым ключом, и в этом случае
это описание туннеля будет использоваться для отправки датаграмм ADNL
предполагаемому получателю. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обратите внимание: для того, чтобы сделать
абстрактный адрес «общедоступным» (доступным с любых узлов в сети), его
владелец должен либо использовать его как полупостоянный адрес DHT, либо
опубликовать (в ключе DHT, равном рассматриваемому абстрактному адресу )
описание входного туннеля с другим его общедоступным абстрактным адресом
(например, полупостоянным адресом) в качестве точки входа в туннель. Другой
вариант - просто опубликовать IP-адрес и порт UDP. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.7pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116703">3.3. Оверлейные сети и
многоадресные сообщения </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В мультичейн-системе, такой как блокчейн
TON, даже полные ноды обычно заинтересованы в получении обновлений (т. е. новых
блоков) только для некоторых шардчейнов. С этой целью внутри сети TON для
каждого шардчейна должна быть построена специальная оверлейная (под) сеть
поверх протокола ADNL, описанного в п. 3.1. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Следовательно, возникает необходимость в
создании произвольных оверлейных подсетей, открытых для любых узлов, желающих в
них участвовать. В этих оверлейных сетях будут работать специальные протоколы
сплетен, основанные на ADNL. В частности, эти протоколы сплетен могут
использоваться для распространения (передачи) произвольных данных внутри такой
подсети. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.1.
Оверлейные сети</span></b><span lang=EN-US>. Оверлейная (под) сеть - это просто
(виртуальная) сеть, реализованная внутри более крупной сети. Обычно только
некоторые узлы более крупной сети участвуют в оверлейной подсети, и только
некоторые «связи» между этими узлами, физическими или виртуальными, являются
частью оверлейной подсети. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, если представить сеть в
виде графа (возможно, полного графа в случае сети датаграмм, такой как ADNL,
где любой узел может легко связываться с любым другим), оверлейная подсеть
является подграфом этого графа. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В большинстве случаев оверлейная сеть
реализуется с использованием какого-либо протокола, построенного на сетевом
протоколе более крупной сети. Она может использовать те же адреса, что и более
крупная сеть, либо использовать собственные адреса. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.2.
Оверлейные сети в TON</span></b><span lang=EN-US>. Оверлейные сети в TON
построены на протоколе ADNL, описанном в п. 3.1; в них также используются
256-битные абстрактные адреса ADNL в качестве адресов. Каждый узел обычно
выбирает один из своих абстрактных адресов, который удваивается в оверлейной
сети. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В отличие от ADNL, оверлейные сети TON
обычно не поддерживают отправку датаграмм на другие произвольные узлы. Вместо
этого между некоторыми узлами (называемыми «соседями» по отношению к
рассматриваемой оверлейной сети) устанавливается «полупостоянная связь», и
сообщения обычно пересылаются по этой связи (т. е. от узла к одному из его
соседей). Таким образом, оверлейная сеть TON представляет собой (обычно не
полный) подграф внутри (полного) графа сети ADNL. Связи с соседями в оверлейных
сетях TON могут быть реализованы с использованием выделенных одноранговых
каналов ADNL (см. 3.1.5). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Каждый узел оверлейной сети поддерживает
список соседей (по отношению к оверлейной сети), содержащий их абстрактные
адреса (которые они используют для собственной идентификации в оверлейной сети)
и некоторые данные связи (например, канал ADNL, используемый для связи). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.3.
Частные и общедоступные оверлейные сети</span></b><span lang=EN-US>. Некоторые
оверлейные сети являются общедоступными, что означает, что любой узел может
присоединиться к ним по своему желанию. Другие являются частными – в них могут
быть допущены только определенные узлы (например, узлы, которые могут
подтвердить, что они являются валидаторами). Некоторые частные оверлейные сети
могут быть даже неизвестны «широкой публике». Информация о таких оверлейных
сетях доступна только определенным доверенным узлам; например, она может быть
зашифрована открытым ключом, и расшифровать эту информацию смогут только узлы,
имеющие копию соответствующего закрытого ключа. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.4.
Централизованно управляемые оверлейные сети</span></b><span lang=EN-US>.
Некоторые оверлейные сети управляются централизованно одним или несколькими
узлами или владельцем широко известного открытого ключа. Другие являются
децентрализованными – это означает, что за них не отвечают какие-либо
конкретные узлы. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.5.
Присоединение к оверлейной сети</span></b><span lang=EN-US>. Когда узел хочет
присоединиться к оверлейной сети, он сначала должен узнать свой 256-битный
сетевой идентификатор, обычно равный SHA256 описания оверлейной сети -
TL-сериализированный объект (см. 2.2.5), который может содержать, например,
центр оверлейной сети (то есть его открытый ключ и, возможно, его абстрактный
адрес<sup>33</sup>), строка с именем оверлейной сети, идентификатор сегмента
блокчейна TON, если это оверлейная сеть, связанная с этим шардом, и т. д. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Иногда возможно восстановить описание
оверлейной сети, начиная с идентификатора сети, просто просмотрев его в TON
DHT. В других случаях (например, для частных оверлейных сетей) необходимо
получить описание сети вместе с идентификатором сети. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.6.
Поиск одного члена оверлейной сети</span></b><span lang=EN-US>. После того, как
узел узнает идентификатор сети и описание оверлейной сети, к которой он хочет
присоединиться, он должен найти хотя бы один узел, принадлежащий этой сети. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection17>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это также необходимо для узлов, которые не
хотят присоединяться к оверлейной сети, а хотят просто связаться с ее
участниками. Например, может существовать оверлейная сеть, предназначенная для
сбора и распространения транзакций-кандидатов для определенного шардчейна, и
клиент может захотеть подключиться к любому узлу этой сети, чтобы предложить
транзакцию. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Метод, используемый для обнаружения
элементов оверлейной сети, определяется в описании этой сети. Иногда (особенно
для частных сетей) нужно уже знать принадлежащий этой сети узел, чтобы иметь
возможность присоединиться. В других случаях в описании сети содержатся
абстрактные адреса некоторых узлов. Более гибкий подход состоит в том, чтобы
указать в описании сети только центральный узел, ответственный за сеть, и тогда
абстрактные адреса будут доступны через значения определенных ключей DHT,
подписанных этим центральным узлом. Наконец, действительно децентрализованные
общедоступные оверлейные сети могут использовать механизм «распределенного
трекера», описанный в 3.2.10, также реализованный с помощью TON DHT. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.7.
Поиск дополнительных участников оверлейной сети</span></b><span lang=EN-US>.
Создание ссылок. Как только один узел оверлейной сети будет найден, этому узлу
может быть отправлен специальный запрос, запрашивающий список других членов,
например, соседей запрашиваемого узла, или список случайных узлов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это позволяет присоединяющемуся узлу
заполнить «список своих соседей» по отношению к оверлейной сети, выбрав
некоторые недавно изученные сетевые узлы и установив с ними связи (т. е.
выделенные двухточечные каналы ADNL, как описано в общих чертах в п. 3.3.2).
После этого всем соседям отправляются специальные сообщения, указывающие, что
новый участник готов работать в оверлейной сети. Соседи включают свои ссылки на
нового участника в свои списки соседей. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.8.
Ведение списка соседей</span></b><span lang=EN-US>. Узел оверлейной сети должен
время от времени обновлять свой список соседей. Некоторые соседи или хотя бы
ссылки (каналы) на них могут перестать отвечать; в этом случае эти ссылки
должны быть помечены как «приостановленные», должны быть предприняты некоторые
попытки повторного подключения к таким соседям, и, если эти попытки не удались,
ссылки должны быть уничтожены. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>С другой стороны, каждый узел иногда
запрашивает у случайно выбранного соседа свой список соседей (или некоторый
случайный выбор из них) и использует его для частичного обновления своего
собственного списка соседей, добавляя к нему несколько недавно обнаруженных
узлов и удаляя некоторые старые узлы (случайным образом или в зависимости от времени
отклика и статистики потери датаграмм). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>3.3.9. Оверлейная сеть как случайный подграф</span></b><span
lang=EN-US>. Таким образом, оверлейная сеть становится случайным подграфом
внутри сети ADNL. Если степень каждой вершины не менее 3 (т. е. если каждый
узел связан, по крайней мере, с тремя соседями), этот случайный граф связан с
вероятностью, почти равной единице. Точнее, вероятность того, что случайный
граф с n вершинами будет отключен, экспоненциально мала, и этой вероятностью
можно полностью пренебречь, если, скажем, n </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≥</span><span
lang=EN-US> 20. (Конечно, это не применимо в случае разделения глобальной сети,
когда узлы на разных сторонах раздела не имеют возможности узнать друг о
друге.) С другой стороны, если n меньше 20, достаточно потребовать, чтобы
каждая вершина имела, скажем, как минимум десять соседей. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:.5pt;text-align:left;line-height:107%'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.10. Оптимизация
оверлейных сетей TON для уменьшения задержки</span></b><span lang=EN-US>.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:8.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:6.5pt;mso-bidi-font-size:12.0pt;
line-height:107%'><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>33</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
Как вариант, абстрактный адрес может храниться в DHT, как описано в 3.2.12. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Оверлейные сети TON оптимизируют
«случайный» сетевой граф, сгенерированный предыдущим методом, следующим
образом. Каждый узел пытается сохранить как<span style='mso-spacerun:yes'> 
</span>минимум трех соседей с минимальным периодом кругового обращения, причем
этот список «быстрых соседей» очень редко меняется. В то же время у каждого
узла есть как минимум три других «медленных соседа», которые выбираются
совершенно случайным образом, поэтому граф оверлейной сети всегда будет
содержать случайный подграф. Это необходимо для поддержания связи и предотвращения
разделения оверлейной сети на несколько несвязанных местных подсетей. Также
выбираются и сохраняются как минимум три «промежуточных соседа», которые имеют
промежуточный период кругового обращения, ограниченный определенной константой
(фактически, функцией периода кругового обращения для быстрых и медленных
соседей). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, в графе оверлейной сети
сохраняется достаточный уровень произвольности подключения, однако он
оптимизирован для более низкой задержки и более высокой пропускной способности.
</span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.11.
Протоколы сплетен в оверлейной сети</span></b><span lang=EN-US>. Оверлейные
сети часто используются для запуска одного из так называемых протоколов
сплетен, которые достигают какой-то глобальной цели, позволяя каждому узлу
взаимодействовать только со своими соседями. Например, существуют протоколы
сплетен для построения приблизительного списка всех членов (не слишком большой)
оверлейной сети или для вычисления оценки числа членов (произвольно большой)
оверлейной сети, используя только ограниченное количество памяти на каждом узле
(более подробная информация приведена в [15, 4.4.3] или [1]). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.12.
Оверлейная сеть как домен широковещательной рассылки</span></b><span
lang=EN-US>. Самый важный протокол сплетен, работающий в оверлейной сети, - это
протокол широковещательной передачи, предназначенный для распространения
широковещательных сообщений, генерируемых любым узлом сети или одним из
назначенных узлов-отправителей, всем другим узлам. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>На самом деле существует несколько
протоколов широковещательной передачи, оптимизированных для разных случаев
применения. Самый простой из них принимает новые широковещательные сообщения и
ретранслирует их всем соседям, которые сами еще не отправили копию этого
сообщения. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.13.
Более сложные протоколы широковещательной передачи</span></b><span lang=EN-US>.
Для некоторых приложений могут потребоваться более сложные протоколы
широковещательной передачи. Например, при широковещательной рассылке сообщений
большого размера имеет смысл отправлять соседям не само вновь полученное
сообщение, а его хэш (или набор хэшей новых сообщений). Соседний узел может
запросить само сообщение после изучения ранее невидимого хэша передаваемого
сообщения, скажем, с использованием надежного протокола больших датаграмм
(RLDP), описанного в п. 3.1.9. Таким образом, новое сообщение будет загружено
только от одного соседнего узла. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.14.
Проверка возможности подключения оверлейной сети</span></b><span lang=EN-US>.
Связность оверлейной сети можно проверить с использованием известного узла
(например, «владельца» или «создателя» оверлейной сети), который должен
находиться в этой оверлейной сети. Затем рассматриваемый узел просто время от
времени передает короткие сообщения, содержащие текущее время, порядковый номер
и подпись. Любой другой узел может быть уверен, что он все еще подключен к
оверлейной сети, если он недавно получил такое широковещательное сообщение.
Этот протокол может быть расширен на нескольких хорошо известных узлов;
например, все они будут<span style='mso-spacerun:yes'>  </span>отправлять такие
широковещательные рассылки, а все остальные узлы будут ожидать широковещательные
рассылки от более чем половины хорошо известных узлов. В случае оверлейной
сети, используемой для распространения новых блоков (или только новых
заголовков блоков) определенного шардчейна, хороший способ для узла проверить
возможность подключения - это отслеживать самый последний полученный блок.
Поскольку блок обычно генерируется каждые пять секунд, если новый блок не
принимается в течение, скажем, тридцати секунд, то узел, вероятно, был отключен
от оверлейной сети. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>3.3.15. Протокол потоковой трансляции</span></b><span
lang=EN-US>. Существует протокол потоковой трансляции для оверлейных сетей TON,
который используется, например, для распространения блоков-кандидатов среди
валидаторов некоторого шардчейна («группа задач шардчейна»), которые, конечно
же, создают для этой цели частную оверлейную сеть. Тот же протокол можно
использовать для распространения новых блоков шардчейна на все полные ноды
этого шардчейна. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Этот
протокол уже был описан в 2.6.10: новое (большое) широковещательное сообщение
разбивается, скажем, на N блоков по одному килобайту; последовательность этих
фрагментов увеличивается до M </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≥</span><span lang=EN-US><span
style='mso-spacerun:yes'>  </span>N фрагментов с помощью стирающего кода,
такого как код Рида-Соломона или исходный код (например, код RaptorQ [9] [14]),
и эти M фрагментов передаются всем соседям в порядке возрастания номеров
блоков. Участвующие узлы собирают эти фрагменты до тех пор, пока они не смогут
восстановить исходное большое сообщение (для этого необходимо успешно получить
не менее N фрагментов), а затем проинструктировать своих соседей прекратить
отправку новых фрагментов потока, потому что теперь эти узлы могут генерировать
последующие блоки самостоятельно, имея копию исходного сообщения. Такие узлы
продолжают генерировать последующие фрагменты потока и отправлять их своим соседям,
если соседи, в свою очередь, не укажут, что в этом больше нет необходимости. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, узлу не нужно полностью
загружать большое сообщение перед его дальнейшим распространением. Это
позволяет минимизировать задержку потоковой трансляции, особенно в сочетании с
оптимизацией, описанной в 3.3.10. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.16.
Построение новых оверлейных сетей на основе существующих сетей</span></b><span
lang=EN-US>. Иногда строить оверлейную сеть с нуля нет смысла. Вместо этого
известна одна или несколько ранее существовавших оверлейных сетей, и ожидается,
что членство в новой оверлейной сети будет значительно перекрываться с
объединенным членством этих оверлейных сетей. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Важный пример – разделение шардчейна TON
на два шардчейна, либо объединение двух родственных шардчейнов в один (см.
2.7). В первом случае оверлейные сети, используемые для распространения новых
блоков на полные ноды, должны быть построены для каждого нового шардчейна.
Однако можно ожидать, что каждая из этих новых оверлейных сетей будет
содержаться в сети распространения блоков исходного шардчейна (и включать
примерно половину ее членов). Во втором случае оверлейная сеть для
распространения новых блоков объединенного шардчейна будет состоять примерно из
объединения членов двух оверлейных сетей, связанных с двумя объединяемыми родственными
шардчейнами. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В таких случаях описание новой оверлейной
сети может содержать явную или неявную ссылку на список связанных существующих
оверлейных сетей. Узел, желающий присоединиться к новой оверлейной сети, может
проверить, является ли он уже членом одной из этих существующих сетей, и
запросить своих соседей в этих сетях, заинтересованы ли они также в новой сети.
В случае положительного ответа для таких соседей могут быть установлены новые
двухточечные каналы, и они могут быть включены в список соседей для новой
оверлейной сети. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот механизм не заменяет полностью общий
механизм, описанный в 3.3.6 и 3.3.7; скорее, оба механизма выполняются
параллельно и используются для заполнения списка соседей. Это необходимо для
предотвращения случайного разделения новой оверлейной сети на несколько
несвязанных подсетей. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>3.3.17.
Оверлейные сети внутри оверлейных сетей</span></b><span lang=EN-US>. Другой
интересный случай возникает при реализации сервиса TON Payments («сеть
моментальных платежей» для мгновенных переводов стоимости вне сети; см. 5.2). В
этом случае сначала строится оверлейная сеть, содержащая все транзитные узлы
«сети моментальных платежей».<span style='mso-spacerun:yes'>  </span>Однако
некоторые из этих узлов имеют платежные каналы в блокчейне; они всегда должны
быть соседями в этой оверлейной сети, в дополнение к любым «случайным» соседям,
выбранным общими алгоритмами оверлейной сети, описанными в 3.3.6, 3.3.7 и
3.3.8, эти «постоянные соединения» с соседями с установленными платежными
каналами используются для запуска определенных сетевых протоколов Lightning.
Таким образом, обеспечивается эффективное создание оверлейной подсети (не
обязательно подключенной, если что-то пойдет не так) внутри охватывающей (почти
всегда подключенной) оверлейной сети. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.35pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.75pt;text-indent:0cm;tab-stops:center 143.1pt'><a
name="_Toc116704">4 <span style='mso-tab-count:1'>      </span><span
style='mso-spacerun:yes'> </span>Сервисы и приложения TON </a></h1>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы подробно обсудили технологии блокчейна
TON и TON Networking. Далее будут описаны некоторые способы, при помощи которых
эти технологии могут быть объединены для создания широкого спектра услуг и
приложений, а также некоторые из сервисов, которые будут предоставляться самим
проектом TON с самого начала, либо позже. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116705">4.1. Стратегии внедрения
сервисов TON </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы начнем с обсуждения того, как различные
приложения и сервисы, связанные с блокчейном и сетью, могут быть реализованы
внутри экосистемы TON. Прежде всего, следует привести простую классификацию: </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.1.
Приложения и сервисы</span></b><span lang=EN-US>. Мы будем использовать слова
«приложение» и «сервисы» в качестве синонимов. Однако есть небольшое и
несколько расплывчатое различие: приложение обычно предоставляет некоторые
услуги напрямую пользователям-людям, в то время как сервис обычно используется
другими приложениями и сервисами. Например, TON Storage - это сервис, потому
что она предназначена для хранения информации от имени других приложений и
сервисов, даже если пользователь-человек также может использовать ее напрямую.
Гипотетический «Facebook в блокчейне» (см. 2.9.13), если он будет доступен
через<span style='mso-spacerun:yes'>  </span>сеть TON (т. е. реализован как
«сервис TON»), скорее будет приложением, даже если некоторые «боты» могут
получить к нему доступ автоматически без вмешательства человека. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.2.
Расположение приложения: ончейн, оффчейн или смешанный тип</span></b><span
lang=EN-US>. Сервис или приложение, разработанное для экосистемы TON, должно
где-то хранить свои данные и обрабатывать их. В результате получается следующая
классификация приложений (и сервисов): </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.65pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l12 level1 lfo19'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Сетевые приложения (см. 4.1.4):
все данные и обработка находятся в блокчейне TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l12 level1 lfo19'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Оффчейн-приложения (см. 4.1.5):
все данные и обработка находятся за пределами блокчейна TON, на серверах,
доступных через сеть TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection18>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.25pt;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l12 level1 lfo19'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Смешанные приложения (см.
4.1.6): некоторые (но не все) данные и обработка находятся в блокчейне TON;
остальные находятся на оффчейн-серверах, доступных через сеть TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:36.05pt;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.3.
Централизация: централизованные и децентрализованные или распределенные приложения</span></b><span
lang=EN-US>. Другой критерий классификации заключается в том, полагается ли
приложение (или сервис) на централизованный кластер серверов или оно
действительно является «распределенным» (см. 4.1.8). Все сетевые приложения
автоматически являются децентрализованными и распределенными. Оффчейн и
смешанные приложения могут иметь разную степень централизации. Теперь
рассмотрим вышеупомянутые возможности более подробно. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.4.
Чистые «ончейн» приложения: распределенные приложения или «децентрализованные
приложения», находящиеся в блокчейне</span></b><span lang=EN-US>. Одним из
возможных подходов, упомянутых в 4.1.2, является развертывание «распределенного
приложения» (сокращенно «dapp») полностью в блокчейне TON в виде одного
смартконтракта или набора смарт-контрактов. Все данные будут храниться как
часть постоянного состояния этих смарт-контрактов, а все взаимодействие с
проектом будет осуществляться с помощью сообщений (блокчейна TON), отправленных
на эти смартконтракты или полученных от них. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы уже обсуждали в 2.9.13, что этот подход
имеет свои недостатки и ограничения. У него также есть свои преимущества:
такому распределенному приложению не нужны серверы для работы или хранения
данных (оно работает «в блокчейне», то есть на оборудовании валидаторов), и
обладает чрезвычайно высокой (основанной на протоколе византийского соглашения)
надежностью и доступностью блокчейна. Разработчику такого распределенного
приложения не нужно покупать или арендовать какое-либо оборудование. Все, что
необходимо сделать, это разработать какое-то программное обеспечение (например,
код для смарт-контрактов). После этого разработчик фактически арендует
вычислительную мощность у валидаторов и платит за нее TON монетами сам, либо
переложив это бремя на плечи своих пользователей. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.5.
Чисто сетевые услуги: «TON-сайты» и «TON-сервисы»</span></b><span lang=EN-US>.
Другой крайний вариант - развернуть службу на некоторых серверах и сделать ее
доступной для пользователей через протокол ADNL, описанный в п. 3.1, и,
возможно, какой-либо протокол более высокого уровня (например, описанный в п.
3.1.9 протокол RLDP), который можно использовать для отправки запросов RPC на
сервис в любом настраиваемом формате и получить ответы на эти запросы. Таким
образом, сервис будет полностью отключен от сети и будет находиться в сети TON
почти без использования блокчейна TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Блокчейн
TON может использоваться только для определения местоположения абстрактного
адреса или адресов службы, как указано в 3.2.12, например, с помощью службы
вроде TON DNS (см. 4.3.1), для облегчения перевода понятных человеку доменных
имен в абстрактные адреса. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>В той степени, в которой сеть ADNL (то
есть сеть TON) похожа на проект Invisible Internet Project (I<sup>2</sup>P),
такие (почти) чисто сетевые услуги аналогичны так называемым «eep-сервисам» (т.
е. сервисам, которые имеют 1<sup>2</sup>P-адрес в качестве точки входа и
доступен клиентам через сеть 1<sup>2</sup>P). Можно сказать, что такие чисто
сетевые сервисы, реализуемые в сети TON, являются «TON-сервисами». </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:-.25pt'><span lang=EN-US>«Eep-сервис» может реализовать HTTP в
качестве своего клиент-серверного протокола. В контексте сети TON «TON-сервис»
может просто использовать датаграммы RLDP (см. 3.1.9) для передачи
HTTP-запросов и ответов на них. Если он использует TON DNS, чтобы разрешить
поиск своего абстрактного адреса по удобочитаемому доменному имени, можно
провести почту точную аналогию с веб- сайтом. Можно даже написать
специализированный браузер или специальный прокси-сервер («ton-proxy»), который
запускается локально на машине пользователя и принимает произвольные
HTTP-запросы от обычного веб-браузера, который использует пользователь (как
только локальный IP-адрес и TCP-порт прокси-сервера вводятся в конфигурацию
браузера), и пересылает эти запросы через сеть TON на абстрактный адрес службы.
Тогда пользователь сможет просматривать страницы аналогично работе во всемирной
паутине (WWW). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В экосистеме 1<sup>2</sup>P такие
«eep-сервисы» называются «eep-сайтами». В экосистеме TON можно легко создавать
«TON-сайты». Этому отчасти способствует существование таких служб, как TON DNS,
которые используют блокчейн TON и TON DHT для преобразования доменных имен (TON)
в абстрактные адреса.’ </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.6.
Смешанные сервисы: частично оффчейн, частично ончейн сервисы</span></b><span
lang=EN-US>. Некоторые сервисы могут использовать смешанный подход: выполнять
большую часть обработки вне сети, но также иметь некоторую часть в блокчейне
(например, для регистрации своих обязательств перед пользователями и наоборот).
Таким образом, часть состояния по-прежнему будет храниться в блокчейне TON (то
есть в неизменяемом публичном реестре), а любое неправильное поведение сервиса
или его пользователей может быть наказано при помощи смарт-контрактов. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.7.
Пример: хранение файлов вне сети; TON Storage</span></b><span lang=EN-US>. Примером
такого сервиса является TON Storage. В своей простейшей форме он позволяет
пользователям хранить информацию вне сети, сохраняя в блокчейне только хэш
информации, которая будет храниться, и, возможно, смарт-контракт, в котором
некоторые другие стороны соглашаются хранить данную информацию в течение
определенного периода времени за заранее оговоренную плату. Фактически, он
может быть разделен на фрагменты небольшого размера (например, 1 килобайт),
дополнен стирающим кодом (например, кодом Рида-Соломона или исходным кодом),
после чего может быть построен хэш дерева Меркла для расширенной
последовательности фрагментов, который может быть опубликован в смарт-контракте
вместо обычного хеша файла или вместе с ним. Это чем-то напоминает способ
хранения файлов в виде торрентфайлов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Еще более простая форма хранения файлов -
полностью вне сети: можно по существу создать «торрент» для нового файла и
использовать TON DHT в качестве «распределенного торрент-трекера» для этого
торрента (см. 3.2.10). Такая модель может действительно хорошо сработать для
популярных файлов. Однако не дается никаких гарантий доступности. Например, для
гипотетического сервиса «Facebook в блокчейне» (см. 2.9.13), который будет
хранить фотографии своих пользователей полностью вне сети в таких «торрентах»,
существует риск потери фотографий обычных (не особенно популярных)
пользователей, либо риск отсутствия возможности предоставлять эти фотографии в
течение длительного времени. Технология TON Storage, которая в основном
является автономной, но использует ончейн смарт-контракт для обеспечения
доступности хранимых данных, может быть наилучшим решением для этой задачи. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.8.
Децентрализованные смешанные услуги или «сервисы туманных вычислений»</span></b><span
lang=EN-US>. До сих пор мы обсуждали централизованные смешанные сервисы и
приложения. В то время как их сетевой компонент в блокчейне обрабатывается
децентрализованным и распределенным образом, соответствующий автономный
компонент полагается на некоторые серверы, контролируемые поставщиком услуг
обычным централизованным образом. Вместо использования некоторых выделенных
серверов вычислительные мощности могут быть арендованы у службы облачных<span
style='mso-spacerun:yes'>  </span>вычислений, предлагаемой одной из крупных
компаний. Однако это не приведет к децентрализации автономного компонента
сервиса. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Децентрализованный подход к реализации
оффчейн компонента сервиса заключается в создании рынка, на котором
пользователи с необходимым оборудованием, которые готовы сдать в аренду свои
вычислительные мощности или дисковое пространство, будут предлагать свои услуги
тем, кто в них нуждается. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Например, может существовать реестр
(который также может называться «рынком» или «биржей»), в котором все узлы,
заинтересованные в сохранении информации о других пользователях, будут
публиковать свои контактные данные, а также информацию о доступной емкости
хранилища, политике доступности и ценах. Пользователи, которым нужны эти
услуги, могут найти поставщиков в этом реестре, и если другая сторона
согласится, создать смарт-контракты в блокчейне и загрузить файлы для хранения
вне сети. Таким образом, такой сервис, как TON Storage, становится
действительно децентрализованным, поскольку ему не нужно полагаться на
какой-либо централизованный кластер серверов для хранения информации. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:.5pt;text-align:left;line-height:107%'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.9. Пример: платформы
«туманных вычислений» как децентрализованные смешанные сервисы. </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Еще один пример такого децентрализованного
смешанного приложения возникает, когда кто-то хочет выполнить некоторые
конкретные вычисления (например, 3Dрендеринг или обучение нейронных сетей), что
зачастую требует специального и дорогостоящего оборудования. Пользователи, у
которых имеется такое оборудование, могут предлагать свои услуги через
аналогичный «обмен», а те, кто нуждается в таких услугах, будут их арендовать,
причем обязательства сторон будут регистрироваться с помощью смарт-контрактов.
Эта модель похожа на то, что обещают предоставить платформы «туманных
вычислений», такие как Golem (https://golem.network/) или SONM (<a
href="https://sonm.io/"><span style='color:blue'>https://sonm.io/</span></a><a
href="https://sonm.io/"><span style='color:black;text-decoration:none;
text-underline:none'>)</span></a>. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.10.
Пример: TON Proxy как сервис «туманных вычислений»</span></b><span lang=EN-US>.
Сервис TON Proxy является еще одним примером сервиса «туманных вычислений». В
нем могут регистрироваться нем узлы, предлагающие свои услуги (с компенсацией
или без нее) в качестве туннелей для сетевого трафика ADNL, а пользователи,
которые нуждаются в таких услугах, могут выбрать один из этих узлов в
зависимости от цены, задержки сигнала и предлагаемой ширины канала. После этого
можно использовать платежные каналы, предоставляемые TON Payments, для
обработки микроплатежей за услуги этих прокси-серверов, при этом платежи
собираются, например, за каждые 128 KiB переведенных данных. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.1.11.
Пример: TON Payments как сервис «туманных вычислений»</span></b><span
lang=EN-US>. Платформа TON Payments (см. 5) также является примером такого
децентрализованного смешанного приложения. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116706">4.2. Подключение
пользователей и поставщиков услуг </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы увидели в 4.1.8, что «сервисы туманных
вычислений» (т. е. смешанные децентрализованные сервисы) обычно нуждаются в
рынках, биржах или реестрах, где происходит взаимодействие пользователей,
которым необходимы определенные услуги, с пользователями, которые эти услуги
предоставляют. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Вероятно, такие рынки будут реализованы
как внутрисетевые, автономные или смешанные сервисы, централизованные или
распределенные. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.2.1.
Пример: подключение к TON Payments</span></b><span lang=EN-US>. Например, если
кто-то хочет использовать сервис TON Payments (см. 5), первым шагом будет поиск
по как минимум нескольких существующих транзитных узлов «сети мгновенных
платежей»<span style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection19>

<h4 style='margin-right:3.8pt'>4.2. Подключение пользователей и поставщиков
услуг </h4>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_109404" o:spid="_x0000_s2058"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQCgbaPRbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVMGO2yAQvVfqPyDfG9tpku1aSfbQbXOp
2lV3+wEEg20JAwISJ3/fYWwTN1utqtQHG8PMY97jMeuHUyvJkVvXaLVJ8lmWEK6YLhtVbZJfL18/
fEqI81SVVGrFN8mZu+Rh+/7dujMFn+tay5JbAiDKFZ3ZJLX3pkhTx2reUjfThitYFNq21MOvrdLS
0g7QW5nOs2yVdtqWxmrGnYPZx34x2SK+EJz5H0I47oncJFCbx7fF9z680+2aFpWlpm7YUAa9oYqW
Ngo2jVCP1FNysM0rqLZhVjst/IzpNtVCNIwjB2CTZ1dsdlYfDHKpiq4yUSaQ9kqnm2HZ9+POmmfz
ZEGJzlSgBf4FLidh2/CFKskJJTtHyfjJEwaTy+Xifr5aJYTB2urjclCU1SD7qyRWf3krLR23TP8o
pDNgDXdh7/6P/XNNDUdRXQHsnyxpSnBufrfIwauKtuBSjCHDHAqDsVEmVzhQ7CaN7vPFIrgukqUF
Ozi/4xq1psdvzvemLMcRrccRO6lxaMHab5raUB/yQpFhSLrJYdWbBOsIi60+8heNYf7qxKDGy6pU
06h47qMlIHaMGL8G8aaRE/Jj0Pjtg+GKAuA/hqHX4r4wCDxR2cgdJqfqShVkgE0YhV4jJPV4advG
QxOSTQs+mN9l2QUY0IL9+tPGkT9LHsSS6icXYB28GGHC2Wr/WVpypKHV4IPgVJqaDrPDwQ+hWCri
hHzRSBkhc0z9G2RvnSE45HHscjEz6zPZUE3f6qBhAOmx4YEoMQl31srHfAVtGsucsA3DvS7P2CRQ
ELiPKA32JeQx9NDQ+Kb/GHXp9NvfAAAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQCgbaPRbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117418" o:spid="_x0000_s2059" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQCkJMJ4ygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI/NSsRA
EITvgu8wtOBF3EnEn012Z5dFETx4ya4P0GTaJJjpCZnOJvr09kHw0lA09VXVdr+E3pxpTF1kB/kq
A0NcR99x4+Dj9Hq7BpME2WMfmRx8U4L97vJii6WPM1d0PkpjFMKpRAetyFBam+qWAqZVHIj19xnH
gKJybKwfcVZ46O1dlj3agB1rQosDPbdUfx2n4OCAD0Uh883P+zpO0ymrikkq79z11fKy0XPYgBFa
5N/xh3jzuiF/us+1tY5SAXb3CwAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAKQkwnjKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1029" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>(см. 5.2) и установление с ними каналов
оплаты в случае готовности этих узлов. Некоторые узлы могут быть найдены с
помощью «охватывающей» оверлейной сети, которая должна содержать все узлы
транзитной сети мгновенных платежей (см. 3.3.17). Однако неясно, будут ли эти
узлы готовы создавать новые платежные каналы. Следовательно, необходим реестр,
в котором узлы, готовые к созданию новых ссылок, могут публиковать свою
контактную информацию (например, свои абстрактные адреса). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.9pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.2.2.
Пример: загрузка файла в TON Storage</span></b><span lang=EN-US>. Точно так же,
если кто-то хочет загрузить файл в хранилище TON, он должен найти несколько
узлов, желающих подписать смарт-контракт, обязывающий их хранить копию этого
файла (или любого другого файла ниже определенного предела размера). Следовательно,
необходим реестр узлов, предлагающих свои услуги по хранению информации. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.2.3.
Сетевые, смешанные и автономные реестры</span></b><span lang=EN-US>. Такой
реестр поставщиков услуг может быть реализован полностью ончейн с помощью
смарт-контракта, который будет хранить реестр в постоянном хранилище. Однако
это довольно медленно и дорого. Смешанный подход более эффективен, когда
относительно небольшой и редко изменяемый ончейн реестр используется только для
указания некоторых узлов (по их абстрактным адресам или по их открытым ключам,
которые могут использоваться для определения фактических абстрактных адресов,
как описано в 3.2.12), которые предоставляют услуги реестра вне сети </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>(централизованные). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Наконец, при децентрализованном, чисто
автономном подходе может использоваться общедоступная оверлейная сеть (см.
3.3), в которой пользователи, которые хотят предложить свои услуги, или
пользователи, которые хотят купить чьи-то услуги, просто транслируют свои
предложения, подписанные закрытыми ключами. Если предоставляемая услуга очень
проста, даже широковещательная передача предложений может не потребоваться:
примерное членство в самой оверлейной сети может использоваться в качестве
«реестра» тех, кто желает предоставить конкретную услугу. Клиент, которому
требуется эта услуга, может найти (см. 3.3.7) и запросить некоторые узлы этой
оверлейной сети, а затем запросить их соседей, если уже известные узлы не
готовы предоставить необходимую услугу. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.2.4.
Регистрация или обмен в сайдчейне</span></b><span lang=EN-US>. Другой подход к
реализации децентрализованных смешанных реестров заключается в создании
независимого специализированного блокчейна («сайдчейна»), поддерживаемого
собственным набором самопровозглашенных валидаторов, которые публикуют свои
идентификаторы в ончейн смарт-контракте и предоставляют всем заинтересованным
сторонам доступ в этот специализированный блокчейн, собирая транзакциикандидаты
и транслируя обновления блоков через выделенные оверлейные сети (см. 3.3).
Затем любая полная нода для этого сайдчейна может поддерживать свою собственную
копию общего реестра (по существу, равную глобальному состоянию этого
сайдчейна) и обрабатывать произвольные запросы, связанные с этим реестром. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.2.5.
Реестр или обмен в воркчейне</span></b><span lang=EN-US>. Другой вариант -
создать отдельный воркчейн внутри блокчейна TON, специализирующийся на создании
реестров, рынков и бирж. Этот способ может быть более эффективным и менее
затратным, чем использование смарт-контрактов в основном воркчейне (см.
2.1.11), однако это все равно будет дороже, чем поддержание реестров в
сайдчейнах (см. 4.2.4). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:3.9pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>4.3. Доступ к сервисам TON</span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:
14.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></b></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116707">4.3. Доступ к сервисам TON </a></h2>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В разделе 4.1 мы обсудили различные
подходы, которые можно использовать для создания новых сервисов и приложений в
экосистеме TON. Теперь мы обсудим, как можно получить доступ к этим сервисам, а
также некоторые из «вспомогательных сервисов», которые будут предоставляться
TON, включая TON DNS и TON Storage. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.1.
TON DNS: иерархическая служба доменных имен в сети (в основном ончейн).</span></b><span
lang=EN-US> TON DNS - это предопределенная служба, которая использует набор
смартконтрактов для сохранения карты от понятных человеку доменных имен до
(256битных) адресов сетевых узлов ADNL, учетных записей и смарт-контрактов
блокчейна TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя в принципе любой может реализовать
такой сервис с использованием блокчейна TON, полезно иметь подобный
предопределенный сервис с хорошо известным интерфейсом, который будет
использоваться по умолчанию всякий раз, когда приложение или сервис захочет
преобразовать понятные человеку идентификаторы в адреса. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.2.
Примеры использования TON DNS</span></b><span lang=EN-US>. Например,
пользователь, желающий передать некоторую криптовалюту другому пользователю или
продавцу, может предпочесть запомнить доменное имя TON DNS учетной записи этого
пользователя или продавца, вместо того, чтобы держать свои 256-битные
идентификаторы учетных записей под рукой и копировать и вставлять их в поля
информации о получателе, хранящейся в легком кошельке клиента. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Аналогичным образом, TON DNS может
использоваться для определения идентификаторов учетных записей смарт-контрактов
или точек входа в TON-сервисы и TON-сайты (см. 4.1.5), включая
специализированный клиент («TON-браузер») или обычный интернет-браузер в
сочетании со специализированным расширением tonproxy или автономным
приложением, чтобы предоставить пользователю возможность просмотра веб-страниц
в стиле WWW. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.4pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.3.
Смарт-контракты TON DNS</span></b><span lang=EN-US>. TON DNS реализуется с
помощью дерева специальных смарт-контрактов (DNS). Каждый смарт-контракт DNS
отвечает за регистрацию поддоменов некоторого фиксированного домена. «Корневой»
смартконтракт DNS, в котором будут храниться домены первого уровня системы TON
DNS, находится в мастерчейне. Соответствующий идентификатор учетной записи
должен быть жестко запрограммирован во всем программном обеспечении, которое
будет напрямую обращаться к базе данных TON DNS. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Любой смарт-контракт DNS содержит
хэш-карту, отображающую строки UTF-8 переменной длины с завершающим нулем в их
«значениях». Эта хэш-карта реализована в виде двоичного дерева Patricia,
подобного дереву, описанному в 2.3.7, но также поддерживает битовые строки
переменной длины в качестве ключей. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.4.
Значения хэш-карты DNS или записей TON DNS</span></b><span lang=EN-US>.
Значения представлены в виде «DNS-записей TON», описываемых TL-схемой (см.
2.2.5). Они состоят из «магического числа», выбора одной из поддерживаемых опций,
а также одного из следующих идентификаторов: идентификатора учетной записи,
идентификатора смарт-контракта, абстрактного сетевого адреса (см. 3.1),
открытого ключа, используемого для определения местоположения абстрактных
адресов сервиса (см. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>3.2.12) или описания оверлейной сети и т.
д. Важным является использование другого смарт-контракта DNS: в таком случае
этот смарт-контракт используется для преобразования поддоменов собственного
домена. Таким образом, можно создавать отдельные реестры для разных доменов,
контролируемые владельцами этих доменов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Эти записи также могут содержать время
истечения срока действия, время кеширования (обычно очень большое, поскольку
обновление значений в блокчейне слишком часто обходится дорого) и в большинстве
случаев ссылку на владельца рассматриваемого поддомена. Владелец имеет право
изменить эту запись (в частности, владелец может передать домен под чей-то
контроль) и продлить ее. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.5.
Регистрация новых поддоменов существующих доменов</span></b><span lang=EN-US>.
Чтобы зарегистрировать новый поддомен существующего домена, нужно просто
отправить сообщение смарт-контракту, который является регистратором этого
домена, содержащим поддомен (то есть ключ), который должен быть
зарегистрирован, значение в одном из нескольких предопределенных форматов,
личность владельца, срок действия и некоторое количество криптовалюты,
определяемое владельцем домена. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поддомены регистрируются по принципу «в
порядке очереди». </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.6.
Получение данных из смарт-контракта DNS</span></b><span lang=EN-US>. В
принципе, любая полная нода мастерчейна или шардчейна, содержащая
смарт-контракт DNS, может иметь возможность поиска любого поддомена в базе
данных этого смарт-контракта, если известна структура и расположение хэш-карты
в постоянном хранилище смартконтракта. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Однако этот подход будет работать только
для определенных смарт-контрактов DNS. В случае использования нестандартного
смарт-контракта DNS такой подход будет неуспешным. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Вместо этого используется подход,
основанный на общих интерфейсах смартконтрактов и методах получения (см.
4.3.11). Любой смарт-контракт DNS должен определять «метод получения» с
«известной подписью», который вызывается для поиска ключа. Поскольку этот
подход имеет смысл и для других смарт-контрактов, особенно для тех, которые обеспечивают
сетевые и смешанные сервисы, он будет более подробно описан в п. 4.3.11. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.7.
Перевод домена TON DNS</span></b><span lang=EN-US>. Если любой полной ноде,
действующей самой по себе или от имени какого-либо тонкого клиента, необходимо
найти записи в базе данных любого смарт-контракта DNS, произвольные доменные
имена TON DNS могут быть рекурсивно преобразованы, начиная с хорошо известного
и фиксированного идентификатора корневого смарт-контракта DNS (учетной записи).
Например, если необходимо перевести А. В. C, следует найти ключи .С, .В.С и
А.В.C в базе данных корневого домена. Если первый из них не был найден, а
второй был найден, и его значение является ссылкой на другой смарт-контракт
DNS, тогда A<span style='mso-spacerun:yes'>  </span>ищется в базе данных этого
смарт-контракта, после чего извлекается окончательное значение. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.8.
Перевод доменов TON DNS для неполных нод</span></b><span lang=EN-US>. Таким
образом, полная нода мастерчейна, а также всех шардчейнов, участвующих в
процессе поиска домена, может преобразовывать любое доменное имя в его текущее
значение без внешней помощи. Неполная нода может запросить полную ноду сделать
это от своего имени и вернуть значение вместе с доказательством Меркла (см.
2.5.11). Это доказательство Меркла позволит неполной ноде проверить
правильность ответа, поэтому такие ответы TON DNS не могут быть «подделаны»
злонамеренным перехватчиком, в отличие от обычного протокола DNS. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Поскольку нельзя ожидать, что нода будет
полной нодой по отношению ко всем шардчейнам, фактическая трансляция домена TON
DNS будет включать комбинацию этих двух стратегий. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.9.
Выделенные «серверы TON DNS»</span></b><span lang=EN-US>. Можно предоставить
простой «сервер TON DNS», который будет получать RPC-запросы «DNS» (например,
через протоколы<span style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection20>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>ADNL или RLDP, описанные в 3.1),
запрашивая, чтобы сервер переводил данный домен, обрабатывал эти запросы, при
необходимости перенаправляя некоторые подзапросы на другие (полные) ноды, и
возвращать ответы на исходные запросы, дополненные доказательствами Меркла,
если необходимо. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Такие «DNS-серверы» могут предлагать свои
услуги (бесплатно или платно) любым другим узлам и особенно легким клиентам,
используя один из методов, описанных в п. 4.2. Обратите внимание, что эти
серверы, если их рассматривать как часть службы TON DNS, эффективно
преобразовали бы ее из распределенного сервиса в распределенный смешанный
сервис (т. е. «сервис туманных вычислений»). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>На этом мы завершаем краткий обзор службы
TON DNS, масштабируемого сетевого реестра для понятных человеку доменных имен
объектов блокчейна TON и сети TON Network. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.10.
Доступ к данным, хранящимся в смарт-контрактах</span></b><span lang=EN-US>. Мы
уже увидели, что иногда необходимо получить доступ к данным, хранящимся в
смарт-контракте, без изменения его состояния. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><span lang=EN-US>Если пользователю известны детали
реализации смарт-контракта, можно извлечь всю необходимую информацию из
постоянного хранилища смарт-контракта, доступного для всех полных нод
шардчейна, в котором находится смарт-контракт. Однако это довольно грубый
способ, очень сильно зависящий от реализации смарт-контракта. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.11.
«Методы получения» смарт-контрактов</span></b><span lang=EN-US>. Лучшим
способом было бы определить некоторые методы получения в смарт-контракте, то
есть некоторые типы входящих сообщений, которые не влияют на состояние
смарт-контракта при доставке, но генерируют одно или несколько выходных
сообщений, содержащих «результат» метода получения. Таким образом, можно
получить данные из смарт-контракта, зная только, что он реализует метод
получения с известной подписью (т. е. известный формат входящего сообщения,
которое должно быть отправлено, и исходящего сообщения, которое должно быть в
результате получено). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот способ намного более изящный и
соответствует объектно-ориентированному программированию (ООП). Однако у него
имеется очевидный дефект: нужно фактически зафиксировать транзакцию в блокчейне
(отправить сообщение get в смарт-контракт), дождаться, пока она будет
зафиксирована и обработана валидаторами, извлечь ответ из нового блока и внести
оплату за газ (то есть за выполнение метода получения на оборудовании
валидаторов). Это пустая трата<span style='mso-spacerun:yes'>  </span>ресурсов:
методы получения в любом случае не изменяют состояние смарт-контракта, поэтому
их не нужно выполнять в блокчейне. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.12.
Предварительное выполнение методов получения смарт-контрактов</span></b><span
lang=EN-US>. Мы уже отмечали (см. 2.4.6), что любая полная нода может
предварительно выполнить любой метод любого смарт-контракта (то есть доставить
любое сообщение в смартконтракт), начиная с заданного состояния
смарт-контракта, без фактического совершения соответствующей сделки. Полная
нода может просто загрузить код рассматриваемого смарт-контракта в виртуальную
машину TON, инициализировать свое постоянное хранилище из глобального состояния
шардчейна (известного всем полным нодам шардчейна) и выполнить код
смарт-контракта с входящим сообщением в качестве входного параметра. Созданные
выходные сообщения будут иметь результат этого вычисления. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, любая полная нода может
оценивать произвольные методы получения произвольных смарт-контрактов, если
известна их подпись (т. е. формат входящих и исходящих сообщений). Нода может
отслеживать ячейки состояния шардчейна, к которым осуществляется доступ во
время этой оценки, и создавать доказательство<span style='mso-spacerun:yes'> 
</span>Меркла валидности выполненных вычислений в пользу неполной ноды, которая
отправила бы соответствующий запрос на полную ноду (см. 2.5.11). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.13.
Интерфейсы смарт-контрактов в TL-схемах</span></b><span lang=EN-US>. Напомним,
что методы, реализованные в смарт-контракте (то есть принимаемые им входные
сообщения), по сути, являются некоторыми TL-сериализированными объектами,
которые могут быть описаны TL-схемой (см. 2.2.5). Полученные выходные сообщения
также можно описать той же TL-схемой. Таким образом, интерфейс смарт-контракта с
другими учетными записями и смарт-контрактами может быть формализован с помощью
TLсхемы. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><span lang=EN-US>В частности, (подмножество) методов
получения, поддерживаемых смартконтрактом, можно описать с помощью такого
формализованного интерфейса смартконтракта. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.14.
Публичные интерфейсы смарт-контракта</span></b><span lang=EN-US>. Обратите
внимание, что формализованный интерфейс смарт-контракта, в форме TL-схемы
(представленной как исходный файл TL; см. 2.2.5), либо в сериализированной
форме<a style='mso-footnote-id:ftn15' href="#_ftn15" name="_ftnref15" title=""><sup><span
style='mso-special-character:footnote'><![if !supportFootnotes]><sup><span
lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'>[15]</span></sup><![endif]></span></sup></a>,
может быть опубликован, например, в специальной форме, хранящейся в описании
учетной записи смарт-контракта, хранящемся в блокчейне или отдельно, если к
этому интерфейсу будут часто обращаться. В последнем случае хэш поддерживаемого
общедоступного интерфейса может быть включен в описание смарт-контракта вместо
самого описания интерфейса. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Примером такого общедоступного интерфейса
является смарт-контракт DNS, который должен реализовывать как минимум один
стандартный метод получения для поиска поддоменов (см. 4.3.6). Стандартный
метод регистрации новых поддоменов также может быть включен в стандартный
общедоступный интерфейс смартконтрактов DNS. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.55pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.15.
Пользовательский интерфейс смарт-контракта</span></b><span lang=EN-US>.
Существование публичного интерфейса для смарт-контракта имеет и другие
преимущества. Например, клиентское приложение кошелька может загружать такой
интерфейс при изучении смарт-контракта по запросу пользователя и отображать
список общедоступных методов (то есть доступных действий),<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><span lang=EN-US>поддерживаемых смарт-контрактом, возможно,
с некоторыми удобочитаемыми комментариями, если таковые имеются, в формальном
интерфейсе. После того, как пользователь выберет один из этих методов, форма
может быть автоматически сгенерирована в соответствии с TL-схемой, где
пользователю будет предложено ввести все поля, необходимые для выбранного
метода, и желаемое количество криптовалюты (например, монет TON) которые должны
быть прикрепленным к этому запросу. Отправка этой формы создаст новую транзакцию
блокчейна, содержащую только что составленное сообщение, отправленное из
учетной записи блокчейна пользователя. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, пользователь сможет
взаимодействовать с произвольными смартконтрактами из клиентского приложения
кошелька удобным для пользователя способом, заполняя и отправляя определенные
формы, при условии, что эти смартконтракты опубликовали свои интерфейсы. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.16.
Пользовательский интерфейс «TON-сервиса»</span></b><span lang=EN-US>. «TON-сервисы»
(т. е. cервисы, находящиеся в сети TON и принимающие запросы через протоколы
ADNL и RLDP из 3; см. 4.1.5) также могут получить прибыль от наличия
общедоступных<span style='mso-spacerun:yes'>  </span>интерфейсов, описываемых
TL- схемами (см. 2.2.5). Клиентское приложение, такое как легкий кошелек или
«тонкий браузер», может предлагать пользователю выбрать один из методов и
заполнить форму с параметрами, определенными интерфейсом, аналогично той схеме,
которая только что обсуждалась в 4.3. 15. Единственное отличие состоит в том,
что результирующее TL-сериализированное сообщение не отправляется как
транзакция в блокчейне; вместо этого оно отправляется как запрос RPC на
абстрактный адрес рассматриваемого «TON-сервиса», и ответ на этот запрос
анализируется и отображается в соответствии с формальным интерфейсом (т. е.
TLсхемой). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.17.
Поиск пользовательских интерфейсов через TON DNS</span></b><span lang=EN-US>.
Запись TON DNS, содержащая абстрактный адрес TON-сервиса или идентификатор
учетной записи смарт-контракта, также может содержать необязательное поле,
описывающее общедоступный (пользовательский) интерфейс этого объекта или
несколько поддерживаемых интерфейсов. Затем клиентское приложение (будь то
кошелек, TON-браузер или TON-прокси) сможет загружать интерфейс и
взаимодействовать с рассматриваемым объектом (будь то смарт-контракт или
TON-сервис). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.18.
Стирание различий между ончейн и оффчейн сервисами</span></b><span lang=EN-US>.
Таким образом, различие между ончейн, оффчейн и смешанными сервисами (см.
4.1.2) стирается для конечного пользователя: он просто вводит доменное имя
необходимого сервиса в адресную строку своего TON-браузера или кошелек, а
остальное легко обрабатывается клиентским приложением. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.75pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.19.
«TON-сайты» как TON-сервисы, поддерживающие HTTP-интерфейс</span></b><span
lang=EN-US>. TON-сайт - это просто TON-сервис, который поддерживает интерфейс
HTTP, возможно, вместе с некоторыми другими интерфейсами. Об этой поддержке
можно объявить в соответствующей записи TON DNS. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.15pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.20.
Гиперссылки</span></b><span lang=EN-US>. Обратите внимание, что HTML-страницы,
возвращаемые TONсайтами, могут содержать TON-гиперссылки (то есть ссылки на
другие TON-сайты, смарт-контракты и учетные записи посредством специально
созданных схем URI (см. 4.3.21)), содержащие абстрактные сетевые адреса,
идентификаторы учетных записей или человекочитаемые домены TON DNS. Затем
«TON-браузер» может следовать по такой гиперссылке, когда пользователь выбирает
ее,<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>обнаруживать интерфейс, который будет
использоваться, и отображать форму пользовательского интерфейса, как описано в
4.3.15 и 4.3.16. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.21.
URL-адреса гиперссылок могут указывать некоторые параметры</span></b><span
lang=EN-US>. URLадреса гиперссылок могут содержать не только DNS-домен (TON)
или абстрактный адрес рассматриваемого сервиса, но также имя вызываемого метода
и некоторые или все его параметры. Возможная схема URI для этого может
выглядеть следующим образом: </span></p>

<p class=MsoNormal align=right style='margin-top:0cm;margin-right:43.8pt;
margin-bottom:0cm;margin-left:0cm;text-align:right;text-indent:0cm;line-height:
107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_16511" o:spid="_x0000_i1028" type="#_x0000_t75" style='width:347pt;
 height:19pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image032.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=347 height=19
src="ton_whitepaper_ru.fld/image032.jpg" v:shapes="Picture_x0020_16511"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда пользователь выбирает такую ссылку в
TON-браузере, то действие либо выполняется немедленно (особенно если это метод
получения смарт-контракта, вызываемый анонимно), либо отображается частично
заполненная форма, которая должна быть явно подтверждена и отправлена
пользователем (это может потребоваться для форм оплаты). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.22.
POST-действия</span></b><span lang=EN-US>. TON-сайт может встраиваться в
HTML-страницы, он возвращает некоторые обычные POST-формы, при этом
POST-действия ссылаются на<span style='mso-spacerun:yes'>  </span>TON-сайты,
TON-сервисы или смарт-контракты с помощью подходящих (TON) URLадресов. В этом
случае, как только пользователь заполняет и отправляет эту настраиваемую форму,
соответствующее действие предпринимается либо сразу, либо после явного
подтверждения. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.23.
Сеть TON WWW</span></b><span lang=EN-US>. Все вышеперечисленное приведет к
созданию целой сети объектов с перекрестными ссылками, находящихся в сети TON,
которые будут доступны конечному пользователю через тонкий браузер,
предоставляя пользователю возможность просмотра веб-страниц в стиле WWW. Для
конечных пользователей это, наконец, сделает приложения блокчейна принципиально
похожими на веб-сайты, к которым они уже привыкли. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>4.3.24.
Преимущества TON WWW</span></b><span lang=EN-US>. Этот «TON WWW» сетевых и
автономных сервисов имеет некоторые преимущества перед своим традиционным
аналогом. Например, платежи по своей сути интегрированы в систему.
Идентификационные данные пользователя всегда могут быть предоставлены сервисам
(посредством автоматически сгенерированных подписей на транзакциях и
сгенерированных запросов RPC) или скрыты по желанию. Сервисам не нужно будет
перепроверять учетные данные пользователя; эти учетные данные могут быть
опубликованы в блокчейне раз и навсегда. Анонимность пользователей в сети может
быть легко сохранена с помощью TON Proxy, а все сервисы будут всегда
доступными. Также будут доступными микроплатежи, потому что TON-браузеры могут
быть интегрированы с системой TON Payments. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.75pt;text-indent:0cm;tab-stops:center 163.8pt'><a
name="_Toc116708">5 <span style='mso-tab-count:1'>      </span><span
style='mso-spacerun:yes'> </span>Платежная система TON Payments </a></h1>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Последний компонент проекта TON, который
мы кратко обсудим в этом тексте, - это TON Payments, платформа для (микро)
платежных каналов и передачи значений «сети мгновенных платежей». Это позволит
осуществлять «мгновенные» платежи без необходимости фиксировать все транзакции
в блокчейне, оплачивать соответствующие комиссии за транзакции (например, за
потребленный газ) и ждать пять секунд, пока блок, содержащий рассматриваемые
транзакции, не будет подтвержден. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Общие накладные расходы на такие
мгновенные платежи настолько малы, что их можно использовать для микроплатежей.
Например, служба хранения файлов TON может взимать с пользователя плату за
каждые 128 Кбайт загруженных данных, а<span style='mso-spacerun:yes'> 
</span>платный прокси-сервер TON может потребовать небольшую микроплату за
каждые 128 Кбайт ретранслируемого трафика. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя платформа TON Payments, вероятно, будет
выпущена позже, чем основные компоненты проекта TON, некоторые соображения
необходимо учесть в самом начале. Например, виртуальная машина TON (VM TON; см.
2.1.20), используемая для выполнения кода смарт-контрактов блокчейна TON,
должна поддерживать некоторые специальные операции с доказательствами Меркла.
Если такая поддержка отсутствует в исходном проекте, добавление ее на более
позднем этапе может стать проблематичным (см. 2.8.16). Однако мы увидим, что VM
TON изначально поддерживает «умные» каналы оплаты (см. 5.1.9). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:3.65pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116709">5.1. Каналы оплаты </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы начнем с обсуждения каналов оплаты
«напрямую» и способов их реализации в блокчейне TON. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.1.
Идея платежного канала</span></b><span lang=EN-US>. Предположим, две стороны (A
и B) знают, что в будущем им нужно будет совершать множество платежей друг
другу. Вместо того<span style='mso-spacerun:yes'>  </span></span></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection21>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>чтобы фиксировать каждый платеж как
транзакцию в блокчейне, они создают общий «денежный пул» (или, возможно,
небольшой частный банк с ровно двумя счетами) и вносят в него некоторые
средства: A вносит a монет, B вносит b монет. Это достигается путем создания
специального смарт-контракта в блокчейне и отправкой на него средств. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Перед созданием «денежного пула» стороны
соглашаются на определенный протокол. Они будут отслеживать состояние пула, то
есть свои балансы в общем пуле. Первоначально состоянием является (a, b), что
означает, что монеты на самом деле принадлежат A, а b монет принадлежат B.
Затем, если A хочет заплатить d монет в пользу B, они могут просто согласиться
с тем, что новое состояние - (a’, b’) = (a - d, b + d). Впоследствии, если,
скажем, B хочет заплатить d' монет в пользу A, состояние станет (a”, b”) = (a'
+ d', b' - d') и так далее. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:-.25pt'><span lang=EN-US>Все это обновление балансов внутри пула
происходит полностью вне сети. Когда две стороны решают снять причитающиеся им
средства из пула, они делают это в соответствии с окончательным состоянием
пула. Это достигается путем отправки специального сообщения в смарт-контракт,
содержащего согласованное конечное состояние (a *, b *) вместе с подписями как
A, так и B. Затем смарт-контракт отправляет a * монет в A, b * монеты в B и
самоуничтожается. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот смарт-контракт вместе с сетевым
протоколом, используемым A и B для обновления состояния пула, представляет
собой простой платежный канал между A и B. Согласно классификации, описанной в
4.1.2, это смешанный сервис: часть его состояние находится в блокчейне
(смарт-контракте), но большая часть соответствующих обновлений состояния
выполняется вне сети (по сетевому протоколу). Если все идет хорошо, две стороны
смогут выполнить столько платежей друг другу, сколько захотят (с единственным
ограничением, что не должна быть превышена «пропускная способность» канала, т.
е. их остатки на платежном канале не будут отрицательными), совершая только две
транзакции в блокчейне: одна для открытия (создания) платежного канала
(смарт-контракт), а другая для его закрытия (уничтожения). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.2.
Не требующие доверия каналы оплаты</span></b><span lang=EN-US>. Предыдущий
пример был несколько нереалистичным, так как он предполагает, что обе стороны
готовы сотрудничать и никогда не обманывают друг друга, чтобы получить какое-либо
преимущество. Представьте, например, что A решит не подписывать окончательный
баланс (a', b’) с a' &lt;a. Такой вариант может поставить B в затруднительное
положение. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.4pt;
margin-left:-.25pt'><span lang=EN-US>Чтобы защитить пользователей от таких
сценариев, обычно разрабатываются «не требующие доверия» протоколы каналов
оплаты, которые не требуют от сторон доверия друг к другу, и предусматривают
наказание любой стороны, которая попытается обмануть другую сторону. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Обычно это достигается с помощью подписей.
Смарт-контракт платежного канала знает открытые ключи A и B и при необходимости
может проверять их подписи. Протокол платежного канала требует, чтобы стороны
подписали промежуточные состояния и отправили подписи друг другу. Затем, если
одна из сторон обманывает - например, делает вид, что какое-то состояние
платежного канала никогда не существовало, - ее некорректное поведение можно
доказать, поставив свою подпись на этом состоянии. Смарт-контракт платежного
канала выступает в роли «сетевого арбитра», способного обрабатывать жалобы двух
сторон друг на друга и наказывать виновную сторону, конфисковав все ее средства
и передав их другой стороне. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.3.
Простой двунаправленный синхронный канал оплаты, не требующий доверия</span></b><span
lang=EN-US>. Рассмотрим следующий, более реалистичный пример: Пусть состояние
платежного канала описывается тройкой (б</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US>, i, о</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, где i - порядковый номер
состояния (изначально он равен нулю, а затем увеличивается на единицу при
последующем<span style='mso-spacerun:yes'>  </span>появляется состояние), б</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> - дисбаланс канала (это означает, что A и B владеют монетами a + б</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> и b - б</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US> соответственно), а o</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> - сторона, которой разрешено генерировать следующее состояние (либо
A, либо B). Каждое состояние должно быть подписано как А, так и B, прежде чем
будет достигнут какой-либо дальнейший прогресс. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><span lang=EN-US>Теперь, если A хочет передать d монет B
внутри платежного канала, а текущее состояние - S</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> = (б</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, i, o</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US>) с o</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US> = A, то он просто создает
новое состояние S</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US> + 1 = (б</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> - d , i + 1, o</span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span lang=EN-US> + 1),
подписывает его и отправляет B вместе со своей подписью. Затем B подтверждает
это, подписывая и отправляя копию своей подписи A. После этого обе стороны
получают копию нового состояния с обеими своими подписями, и может произойти
новая передача. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.35pt;
margin-left:-.25pt'><span lang=EN-US>Если A хочет передать монеты B в состоянии
S</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>i</span><span lang=EN-US> с o</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> = B, то сначала он просит B зафиксировать последующее состояние S</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1
</span><span lang=EN-US>с таким же дисбалансом б</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1 </span><span
lang=EN-US>= б</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, но с o</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1
</span><span lang=EN-US>= A После этого, A сможет Выполнить передачу. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Когда две стороны соглашаются закрыть
платежный канал, они ставят свои специальные окончательные подписи на состояние
S</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;
line-height:105%'>k</span><span lang=EN-US>, которое они считают окончательным,
и вызывают чистый или двусторонний метод финализации смартконтракта платежного
канала, отправив ему окончательное состояние вместе с обеими окончательными
подписями. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.6pt;
margin-left:-.25pt'><span lang=EN-US>Если другая сторона не соглашается
предоставить свою окончательную подпись или просто перестает отвечать, есть
возможность закрыть канал в одностороннем порядке. Для этого сторона, желающая
сделать это, вызывает метод односторонней финализации, отправив смарт-контракту
свою версию конечного состояния, свою окончательную подпись и самое последнее
состояние, имеющее подпись другой стороны. После этого смарт-контракт не сразу
воздействует на полученное конечное состояние. Вместо этого он ждет в течение
определенного периода времени (например, одного дня), пока другая сторона не
представит свою версию окончательного состояния. Когда другая сторона
отправляет свою версию, и она оказывается совместимой с уже представленной
версией, «истинное» конечное состояние вычисляется смарт-контрактом и
используется для соответствующего распределения средств. Если другая сторона не
может представить свою версию конечного состояния смарт-контракту, то деньги
перераспределяются в соответствии с единственной представленной копией
конечного состояния. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если одна из двух сторон обманывает - например,
подписывая два разных состояния как окончательные, подписывая два разных
следующих состояния S</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i+1 </span><span lang=EN-US>и S'</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1</span><span
lang=EN-US>, либо подписывая недопустимое новое состояние S</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1
</span><span lang=EN-US>(например, с дисбалансом б</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1</span><span
lang=EN-US> &lt; -a или &gt; b) - тогда другая сторона может предоставить доказательство
этого неправомерного поведения третьему методу смарт-контракта. Виновная
сторона немедленно наказывается полной потерей своей доли в платежном канале. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этот простой протокол платежного канала
справедлив в том смысле, что любая сторона всегда может получить должное, при
сотрудничестве или без сотрудничества с другой стороной, и, вероятно, потеряет
все свои средства, переданные в платежный канал, если попытается обмануть. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>5.1.4. Синхронный платежный канал как простой
виртуальный блокчейн с двумя валидаторами</span></b><span lang=EN-US>.
Приведенный выше пример простого синхронного платежного канала можно изменить
следующим образом. Представьте, что последовательность состояний S</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>0</span><span
lang=EN-US>, S</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>1</span><span lang=EN-US>,...,S</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>n</span><span
lang=EN-US> на самом деле является последовательностью блоков очень простого
блокчейна. Каждый блок этого блокчейна содержит по существу только текущее
состояние блокчейна и, возможно, ссылку на предыдущий блок (то есть его хэш).
Обе стороны A и B выступают в роли валидаторов для этого блокчейна, поэтому
каждый блок должен собирать обе подписи. Состояние S</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> блокчейна определяет назначенного производителя c ^ для<span
style='mso-spacerun:yes'>  </span>следующего блока, поэтому между A и B нет
гонки за создание следующего блока. Производителю A разрешено создавать блоки,
которые переводят средства от A к B (т. е. уменьшают дисбаланс: б</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i+1
</span><span lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:
Arial;color:#333333'>≤</span><span lang=EN-US> б</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US>), а B может переводить средства только от B к A (т. е. увеличивать
б). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если два валидатора согласовывают
окончательный блок (и окончательное состояние) блокчейна, он завершается сбором
специальных «окончательных» подписей двух сторон и отправкой их вместе с
последним блоком в смарт-контракт канала для обработки и соответствующее
перераспределение средств. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если валидатор подписывает
недействительный блок, создает форк или подписывает два разных финальных блока,
он может быть наказан. При этом доказательство некорректного поведения
валидатора предоставляется смарт-контракту, который действует как
«ончейн-арбитр» для двух валидаторов; тогда нарушившая сторона теряет все свои
деньги, хранящиеся в платежном канале, что аналогично тому, как валидатор теряет
свою долю. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.5.
Асинхронный платежный канал как виртуальный блокчейн с двумя воркчейнами</span></b><span
lang=EN-US>. Синхронный платежный канал, описанный в 5.1.3, имеет определенный
недостаток: нельзя начать следующую транзакцию (перевод денег средств внутри
платежного канала) до того, как предыдущая будет подтверждена другой стороной.
Это можно исправить, заменив единый виртуальный блокчейн, описанный в 5.1.4,
системой из двух взаимодействующих виртуальных воркчейнов (или, скорее,
шардчейнов). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Первый
из этих воркчейнов содержит только транзакции A, а его блоки могут быть
сгенерированы только A. Его состояния: S</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span
lang=EN-US> = (i, ф</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>, j, ψ</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>j</span><span
lang=EN-US>), где i - порядковый номер блока (т. е. количество транзакций или
денежных переводов, выполненных A на данный момент), ф<sub>і</sub> - это общая
сумма, переведенная от A к B на данный момент , j - порядковый номер самого
последнего действительного блока в блокчейне B’s котором известно A, ψ</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>j</span><span
lang=EN-US> - сумма денег, переданная от B к A в его j транзакциях. Подпись B,
помещенная в его j-й блок, также должна быть частью этого состояния. Также
могут быть включены хэши предыдущего блока этой воркчейна и j-го блока другой
воркчейна. Условия применимости для S</span><span lang=EN-US style='font-size:
8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>i</span><span lang=EN-US>
включают ф<sub>і</sub></span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'> </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≥</span><span
lang=EN-US> 0 ф<sub>і</sub></span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'> </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≥</span><span
lang=EN-US> ф<sub>і</sub></span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'>-1</span><span lang=EN-US>, если i
&gt; 0, ψ</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>j </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≥</span><span lang=EN-US> 0, и -a </span><span
lang=EN-US style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;
color:#333333'>≤</span><span lang=EN-US> ψ</span><span lang=EN-US
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>j</span><span
lang=EN-US> - ф</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≤</span><span lang=EN-US> b.<span
style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Точно
так же второй воркчейн содержит только транзакции B, а его блоки генерируются
только B. Его состояния: T</span><span lang=EN-US style='font-size:8.0pt;
mso-bidi-font-size:12.0pt;line-height:105%'>j</span><span lang=EN-US> = (j, ψ</span><span
lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:12.0pt;line-height:105%'>j</span><span
lang=EN-US> , i, φ</span><span lang=EN-US style='font-size:8.0pt;mso-bidi-font-size:
12.0pt;line-height:105%'>i</span><span lang=EN-US>) с аналогичными условиями
выполнения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если A хочет перевести средства B, он
просто создает новый блок в своем воркчейне, подписывает его и отправляет B, не
дожидаясь подтверждения. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Платежный канал завершается подписанием A
(его версией) конечного состояния своего блокчейна (со специальной
«окончательной подписью»), подписанием B конечного состояния своего блокчейна и
представлением этих двух конечных состояний методу чистой финализации
смарт-контракта платежного канала. Одностороннее завершение также возможно,
однако в этом случае смарт-контракт должен будет дождаться, пока другая сторона
представит свою версию окончательного состояния, по крайней мере, в течение
некоторого периода отсрочки. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.6.
Однонаправленные платежные каналы</span></b><span lang=EN-US>. Если только A
необходимо произвести платежи для B (например, B является поставщиком услуг, а
A - его клиентом), то может быть создан канал односторонних платежей. По сути,
это просто первый воркчейн, описанный в 5.1.5, без второго воркчейна. И
наоборот, можно сказать, что асинхронный платежный канал, описанный в 5.1.5,
состоит из двух однонаправленных платежных каналов или «полуканалов»,
управляемых одним и тем же смарт-контрактом. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.2pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.7.
Более сложные каналы оплаты</span></b><span lang=EN-US>. <b style='mso-bidi-font-weight:
normal'>«Обещания».</b> Позже в 5.2.4 мы увидим, что «сеть мгновенных платежей»
(см. 5.2), которая обеспечивает мгновенные денежные переводы через цепочки из
нескольких платежных каналов, требует более высокой степени сложности
задействованных платежных каналов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>В частности, мы хотим иметь возможность
давать «обещания» или совершать «условные денежные переводы»: A соглашается
отправить <i style='mso-bidi-font-style:normal'>c</i> монет B, но B получит
деньги только при выполнении определенного условия, например, если B может
представить некоторую строку u с HASH(U) = v для известного значения v. В
противном случае A может вернуть деньги через определенный период времени.
Такое обещание может быть легко реализовано в сети с помощью простого
смартконтракта. Однако мы хотим, чтобы обещания и другие виды условных денежных
переводов были возможны оффчейн, в платежном канале, потому что они значительно
упрощают денежные переводы по цепочке платежных каналов, существующих в «сети
мгновенных платежей» (см. 5.2. 4). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Схема «платежный канал как простой
блокчейн», описанная в 5.1.4 и 5.1.5, здесь становится очень удобной.
Рассмотрим более сложный виртуальный блокчейн, состояние которого содержит
набор таких невыполненных «обещаний» и количество средств, заблокированных в
таких обещаниях. Этот блокчейн - или два воркчейна в асинхронном случае -
должны будут явно ссылаться на предыдущие блоки по их хэшам. Тем не менее,
общий механизм остается прежним. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.3pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.8.
Проблемы при использовании сложных смарт-контрактов платежных каналов</span></b><span
lang=EN-US>. Обратите внимание, что, хотя конечное состояние сложного
платежного канала все еще невелико, а «чистое» завершение является простым
(если две стороны согласовали свои причитающиеся суммы, и обе подписали
соглашение, больше ничего не нужно делать), метод одностороннего завершения и
метод наказания мошенничества должны быть более сложными. Действительно, они
должны иметь возможность принимать доказательства Меркла при неправомерном поведении
и проверять, правильно ли были обработаны более сложные транзакции блокчейна
платежного канала. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Другими словами, смарт-контракт платежного
канала должен иметь возможность работать с доказательствами Меркла, проверять
их «хеш-валидность» и должен<span style='mso-spacerun:yes'>  </span>содержать
реализацию функций ev_trans и ev_block (см. 2.2.6) для платежного канала
(виртуального) блокчейна. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.95pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.9.
VM TON поддерживает «умные» каналы оплаты</span></b><span lang=EN-US>.
Виртуальная машина TON, используемая для запуска кода смарт-контрактов
блокчейна TON, справляется с задачей выполнения смарт-контрактов, необходимых
для «умных» или сложных каналов оплаты (см. 5.1.8), </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>На
этом этапе парадигма «все есть мешок ячеек» (см. 2.5.14) становится чрезвычайно
удобной. Поскольку все блоки (включая блоки блокчейна канала мгновенного
платежа) <span style='mso-tab-count:1'> </span>представлены <span
style='mso-tab-count:1'>           </span>как <span style='mso-tab-count:1'>     </span>мешки
<span style='mso-tab-count:1'>           </span>ячеек <span style='mso-tab-count:
1'> </span>(и <span style='mso-tab-count:1'>       </span>описываются <span
style='mso-tab-count:1'>            </span>некоторыми алгебраическими типами
данных), и то же самое верно для сообщений и доказательств Меркла,
доказательство Меркла может быть легко встроено во входящее сообщение,
отправленное на смарт-контракт платежного канала. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>«Условие хеширования» доказательства
Меркла будет проверяться автоматически, и когда смарт-контракт получит доступ к
предоставленному «доказательству Меркла», он будет работать с ним, как если бы
это было значение соответствующего алгебраического типа данных - хотя и
неполное, в котором некоторые поддеревья дерева заменены специальными узлами,
содержащими хэш Меркла пропущенного поддерева. Затем смарт-контракт будет
работать с этим значением, которое может предоставлять, например, блок
(виртуального) блокчейна платежного канала вместе с его состоянием, и будет
оценивать функцию ev_block (см. 2.2.6) этого блокчейна в<span
style='mso-spacerun:yes'>  </span>этом блоке и предыдущем состоянии. Затем либо
вычисление завершается, и конечное состояние может быть сравнено с тем, что
заявлено в блоке, либо при попытке доступа к отсутствующему поддереву выдается
исключение «отсутствующий узел», указывающее, что доказательство Меркла
недействительно. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Таким образом, реализация кода проверки
для блокчейнов «умных» платежных каналов оказывается довольно простой при
использовании смарт-контрактов блокчейна TON. Можно сказать, что виртуальная
машина TON имеет встроенную поддержку для проверки валидности других простых
блокчейнов. Единственным ограничивающим фактором является размер доказательства
Меркла, которое должно быть включено во входящее сообщение для смарт-контракта
(т. е. в транзакцию). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.1.10.
Простой платежный канал в «умном» платежном канале</span></b><span lang=EN-US>.
Мы хотели бы обсудить возможность создания простого (синхронного или асинхронного)
платежного канала внутри существующего платежного канала. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Хотя это может показаться несколько
запутанным, эту схему не намного сложнее понять и реализовать, чем «обещания»,
описанные в 5.1.7. По сути, вместо обещания заплатить c монет другой стороне,
если присутствует некоторое решение задачи с хешем, A обещает выплатить B до c
монет в соответствии с окончательным расчетом некоторого другого (виртуального)
блокчейна платежного канала. Вообще говоря, этот блокчейн другого платежного
канала даже не обязательно должен находиться между A и B; в нем могут быть
задействованы другие стороны, например C и D, желающие внести монеты c и d в
свой простой платежный канал, соответственно (эта возможность используется
позже в 5.2.5.). </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Если
охватывающий платежный канал асимметричен, два обещания должны быть
зафиксированы в двух воркчейнах: A обещает выплатить -б монет B, если
окончательный расчет «внутреннего» простого платежного канала дает
отрицательный окончательный дисбаланс 6 с 0 </span><span lang=EN-US
style='font-family:"Arial",sans-serif;mso-fareast-font-family:Arial;color:#333333'>≤</span><span
lang=EN-US> -б </span><span lang=EN-US style='font-family:"Arial",sans-serif;
mso-fareast-font-family:Arial;color:#333333'>≤</span><span lang=EN-US> c; и B
должен будет пообещать заплатить б в пользу A, если б положителен. С другой
стороны, если охватывающий платежный канал является симметричным, это может
быть выполнено путем фиксации одной транзакции «создания простого платежного
канала» с параметрами (c, d) в блокчейне одного платежного канала с помощью A
(который заморозит c монет, принадлежащих A), а затем фиксации специальной
«транзакции подтверждения» от B (которая заморозит d монет B). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы ожидаем, что внутренний платежный канал
будет чрезвычайно простым (например, простой синхронный платежный канал,
описанный в 5.1.3), что позволит минимизировать объем предоставляемых
доказательств Меркла. Внешний платежный канал должен быть «умным» в смысле,
описанном в п. 5.1.7. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc116710">5.2. Сеть платежных каналов
или «сеть мгновенных платежей» (Lightning) </a></h2>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Теперь мы можем обсудить «сеть мгновенных
платежей» системы TON Payments, которая обеспечивает мгновенные денежные
переводы между любыми двумя участвующими узлами. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.1.
Ограничения платежных каналов</span></b><span lang=EN-US>. Платежный канал
полезен для сторон, которые собираются выполнять большое количество денежных
переводов между своими учетными записями. Однако если нужно перевести средства
только один или два раза конкретному получателю, создание платежного канала с
ним будет нецелесообразно. Среди прочего, это повлечет за собой замораживание
значительной суммы денег в платежном канале и в любом случае потребует как
минимум двух транзакций блокчейна. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span lang=EN-US><span
style='mso-spacerun:yes'> </span></span></b></p>

</div>

<span lang=EN-US style='font-size:12.0pt;line-height:105%;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";color:black;mso-ansi-language:EN-US;
mso-fareast-language:EN-US;mso-bidi-language:EN-US'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span>

<div class=WordSection22>

<h4 style='margin-right:4.0pt'><!--[if gte vml 1]><v:group id="Group_x0020_112018"
 o:spid="_x0000_s2056" style='position:absolute;left:0;text-align:left;
 margin-left:-.75pt;margin-top:11pt;width:436.95pt;height:.5pt;z-index:251658240'
 coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQAaDBjObwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVMGO2yAQvVfqPyDfGztpku1acfbQbXOp
2lV3+wEEg20JAwISJ3/fYWwTN1utqtQHG8PMY97jMZuHUyvJkVvXaFUk81mWEK6YLhtVFcmvl68f
PiXEeapKKrXiRXLmLnnYvn+36UzOF7rWsuSWAIhyeWeKpPbe5GnqWM1b6mbacAWLQtuWevi1VVpa
2gF6K9NFlq3TTtvSWM24czD72C8mW8QXgjP/QwjHPZFFArV5fFt878M73W5oXllq6oYNZdAbqmhp
o2DTCPVIPSUH27yCahtmtdPCz5huUy1EwzhyADbz7IrNzuqDQS5V3lUmygTSXul0Myz7ftxZ82ye
LCjRmQq0wL/A5SRsG75QJTmhZOcoGT95wmBytVreL9brhDBYW39cDYqyGmR/lcTqL2+lpeOW6R+F
dAas4S7s3f+xf66p4Siqy4H9kyVNCc6d3y0XYBBFW3ApxpBhDoXB2CiTyx0odpNG9/PlMrgukqU5
Ozi/4xq1psdvzvemLMcRrccRO6lxaMHab5raUB/yQpFhSLrJYdVFgnWExVYf+YvGMH91YlDjZVWq
aVQ899ESEDtGjF+DeNPICfkxaPz2wXACAPiPYei1uC8MAk9UNnKHyam6UgUZYBNGodcIST1e2rbx
0IRk04IPFndZdgEGtGC//rRx5M+SB7Gk+skFWAcvRphwttp/lpYcaWg1+CA4laamw+xw8EMoloo4
IV80UkbIOab+DbK3zhAc8jh2uZiZ9ZlsqKZvddAwgPTY8ECUmIQ7a+VjvoI2jWVO2IbhXpdnbBIo
CNxHlAb7EvIYemhofNN/jLp0+u1vAAAA//8DAFBLAwQUAAYACAAAACEAxlwiJ+QAAAANAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT2/CMAzF75P2HSIj7QZpy9hQaYoQ+3NCkwaTJm6hMW1F41RNaMu3
n3faLpbsZz+/X7YebSN67HztSEE8i0AgFc7UVCr4OrxNlyB80GR04wgV3NDDOr+/y3Rq3ECf2O9D
KdiEfKoVVCG0qZS+qNBqP3MtEmtn11kduO1KaTo9sLltZBJFT9LqmvhDpVvcVlhc9ler4H3Qw2Ye
v/a7y3l7Ox4WH9+7GJV6mIwvKy6bFYiAY/i7gF8Gzg85Bzu5KxkvGgXTeMGbCpKEuVhfPiePIE48
mEcg80z+p8h/AAAA//8DAFBLAQItABQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAAAAAAAAAAAAA
AAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhADj9If/WAAAAlAEAAAsAAAAA
AAAAAAAAAAAALwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhABoMGM5vAgAAMQYAAA4AAAAA
AAAAAAAAAAAALgIAAGRycy9lMm9Eb2MueG1sUEsBAi0AFAAGAAgAAAAhAMZcIifkAAAADQEAAA8A
AAAAAAAAAAAAAAAAyQQAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAABAAEAPMAAADaBQAAAAA=
">
 <v:shape id="Shape_x0020_117420" o:spid="_x0000_s2057" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQCUPgTDygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI/BSsNA
EIbvgu+wjOBF7KZFa5N2W4oiePCS1gcYsmMSzM6G7KSJPr1zELwM/Az/9/PtDnPozIWG1EZ2sFxk
YIir6FuuHXycX+83YJIge+wik4NvSnDYX1/tsPBx4pIuJ6mNQjgV6KAR6QtrU9VQwLSIPbH+PuMQ
UDQOtfUDTgoPnV1l2doGbFkXGuzpuaHq6zQGB0d8zHOZ7n7eN3Ecz1mZj1J6525v5petnuMWjNAs
/40/xJtXh+XTw0o1VEoD2P0vAAAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAJQ+BMPKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape></v:group><![endif]-->5.2. Сеть платежных каналов или «сеть
мгновенных платежей» (Lightning) </h4>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><b style='mso-bidi-font-weight:normal'><span
style='mso-spacerun:yes'> </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.2.
Сети платежных каналов или «сети мгновенных платежей»</span></b><span
lang=EN-US>. Сети платежных каналов преодолевают ограничения платежных каналов,
обеспечивая денежные переводы по цепочкам платежных каналов. Если A хочет
перевести деньги в E, ему не нужно устанавливать платежный канал с E.
Достаточно иметь цепочку платежных каналов, связывающую A с E через несколько
промежуточных узлов - скажем, четыре платежных канала: от A до B, от B до C, от
C до D и от D до E. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.45pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.3.
Обзор сетей платежных каналов</span></b><span lang=EN-US>. Напомним, что сеть
платежных каналов, известная также как «сеть мгновенных платежей», состоит из
набора участвующих узлов, некоторые из которых установили между собой
долговременные платежные каналы. Мы скоро увидим, что эти платежные каналы
должны быть «умными» в смысле 5.1.7. Когда участвующий узел A хочет перевести
деньги любому другому участвующему узлу E, он пытается найти путь, связывающий
A с E внутри сети платежных каналов. Когда такой путь находится, выполняется
«цепной перевод денег» по этому пути. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.4.
Цепные денежные переводы</span></b><span lang=EN-US>. Предположим, что
существует цепочка платежных каналов от А до В, от В до C к D и от D к E.
Предположим также, что A хочет передать x монет E. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Упрощенный подход состоял бы в том, чтобы
передать x монет В по существующему платежному каналу и попросить его переслать
деньги дальше С. Однако не очевидно, почему В просто не возьмет деньги себе.
Следовательно, необходимо использовать более изощренный подход, не требующий от
всех вовлеченных сторон доверять друг другу. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Этого можно добиться следующим образом. A
генерирует большое случайное число u и вычисляет его хэш v = HASH(u). Затем он
создает обещание выплатить x монет В, если в его платежном канале с В
присутствует число u с хешем v (см. 5.1.7). Это обещание содержит v, но не u, а
значение пока держится в секрете. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>После этого B создает аналогичное обещание
для C в своем платежном канале. Он не боится давать такое обещание, потому что
знает о существовании подобного обещания, данного ему А. Если C когда-либо
предоставит решение хеш-задачи по<span style='mso-spacerun:yes'>  </span>сбору
x монет, обещанное В, то В немедленно представит это решение задачи A для сбора
x монет у A. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Затем создаются аналогичные обещания от C
к D и от D к E. Когда все обещания будут выполнены, A запускает передачу,
сообщая решение u всем вовлеченным сторонам или только E. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Некоторые мелкие детали опущены в этом
описании. Например, эти обещания должны иметь разное время истечения, а
обещанная сумма может немного отличаться по цепочке (В может обещать C только x
- e монет, где e - небольшая заранее согласованная плата за транзит). Мы пока
игнорируем такие детали, потому что они не слишком актуальны для понимания
того, как работают платежные каналы и как их можно реализовать в TON. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.45pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.5.
Виртуальные платежные каналы внутри цепочки платежных каналов</span></b><span
lang=EN-US>. Теперь предположим, что A и E рассчитывают выполнять большое
количество платежей друг другу. Они могут создать новый платежный канал между
собой в блокчейне, но это все равно будет довольно дорого, потому что некоторые
средства будут заблокированы в этом платежном канале. Другой вариант -
использовать цепные денежные переводы, описанные в 5.2.4, для каждого платежа.
Однако это потребует большой сетевой активности и большого количества
транзакций в виртуальных блокчейнах всех задействованных платежных каналов. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Альтернативой является создание
виртуального платежного канала внутри блокчейна, связывающего A и E в сети
платежных каналов. Для этого A и E создают<span style='mso-spacerun:yes'> 
</span></span></p>

<h4 style='margin-right:4.3pt'><!--[if gte vml 1]><v:group id="Group_x0020_112360"
 o:spid="_x0000_s2054" style='position:absolute;left:0;text-align:left;
 margin-left:-.75pt;margin-top:10.85pt;width:436.95pt;height:.5pt;z-index:251659264'
 coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQBfZiSFbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVNuO0zAQfUfiHyy/06Sl7bJR031goS8I
VuzyAa7jXCTfZLtN+/eMJ5eGLlqhkgdnbM8czzkez+bhpCQ5Cucbo3M6n6WUCM1N0egqp79evn74
RIkPTBdMGi1yehaePmzfv9u0NhMLUxtZCEcARPustTmtQ7BZknheC8X8zFihYbM0TrEAU1clhWMt
oCuZLNJ0nbTGFdYZLryH1cduk24RvywFDz/K0otAZE4ht4Cjw3Efx2S7YVnlmK0b3qfBbshCsUbD
oSPUIwuMHFzzCko13BlvyjDjRiWmLBsukAOwmadXbHbOHCxyqbK2sqNMIO2VTjfD8u/HnbPP9smB
Eq2tQAucRS6n0qn4hyzJCSU7j5KJUyAcFler5f1ivaaEw97646pXlNcg+6sgXn95KywZjkz+SKS1
UBr+wt7/H/vnmlmBovoM2D850hRQufO75WJBiWYKqhR9SL+GwqDvKJPPPCh2k0b38+UyVt1IlmX8
4MNOGNSaHb/50BVlMVisHix+0oPpoLTfLGrLQoyLSUaTtJPLqnOKecRNZY7ixaBbuLoxyPGyK/XU
a7z3oSTAd/AY/hbxpp4T8oPT8O+c4YkC4D+6Ya2N54IReaKyI3dYnKordZQBDuEMek0pWcBHq5oA
TUg2CupgcZemF2BAi+XX3TZa4SxFFEvqn6KE0sGHERe8q/afpSNHFlsNfgjOpK1Zv9pffO+KqSJO
jC8bKUfIOYb+DbIrnd45xgnscmNk2kXyPpuu1UHDANJDwwNRxiA82egwxmto05jmhG0096Y4Y5NA
QeA9ojTYl5BH30Nj45vO0evS6be/AQAA//8DAFBLAwQUAAYACAAAACEAwvCqDuMAAAANAQAADwAA
AGRycy9kb3ducmV2LnhtbExPTWvDMAy9D/YfjAa7tY6zdSlpnFK6j1MZrB2M3dxETUJjOcRukv77
aaftIpDe0/vI1pNtxYC9bxxpUPMIBFLhyoYqDZ+H19kShA+GStM6Qg1X9LDOb28yk5ZupA8c9qES
LEI+NRrqELpUSl/UaI2fuw6JsZPrrQm89pUsezOyuG1lHEVP0pqG2KE2HW5rLM77i9XwNppx86Be
ht35tL1+HxbvXzuFWt/fTc8rHpsViIBT+PuA3w6cH3IOdnQXKr1oNczUgpkaYpWAYHyZxI8gjnyI
E5B5Jv+3yH8AAAD//wMAUEsBAi0AFAAGAAgAAAAhALaDOJL+AAAA4QEAABMAAAAAAAAAAAAAAAAA
AAAAAFtDb250ZW50X1R5cGVzXS54bWxQSwECLQAUAAYACAAAACEAOP0h/9YAAACUAQAACwAAAAAA
AAAAAAAAAAAvAQAAX3JlbHMvLnJlbHNQSwECLQAUAAYACAAAACEAX2YkhW8CAAAxBgAADgAAAAAA
AAAAAAAAAAAuAgAAZHJzL2Uyb0RvYy54bWxQSwECLQAUAAYACAAAACEAwvCqDuMAAAANAQAADwAA
AAAAAAAAAAAAAADJBAAAZHJzL2Rvd25yZXYueG1sUEsFBgAAAAAEAAQA8wAAANkFAAAAAA==
">
 <v:shape id="Shape_x0020_117422" o:spid="_x0000_s2055" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQALoD8vygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9BS8NA
FITvQv/D8gpexG4atDZpt6UoggcvafsDHtnXJDT7NmRfmuivdwXBy8AwzDfMdj+5Vt2oD41nA8tF
Aoq49LbhysD59P64BhUE2WLrmQx8UYD9bna3xdz6kQu6HaVSEcIhRwO1SJdrHcqaHIaF74hjdvG9
Q4m2r7TtcYxw1+o0SVbaYcNxocaOXmsqr8fBGTjgc5bJ+PD9ufbDcEqKbJDCGnM/n942UQ4bUEKT
/Df+EB82fli+PKUp/J6KBvTuBwAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAAugPy/KAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape></v:group><![endif]-->5.2. Сеть платежных каналов или «сеть
мгновенных платежей» (Lightning) </h4>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span style='mso-spacerun:yes'> </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>(виртуальный) блокчейн для своих платежей,
как если бы они собирались создать платежный канал в блокчейне. Однако вместо
создания смарт-контракта платежного канала в блокчейне они просят все
промежуточные платежные каналы - те, которые связывают A с B, B с C и т. д. -
создать внутри них простые платежные каналы, привязанные к виртуальному
блокчейну, созданному A и E (см. 5.1.10). Другими словами, теперь обещание
перевести деньги в соответствии с окончательным расчетом между A и E существует
внутри каждого промежуточного платежного канала. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если виртуальный платежный канал является
однонаправленным, такие обещания могут быть реализованы довольно легко, потому
что окончательный дисбаланс 5 будет неположительным, поэтому простые платежные
каналы могут быть созданы внутри промежуточных платежных каналов в том же
порядке, как описано в 5.2.4. , Таким же образом можно установить срок их
действия. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Если виртуальный платежный канал является
двунаправленным, ситуация становится несколько сложнее. В этом случае следует
разделить обещание передать б монет в соответствии с окончательным расчетом на
два «полуобещания», как описано в 5.1.10: передать б<sup>-</sup> = max (0, -б)
монет в прямом направлении и допередать б<sup>+</sup> = max (0, б) в обратном
направлении. Эти полуобещания могут быть созданы в промежуточных платежных каналах
независимо, одна цепочка полуобещаний в направлении от A к E, а другая цепочка
- в противоположном направлении. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.6.
Поиск путей в сети мгновенных платежей</span></b><span lang=EN-US>. Пока не
обсуждается один вопрос: как A и E найдут путь, соединяющий их в платежной сети?
Если платежная сеть не слишком большая, можно использовать протокол типа OSPF:
все узлы платежной сети создают оверлейную сеть (см. 3.3.17), а затем каждый
узел передает всю доступную информацию (т. е. участвующие платежные каналы)
своим соседям по протоколу сплетен. В итоге все узлы будут иметь полный список
всех платежных каналов, участвующих в платежной сети, и смогут сами найти
кратчайшие пути, например, применив версию алгоритма Дейкстры, измененную с
учетом «возможностей» задействованных платежных каналов (т. е. максимальные
суммы, которые могут быть переведены по ним). После того, как путь-кандидат
будет<span style='mso-spacerun:yes'>  </span>найден, его можно исследовать с
помощью специальной датаграммы ADNL, содержащей полный путь и запрашивающей у
каждого промежуточного узла подтверждение существования рассматриваемого
платежного канала, и пересылать эту датаграмму дальше в соответствии с путем.
После этого можно построить цепочку и запустить протокол для цепных переводов
(см. 5.2.4) или для создания виртуального платежного канала внутри цепочки
платежных каналов (см. 5.2.5). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.7.
Оптимизация</span></b><span lang=EN-US>. Здесь можно сделать некоторые
оптимизации. Например, только транзитные узлы сети мгновенных платежей должны
участвовать в протоколе типа OSPF, описанном в 5.2.6. Два «листовых» узла,
желающие подключиться через сеть мгновенных платежей, будут передавать друг
другу списки транзитных узлов, к которым они подключены (т. е. с которыми они
установили платежные каналы, участвующие в платежной сети). Затем можно
проверить пути, соединяющие транзитные узлы из одного списка с транзитными
узлами из другого списка, как описано выше в п. 5.2.6. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>5.2.8.
Вывод</span></b><span lang=EN-US>. Мы обрисовали в общих чертах, насколько
блокчейн и сетевые технологии проекта TON соответствуют задаче создания TON
Payments - платформы для мгновенных денежных переводов и микроплатежей вне
сети. Эта платформа может быть чрезвычайно полезна для сервисов, находящихся в
экосистеме TON, позволяя им легко собирать микроплатежи, когда и где это
необходимо. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<h1 style='margin-left:-.25pt'><a name="_Toc116711">Вывод </a></h1>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Мы <span
style='mso-tab-count:1'>     </span>предложили <span style='mso-tab-count:1'>  </span>масштабируемую
<span style='mso-tab-count:1'>    </span>многоблочную <span style='mso-tab-count:
1'>         </span>архитектуру, <span style='mso-tab-count:1'> </span>способную
поддерживать широко популярную криптовалюту и децентрализованные приложения с
удобными интерфейсами. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:.45pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left'><span lang=EN-US>Для
достижения необходимой масштабируемости мы предложили использовать блокчейн
TON, «тесно-связанную» систему с несколькими блокчейнами (см. 2.8.14) с
восходящим подходом к сегментированию (см. 2.8.12 и 2.1.2). Чтобы повысить
потенциальную производительность, мы ввели механизм с двумя блокчейнами для
замены недопустимых блоков (см. 2.1.17), а также мгновенную маршрутизацию в
гиперкубе (Instant Hypercube Routing) для более быстрой связи между шардами
(см. 2.4.20). Краткое сравнение блокчейна TON с существующими и предлагаемыми
проектами блокчейнов (см. 2.8 и 2.9) подчеркивает преимущества этого подхода
для систем, которые должны будут обрабатывать миллионы транзакций в секунду.
Сеть TON, описанная в главе 3, покрывает сетевые потребности предлагаемой мультиблокчейн-инфраструктуры.
<span style='mso-tab-count:1'>           </span>Этот <span style='mso-tab-count:
1'>   </span>сетевой <span style='mso-tab-count:1'>         </span>компонент <span
style='mso-tab-count:1'>    </span>также <span style='mso-tab-count:1'> </span>может
использоваться в сочетании с блокчейном для создания широкого спектра
приложений и сервисов, что невозможно при использовании только блокчейна (см.
2.9.13). Эти сервисы, обсуждаемые в главе 4, включают TON DNS, службу для
преобразования человекочитаемых идентификаторов объектов в их адреса; TON
Storage, распределенную платформу для хранения произвольных файлов; TON Proxy,
сервис для анонимизации доступа к сети и доступа к сервисам на базе TON; а
также TON Payments (см. главу 5), платформу для мгновенных денежных переводов
вне сети через экосистему TON, которую приложения могут использовать для
микроплатежей. Инфраструктура TON позволяет создавать специализированные легкие
клиентские кошельки и приложения для настольных компьютеров и смартфонов с
«TONбраузером», которые позволят конечному пользователю работать по аналогии с
работой <span style='mso-tab-count:1'>   </span>в <span style='mso-tab-count:
1'>         </span>браузере <span style='mso-tab-count:1'>        </span>(см. <span
style='mso-tab-count:1'>    </span>4.3.23), <span style='mso-tab-count:1'> </span>совершать
<span style='mso-tab-count:1'>     </span>платежи <span style='mso-tab-count:
1'>        </span>в <span style='mso-tab-count:1'>         </span>криптовалюте <span
style='mso-tab-count:1'>          </span>и взаимодействовать со
смарт-контрактами и другими сервисами на платформе TON, доступной массовому
пользователю. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>           </span><span
style='mso-spacerun:yes'> </span></span></p>

<h3 align=center style='margin-right:3.8pt;text-align:center'><span
style='font-size:12.0pt;line-height:107%;font-weight:normal'>Список литературы </span></h3>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_112857" o:spid="_x0000_s2052"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQCQ2GBYbwIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVNuO0zAQfUfiHyy/06Sl7bJR031goS8I
VuzyAa7jXCTfZLtN+/eMJ5eGLlqhkgdnbM8czzkez+bhpCQ5Cucbo3M6n6WUCM1N0egqp79evn74
RIkPTBdMGi1yehaePmzfv9u0NhMLUxtZCEcARPustTmtQ7BZknheC8X8zFihYbM0TrEAU1clhWMt
oCuZLNJ0nbTGFdYZLryH1cduk24RvywFDz/K0otAZE4ht4Cjw3Efx2S7YVnlmK0b3qfBbshCsUbD
oSPUIwuMHFzzCko13BlvyjDjRiWmLBsukAOwmadXbHbOHCxyqbK2sqNMIO2VTjfD8u/HnbPP9smB
Eq2tQAucRS6n0qn4hyzJCSU7j5KJUyAcFler5f1ivaaEw97646pXlNcg+6sgXn95KywZjkz+SKS1
UBr+wt7/H/vnmlmBovoM2D850hRQufO75WJJiWYKqhR9SL+GwqDvKJPPPCh2k0b38+UyVt1IlmX8
4MNOGNSaHb/50BVlMVisHix+0oPpoLTfLGrLQoyLSUaTtJPLqnOKecRNZY7ixaBbuLoxyPGyK/XU
a7z3oSTAd/AY/hbxpp4T8oPT8O+c4YkC4D+6Ya2N54IReaKyI3dYnKordZQBDuEMek0pWcBHq5oA
TUg2CupgcZemF2BAi+XX3TZa4SxFFEvqn6KE0sGHERe8q/afpSNHFlsNfgjOpK1Zv9pffO+KqSJO
jC8bKUfIOYb+DbIrnd45xgnscmNk2kXyPpuu1UHDANJDwwNRxiA82egwxmto05jmhG0096Y4Y5NA
QeA9ojTYl5BH30Nj45vO0evS6be/AQAA//8DAFBLAwQUAAYACAAAACEAlLgG/N8AAAAIAQAADwAA
AGRycy9kb3ducmV2LnhtbEyPT0vDQBDF74LfYRnBm93EorZpNqXUP6ci2ArS2zSZJqHZ2ZDdJum3
d/SilwfDm3nzfulytI3qqfO1YwPxJAJFnLui5tLA5+71bgbKB+QCG8dk4EIeltn1VYpJ4Qb+oH4b
SiUh7BM0UIXQJlr7vCKLfuJaYvGOrrMYZOxKXXQ4SLht9H0UPWqLNcuHCltaV5Sftmdr4G3AYTWN
X/rN6bi+7HcP71+bmIy5vRmfFyKrBahAY/i7gB8G6Q+ZFDu4MxdeNQaEJvyqeLOn6RzUQZYi0Fmq
/wNk3wAAAP//AwBQSwECLQAUAAYACAAAACEAtoM4kv4AAADhAQAAEwAAAAAAAAAAAAAAAAAAAAAA
W0NvbnRlbnRfVHlwZXNdLnhtbFBLAQItABQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAAAAAAAAA
AAAAAC8BAABfcmVscy8ucmVsc1BLAQItABQABgAIAAAAIQCQ2GBYbwIAADEGAAAOAAAAAAAAAAAA
AAAAAC4CAABkcnMvZTJvRG9jLnhtbFBLAQItABQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAAAAAA
AAAAAAAAAMkEAABkcnMvZG93bnJldi54bWxQSwUGAAAAAAQABADzAAAA1QUAAAAA
">
 <v:shape id="Shape_x0020_117424" o:spid="_x0000_s2053" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQDrBQLAygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9Ba8JA
FITvhf6H5Qm9lLpRrJroKlIp9NBL1B/wyL4mwezbkH0xqb++Wyj0MjAM8w2z3Y+uUTfqQu3ZwGya
gCIuvK25NHA5v7+sQQVBtth4JgPfFGC/e3zYYmb9wDndTlKqCOGQoYFKpM20DkVFDsPUt8Qx+/Kd
Q4m2K7XtcIhw1+h5kiy1w5rjQoUtvVVUXE+9M3DA1zSV4fn+ufZ9f07ytJfcGvM0GY+bKIcNKKFR
/ht/iA8bP8xWi/kCfk9FA3r3AwAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAOsFAsDKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1027" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.8pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:-.25pt;text-align:left;line-height:107%'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:16.0pt;
mso-bidi-font-size:12.0pt;line-height:107%'>Список литературы </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[1]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>К. BIRMAN, Reliable Distributed
Systems: Technologies, Web Services and Applications, Springer, 2005. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[2]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>V. BUTERIN, Ethereum: A
next-generation smart contract and decentralized application platform, https :
//github. com/ethereum/wiki/ wiki/White-Paper, 2013. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[3]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>M. BEN-OR, B. KELMER, T. RABIN,
Asynchronous secure computations with optimal resilience, in Proceedings of the
thirteenth annual ACM symposium on Principles of distributed computing, p.
183-192. ACM, 1994. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[4]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>M. CASTRO, B. LISKOV, ET AL.,
Practical byzantine fault tolerance, Proceedings of the Third Symposium on
Operating Systems Design and Implementation (1999), p. 173186, available at
http://pmg.csail.mit. edu/papers/osdi99.pdf. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[5]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>EOS.IO, EOS.IO technical white
paper, https://github.com/EOSIO/
Documentation/blob/master/TechnicalWhitePaper.md, 2017. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[6]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>D. GOLDSCHLAG, M. REED, P.
SYVERSON, Onion Routing for Anonymous and Private Internet Connections,
Communications of the ACM, 42, num. 2 (1999),
http://www.onion-router.net/Publications/ CACM-1999.pdf. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[7]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>L. LAMPORT, R. SHOSTAK, M.
PEASE, The byzantine generals problem, ACM Transactions on Programming
Languages and Systems, 4/3 (1982), p. 382-401. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[8]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>S. <span style='mso-tab-count:
1'>        </span>LARIMER, <span style='mso-tab-count:1'>    </span>The <span
style='mso-tab-count:1'>     </span>history <span style='mso-tab-count:1'>            </span>of
<span style='mso-tab-count:1'>       </span>BitShares, <span style='mso-tab-count:
1'>      </span>https://docs.bitshares.org/ bitshares/history.html,2013. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[9]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>M. LUBY, A. SHOKROLLAHI, ET
AL., RaptorQ forward error correction scheme for object delivery, IETF RFC
6330, https: //tools. ietf . org/ html/rfсбЗЗО, 2011. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[10]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>P. MAYMOUNKOV, D. MAZIERES,
Kademlia: A peer-to-peer information system based on the XOR metric, in IPTPS
’01 revised papers from the First International Workshop on Peer-to-Peer
Systems, p. 53-65, available at http://pdos.csail.mit.edu/~petar/papers/ maymounkov-kademlia-lncs.pdf,
2002. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[11]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>A. MILLER, YU XIA, ET AL., The
honey badger of BFT protocols, Cryptology eprint archive 2016/99,
https://eprint.iacr.org/2016/ 199.pdf, 2016. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[12]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>S. NAKAMOTO, Bitcoin: A
peer-to-peer electronic cash system, https: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>//bitcoin.org/bitcoin.pdf, 2008. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l14 level1 lfo20'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[13]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>S. PEYTON JONES, Implementing
lazy functional languages on stock hardware: the Spineless Tagless G-machine,
Journal of Functional Pro-gramming 2 (2), p. 127-202, 1992. [14] A.
SHOKROLLAHI, M. LUBY, Raptor Codes, IEEE Transactions on Information Theory 6,
no. 3-4 (2006), p. 212-322. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l3 level1 lfo21'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[15]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>M. VAN STEEN, A. TANENBAUM,
Distributed Systems, 3rd ed., 2017. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l3 level1 lfo21'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[16]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>THE UNIVALENT FOUNDATIONS
PROGRAM, Homotopy Type Theory: Univalent Foundations of Mathematics, Institute
for Advanced Study, 2013, available at https://homotopytypetheory.org/book. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:35.55pt;text-indent:-35.55pt;mso-list:l3 level1 lfo21'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>[17]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>G. WOOD, PolkaDot: vision for a
heterogeneous multi-chain framework, draft 1,
https://github.com/w3f/polkadot-white-paper/raw/ master/PolkaDotPaper.pdf,
2016. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span><span
style='mso-tab-count:1'>           </span><span
style='mso-spacerun:yes'> </span></span></p>

<h1 align=center style='margin-right:3.9pt;text-align:center'><a
name="_Toc116712"><span style='font-size:12.0pt;line-height:107%;font-weight:
normal'>Приложение A. Монета TON Coin </span></a></h1>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%'><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><span style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'> </span>SHAPE <span
style='mso-spacerun:yes'> </span>\* MERGEFORMAT <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><!--[if gte vml 1]><v:group id="Group_x0020_113145" o:spid="_x0000_s2050"
 style='width:436.95pt;height:.5pt;mso-position-horizontal-relative:char;
 mso-position-vertical-relative:line' coordsize="55492,63" o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQDVslwTbgIAADEGAAAOAAAAZHJzL2Uyb0RvYy54bWykVMGO2yAQvVfqPyDfGztpku1acfbQbXOp
2lV3+wEEg20JAwISJ3/fYWwTN1utqtQHPMDMY95jmM3DqZXkyK1rtCqS+SxLCFdMl42qiuTXy9cP
nxLiPFUllVrxIjlzlzxs37/bdCbnC11rWXJLAES5vDNFUntv8jR1rOYtdTNtuIJNoW1LPUxtlZaW
doDeynSRZeu007Y0VjPuHKw+9pvJFvGF4Mz/EMJxT2SRQG4eR4vjPozpdkPzylJTN2xIg96QRUsb
BYdGqEfqKTnY5hVU2zCrnRZ+xnSbaiEaxpEDsJlnV2x2Vh8McqnyrjJRJpD2SqebYdn3486aZ/Nk
QYnOVKAFzgKXk7Bt+EOW5ISSnaNk/OQJg8XVanm/WK8TwmBv/XE1KMpqkP1VEKu/vBWWjkemfyTS
GSgNd2Hv/o/9c00NR1FdDuyfLGlKqNz53XIBNBRtoUrRhwxrKAz6Rplc7kCxmzS6ny+XoeoiWZqz
g/M7rlFrevzmfF+U5WjRerTYSY2mhdJ+s6gN9SEuJBlM0k0uqy4SzCNstvrIXzS6+asbgxwvu1JN
veK9jyUBvqPH+DeIN/WckB+dxn/vDE8UAP/RDWstngtG4InKRu6wOFVXqiADHMIo9BohqcdH2zYe
mpBsWqiDxV2WXYABLZRff9to+bPkQSypfnIBpYMPIyw4W+0/S0uONLQa/BCcSlPTYXW4+MEVU0Wc
EC8aKSPkHEP/BtmXzuAc4jh2uRiZ9ZFsyKZvddAwgPTY8ECUGIQna+VjvII2jWlO2AZzr8szNgkU
BN4jSoN9CXkMPTQ0vukcvS6dfvsbAAD//wMAUEsDBBQABgAIAAAAIQCUuAb83wAAAAgBAAAPAAAA
ZHJzL2Rvd25yZXYueG1sTI9PS8NAEMXvgt9hGcGb3cSitmk2pdQ/pyLYCtLbNJkmodnZkN0m6bd3
9KKXB8ObefN+6XK0jeqp87VjA/EkAkWcu6Lm0sDn7vVuBsoH5AIbx2TgQh6W2fVViknhBv6gfhtK
JSHsEzRQhdAmWvu8Iot+4lpi8Y6usxhk7EpddDhIuG30fRQ9aos1y4cKW1pXlJ+2Z2vgbcBhNY1f
+s3puL7sdw/vX5uYjLm9GZ8XIqsFqEBj+LuAHwbpD5kUO7gzF141BoQm/Kp4s6fpHNRBliLQWar/
A2TfAAAA//8DAFBLAQItABQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAAAAAAAAAAAAAAAAAAABb
Q29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhADj9If/WAAAAlAEAAAsAAAAAAAAAAAAA
AAAALwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhANWyXBNuAgAAMQYAAA4AAAAAAAAAAAAA
AAAALgIAAGRycy9lMm9Eb2MueG1sUEsBAi0AFAAGAAgAAAAhAJS4BvzfAAAACAEAAA8AAAAAAAAA
AAAAAAAAyAQAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAABAAEAPMAAADUBQAAAAA=
">
 <v:shape id="Shape_x0020_117426" o:spid="_x0000_s2051" style='position:absolute;
  width:55492;height:91;visibility:visible;mso-wrap-style:square;
  v-text-anchor:top' coordsize="5549266,9144" o:gfxdata="UEsDBBQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbHyQz07DMAyH
70i8Q+QralM4IITa7kDhCAiNB7ASt43WOlEcyvb2pNu4IODoPz9/n1xv9vOkForiPDdwXVagiI23
jocG3rdPxR0oScgWJ8/UwIEENu3lRb09BBKV0ywNjCmFe63FjDSjlD4Q50nv44wpl3HQAc0OB9I3
VXWrjedEnIq03oC27qjHjympx31un0wiTQLq4bS4shrAECZnMGVTvbD9QSnOhDInjzsyuiBXWQP0
r4R18jfgnHvJr4nOknrFmJ5xzhraRtHWf3Kkpfz/yGo5S+H73hkquyhdjr3R8m2lj09svwAAAP//
AwBQSwMEFAAGAAgAAAAhAFr0LFu/AAAAFQEAAAsAAABfcmVscy8ucmVsc2zPwWrDMAwG4Ptg72B0
X5TuUMaI01uh19I+gLGVxCy2jGSy9e1nemrHjpL4P0nD4SetZiPRyNnCruvBUPYcYp4tXC/Htw8w
Wl0ObuVMFm6kcBhfX4Yzra62kC6xqGlKVgtLreUTUf1CyWnHhXKbTCzJ1VbKjMX5LzcTvvf9HuXR
gPHJNKdgQU5hB+ZyK23zHztFL6w81c5zQp6m6P9TMfB3PtPWFCczVQtB9N4U2rp2HOA44NMz4y8A
AAD//wMAUEsDBBQABgAIAAAAIQB0mzksygAAAOQAAAAPAAAAZHJzL2Rvd25yZXYueG1sRI9Ba8JA
FITvBf/D8gQvpW6U1proKmIp9NBL1B/wyL4modm3Ifti0v76bkHwMjAM8w2z3Y+uUVfqQu3ZwGKe
gCIuvK25NHA5vz+tQQVBtth4JgM/FGC/mzxsMbN+4JyuJylVhHDI0EAl0mZah6Iih2HuW+KYffnO
oUTbldp2OES4a/QySVbaYc1xocKWjhUV36feGTjgS5rK8Pj7ufZ9f07ytJfcGjObjm+bKIcNKKFR
7o0b4sPGD4vX5+UK/k9FA3r3BwAA//8DAFBLAQItABQABgAIAAAAIQDb4fbL7gAAAIUBAAATAAAA
AAAAAAAAAAAAAAAAAABbQ29udGVudF9UeXBlc10ueG1sUEsBAi0AFAAGAAgAAAAhAFr0LFu/AAAA
FQEAAAsAAAAAAAAAAAAAAAAAHwEAAF9yZWxzLy5yZWxzUEsBAi0AFAAGAAgAAAAhAHSbOSzKAAAA
5AAAAA8AAAAAAAAAAAAAAAAABwIAAGRycy9kb3ducmV2LnhtbFBLBQYAAAAAAwADALcAAAD+AgAA
AAA=
" path="m,l5549266,r,9144l,9144,,e" fillcolor="black" stroked="f"
  strokeweight="0">
  <v:stroke miterlimit="83231f" joinstyle="miter"/>
  <v:path arrowok="t" textboxrect="0,0,5549266,9144"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--></span><!--[if mso & !supportInlineShapes & supportFields]><span
lang=EN-US><v:shape id="_x0000_i1026" type="#_x0000_t75" style='width:436.95pt;
 height:.5pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span></span><![endif]--></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:5.6pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:-.75pt;text-align:left;text-indent:0cm;
line-height:107%;tab-stops:center 102.8pt'><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-size:16.0pt;mso-bidi-font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'>        </span><span
style='mso-spacerun:yes'> </span>Монета TON Coin </span></b></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Основной криптовалютой блокчейна TON и, в
частности, его мастерчейна и основного воркчейна, является TON Coin. TON Coin
используется для внесения депозитов, необходимых для того, чтобы стать
валидатором; комиссии за транзакции, платежи за газ (т. е. сборы за обработку
сообщений смарт-контрактов) и платежи за постоянное хранение также обычно
собираются в TON Coin. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>A.1. Подгруппы и соответствующая
терминология. TON Coin подразделяется на один миллиард (10<sup>9</sup>) единиц
меньшего размера, называемых нанотонами, нтонами или просто нано. Все переводы
и остатки на счетах выражаются в виде неотрицательных целых чисел, кратных
нано. Другие единицы включают в себя: </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.3pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Нано, нтон или нанотона —
наименьшая единица, равная 10<sup>-9</sup> монетам TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Микро или микротон равняется
одной тысяче (10<sup>3</sup>) нано. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.3pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Милли — это один миллион (10<sup>6</sup>)
нано или одна тысячная часть (10<sup>-3</sup>) монеты TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:2.3pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Монета TON равняется одному
миллиарду (10<sup>9</sup>) нано. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.7pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Килотон, или kTon, равняется
одной тысяче (10<sup>3</sup>) монет TON. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.9pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Мегатон, или МТон, равняется
одному миллиону (10<sup>6</sup>) монет TON, или 10<sup>15</sup> нано. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:36.05pt;text-indent:-18.0pt;mso-list:l4 level1 lfo22'><![if !supportLists]><span
lang=EN-US><span style='mso-list:Ignore'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Наконец, гигатон, или GTon,
равняется одному миллиарду (10<sup>9</sup>) монет TON, или 10<sup>18</sup>
нано. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:1.5pt;
margin-left:-.25pt'><span lang=EN-US>Необходимость в более крупных единицах
будет отсутствовать, поскольку первоначальный запас монет TON будет ограничен
пятью миллиардами (5 • 10<sup>9</sup>) монет TON (то есть 5 гигатон). </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>А.2.
Меньшие единицы для выражения цен на газ</span></b><span lang=EN-US>. Если
возникнет необходимость в более мелких единицах, будут использоваться «спеки»
размером от 2<sup>-16</sup> нанотон. Например, цены на газ могут быть указаны в
спеках. Однако фактическая плата, подлежащая уплате, вычисляемая как
произведение цены на газ и количества потребленного газа, всегда будет
округляться до ближайшего числа, кратного 2<sup>16</sup>, и выражаться целым
числом нано. </span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.5pt;margin-left:0cm;text-align:left;text-indent:0cm;line-height:
107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US>А.3.
Первоначальное предложение, вознаграждение за майнинг и инфляция</span></b><span
lang=EN-US>. Общее количество монет TON Coin изначально ограничено 5 гигатонами
(то есть пятью миллиардами монет TON Coin или 5 • 10<sup>18</sup> нано). </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Это предложение будет увеличиваться очень
медленно по мере накопления вознаграждений валидаторам за майнинг новых блоков
мастерчейна и шардчейна. Эти вознаграждения будут составлять примерно 20%
(точное число может быть изменено в будущем) от доли валидатора в год при
условии, что валидатор старательно выполняет свои обязанности, подписывает все
блоки, никогда не переходит в автономный режим и никогда не подписывает
недействительные блоки. Таким образом, валидаторы получат достаточно прибыли,
чтобы инвестировать в лучшее и более быстрое оборудование, необходимое для
обработки постоянно растущего количества транзакций пользователей. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>Мы ожидаем, что не более 10%<sup>35</sup>
от общего количества монет TON Coin, в среднем, будет привязано к стейкам
валидаторов в любой момент времени. Это приведет к росту инфляции в 2% в год и,
как следствие, удвоит общее предложение монет TON Coin (до десяти гигатон)
через 35 лет.<span style='mso-spacerun:yes'>  </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.15pt;margin-bottom:.2pt;
margin-left:-.25pt;line-height:122%'><sup><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>35</span></sup><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:122%'>
Максимальная общая сумма стейков валидаторов является настраиваемым параметром
блокчейна, поэтому при необходимости это ограничение может быть применено в
рамках протокола. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>По сути, эта инфляция представляет собой
платеж, производимый всеми членами сообщества валидаторам за поддержание
системы в рабочем состоянии. </span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:.4pt;margin-bottom:.25pt;
margin-left:-.25pt'><span lang=EN-US>С другой стороны, если валидатор будет
уличен в некорректном поведении, часть или весь его стейк будет снят в качестве
наказания, а большая часть впоследствии будет «сожжена», что приведет к
уменьшению общего количества монет TON Coin. Это приведет к дефляции. Меньшая
часть штрафа может быть передана валидатору или «фишермену», который
предоставил доказательство некорректного поведения виновного валидатора. </span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin:0cm;text-align:left;text-indent:
0cm;line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=left style='margin-top:0cm;margin-right:0cm;
margin-bottom:1.05pt;margin-left:0cm;text-align:left;text-indent:0cm;
line-height:107%'><span lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.4pt;
margin-bottom:0cm;margin-left:.5pt;text-align:center;line-height:107%'><span
lang=EN-US>Вы так же можете оставить благодарность за перевод по адресу: </span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:.3pt;
margin-bottom:0cm;margin-left:0cm;text-align:center;text-indent:0cm;line-height:
107%'><span lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:107%;font-family:"Sylfaen",serif;mso-fareast-font-family:Sylfaen;
mso-bidi-font-family:Sylfaen'>EQCLk1384-rYMhauBsAT36YABMN5yOTNbgM29THdANTW4-qK</span><span
lang=EN-US style='font-size:10.0pt;mso-bidi-font-size:12.0pt;line-height:107%'>
</span></p>

<p class=MsoNormal align=center style='margin-top:0cm;margin-right:0cm;
margin-bottom:0cm;margin-left:2.55pt;text-align:center;text-indent:0cm;
line-height:107%'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_18297" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:180pt;
 height:178pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="ton_whitepaper_ru.fld/image033.jpg" o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=180 height=178
src="ton_whitepaper_ru.fld/image033.jpg" v:shapes="Picture_x0020_18297"><![endif]></span><span
lang=EN-US><span style='mso-spacerun:yes'> </span></span></p>

</div>

<div style='mso-element:footnote-list'><![if !supportFootnotes]><br clear=all>

<hr align=left size=1 width="33%">

<![endif]>

<div style='mso-element:footnote' id=ftn1>

<p class=footnotedescription style='margin-top:0cm;margin-right:.55pt;
margin-bottom:1.15pt;margin-left:0cm;line-height:104%'><a style='mso-footnote-id:
ftn1' href="#_ftnref1" name="_ftn1" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[1]</span></span><![endif]></span></span></a> Можно показать, что это
кодирование оптимально примерно для половины всех меток ребер дерева Patricia
со случайными или последовательными индексами. Остальные граничные метки,
вероятно, будут длинными (т. е. длиной почти 256 бит). Следовательно, почти
оптимальным кодированием для граничных меток является использование приведенного
выше кода с префиксом 0 для «коротких» битовых строк и кодирование 1, а затем
девять битов, содержащих длину l = |s| битовой строки s, а затем l битов s для
«длинных» битовых строк (l ≤ 10). </p>

</div>

<div style='mso-element:footnote' id=ftn2>

<p class=footnotedescription style='margin-top:0cm;margin-right:.6pt;
margin-bottom:.95pt;margin-left:0cm;line-height:106%'><a style='mso-footnote-id:
ftn2' href="#_ftnref2" name="_ftn2" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[2]</span></span><![endif]></span></span></a> Неполная нода - это узел,
который не отслеживает полное состояние шардчейна; вместо этого он сохраняет
минимальную информацию, такую как хэши нескольких самых последних блоков, и
полагается на информацию, полученную от полных нод, когда возникает
необходимость проверить некоторые части полного состояния. </p>

</div>

<div style='mso-element:footnote' id=ftn3>

<p class=footnotedescription style='line-height:107%'><a style='mso-footnote-id:
ftn3' href="#_ftnref3" name="_ftn3" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[3]</span></span><![endif]></span></span></a> Полная нода - это узел,
отслеживающий полное актуальное состояние рассматриваемого шардчейна. </p>

</div>

<div style='mso-element:footnote' id=ftn4>

<p class=footnotedescription style='line-height:126%'><a style='mso-footnote-id:
ftn4' href="#_ftnref4" name="_ftn4" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[4]</span></span><![endif]></span></span></a> Вышеупомянутое должно быть
верным только для исходного воркчейна и соответствующих шардчейнов. Другие
воркчейны могут предоставлять другие способы создания сообщений. </p>

</div>

<div style='mso-element:footnote' id=ftn5>

<p class=footnotedescription align=left style='text-align:left;line-height:
107%'><a style='mso-footnote-id:ftn5' href="#_ftnref5" name="_ftn5" title=""><span
class=footnotemark><span style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[5]</span></span><![endif]></span></span></a> Имеет смысл генерировать и
использовать новую пару ключей при каждом подборе валидаторов<span
style='font-size:12.0pt;line-height:107%'>. </span></p>

<p class=footnotedescription align=left style='text-align:left;line-height:
107%'><span style='font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></p>

</div>

<div style='mso-element:footnote' id=ftn6>

<p class=footnotedescription style='margin-top:0cm;margin-right:.8pt;
margin-bottom:.4pt;margin-left:0cm;line-height:112%'><a style='mso-footnote-id:
ftn6' href="#_ftnref6" name="_ftn6" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[6]</span></span><![endif]></span></span></a> Возможным исключением
является состояние выходных очередей соседних шардчейнов, необходимое для
обеспечения требований к порядку сообщений, описанных в 2.4.21, поскольку в
этом случае размер доказательств Меркла может стать непомерно высоким. </p>

<p class=footnotedescription align=left style='text-align:left;line-height:
107%'><span style='font-size:12.0pt;line-height:107%'><span
style='mso-spacerun:yes'> </span></span></p>

</div>

<div style='mso-element:footnote' id=ftn7>

<p class=footnotedescription style='line-height:126%'><a style='mso-footnote-id:
ftn7' href="#_ftnref7" name="_ftn7" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[7]</span></span><![endif]></span></span></a> На самом деле конфигурация
шарда полностью определяется последним блоком мастерчейна; это упрощает
получение доступа к конфигурации шарда. </p>

</div>

<div style='mso-element:footnote' id=ftn8>

<p class=footnotedescription style='line-height:126%'><a style='mso-footnote-id:
ftn8' href="#_ftnref8" name="_ftn8" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[8]</span></span><![endif]></span></span></a> Если некоторые валидаторы
будут временно или навсегда забанены из-за подписания невалидных блоков, то они
автоматически исключаются из всех групп задач.<span style='mso-spacerun:yes'> 
</span></p>

</div>

<div style='mso-element:footnote' id=ftn9>

<p class=footnotedescription style='line-height:126%'><a style='mso-footnote-id:
ftn9' href="#_ftnref9" name="_ftn9" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[9]</span></span><![endif]></span></span></a> Скорее, на данный момент
это значение составляет 15. Тем не менее, планируются некоторые обновления,
чтобы увеличить пропускную способность транзакций Ethereum в несколько раз </p>

</div>

<div style='mso-element:footnote' id=ftn10>

<p class=footnotedescription style='margin-top:0cm;margin-right:.75pt;
margin-bottom:.05pt;margin-left:0cm;line-height:111%'><a style='mso-footnote-id:
ftn10' href="#_ftnref10" name="_ftn10" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[10]</span></span><![endif]></span></span></a> Например, в проекте
Plasma планируется использование блокчейна Ethereum в качестве (внешнего)
мастерчейна; в противном случае он мало взаимодействует с Ethereum, и он мог
быть предложен и реализован командой, не связанной с проектом Ethereum. </p>

</div>

<div style='mso-element:footnote' id=ftn11>

<p class=footnotedescription style='line-height:124%'><a style='mso-footnote-id:
ftn11' href="#_ftnref11" name="_ftn11" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[11]</span></span><![endif]></span></span></a> По состоянию на 2017 год
Ethereum все еще пытается перейти от PoW к комбинированной системе PoW+PoS; мы
надеемся, что когда-нибудь Ethereum станет настоящей системой PoS. </p>

</div>

<div style='mso-element:footnote' id=ftn12>

<p class=footnotedescription style='margin-right:.65pt'><a style='mso-footnote-id:
ftn12' href="#_ftnref12" name="_ftn12" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[12]</span></span><![endif]></span></span></a> Предложения по шардингу в
Ethereum появились еще в 2015 году; неясно, как их можно реализовать и
развернуть, не нарушая работы Ethereum и не создавая по существу независимого
параллельного проекта. </p>

</div>

<div style='mso-element:footnote' id=ftn13>

<p class=footnotedescription align=left style='text-align:left;line-height:
107%'><a style='mso-footnote-id:ftn13' href="#_ftnref13" name="_ftn13" title=""><span
class=footnotemark><span style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[13]</span></span><![endif]></span></span></a>
https://blog.ethereum.org/2015/08/01/introducing-casper-friendly-ghost/ </p>

</div>

<div style='mso-element:footnote' id=ftn14>

<p class=footnotedescription style='line-height:126%'><a style='mso-footnote-id:
ftn14' href="#_ftnref14" name="_ftn14" title=""><span class=footnotemark><span
style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[14]</span></span><![endif]></span></span></a> Если в сегменте
достаточно много узлов, его можно дополнительно разделить, скажем, на восемь
подсегментов в зависимости от четырех старших битов расстояния Kademlia. Это
ускорит поиск DHT. </p>

</div>

<div style='mso-element:footnote' id=ftn15>

<p class=footnotedescription align=left style='text-align:left;line-height:
107%'><a style='mso-footnote-id:ftn15' href="#_ftnref15" name="_ftn15" title=""><span
class=footnotemark><span style='mso-special-character:footnote'><![if !supportFootnotes]><span
class=footnotemark><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
line-height:105%;mso-ansi-language:#0C00;mso-fareast-language:RU;mso-bidi-language:
AR-SA'>[15]</span></span><![endif]></span></span></a> TL-схемы сами могут быть
TL-сериализированы; см. https://core.telegram.org/mtproto/TL-tl </p>

</div>

</div>

</body>

</html>
